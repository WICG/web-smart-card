<!DOCTYPE html><html lang="en" dir="ltr"><head>
<meta charset="utf-8">
<meta name="generator" content="ReSpec 34.1.6">
<meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
<style>
.issue-label{text-transform:initial}
.warning>p:first-child{margin-top:0}
.warning{padding:.5em;border-left-width:.5em;border-left-style:solid}
span.warning{padding:.1em .5em .15em}
.issue.closed span.issue-number{text-decoration:line-through}
.issue.closed span.issue-number::after{content:" (Closed)";font-size:smaller}
.warning{border-color:#f11;border-width:.2em;border-style:solid;background:#fbe9e9}
.warning-title:before{content:"⚠";font-size:1.3em;float:left;padding-right:.3em;margin-top:-.3em}
li.task-list-item{list-style:none}
input.task-list-item-checkbox{margin:0 .35em .25em -1.6em;vertical-align:middle}
.issue a.respec-gh-label{padding:5px;margin:0 2px 0 2px;font-size:10px;text-transform:none;text-decoration:none;font-weight:700;border-radius:4px;position:relative;bottom:2px;border:none;display:inline-block}
</style>
<style>
pre.idl{padding:1em;position:relative}
pre.idl>code{color:#000}
@media print{
pre.idl{white-space:pre-wrap}
}
.idlHeader{display:block;width:150px;background:#8ccbf2;color:#fff;font-family:sans-serif;font-weight:700;margin:-1em 0 1em -1em;height:28px;line-height:28px}
.idlHeader a.self-link{margin-left:.3cm;text-decoration:none;border-bottom:none}
.idlID{font-weight:700;color:#005a9c}
.idlType{color:#005a9c}
.idlName{color:#ff4500}
.idlName a{color:#ff4500;border-bottom:1px dotted #ff4500;text-decoration:none}
a.idlEnumItem{color:#000;border-bottom:1px dotted #ccc;text-decoration:none}
.idlSuperclass{font-style:italic;color:#005a9c}
.idlDefaultValue,.idlParamName{font-style:italic}
.extAttr{color:#666}
.idlSectionComment{color:gray}
.idlIncludes a{font-weight:700}
.respec-button-copy-paste:focus{text-decoration:none;border-color:#51a7e8;outline:0;box-shadow:0 0 5px rgba(81,167,232,.5)}
.respec-button-copy-paste:is(:focus:hover,.selected:focus){border-color:#51a7e8}
.respec-button-copy-paste:is(:hover,:active,.zeroclipboard-is-hover,.zeroclipboard-is-active){text-decoration:none;background-color:#ddd;background-image:linear-gradient(#eee,#ddd);border-color:#ccc}
.respec-button-copy-paste:is(:active,.selected,.zeroclipboard-is-active){background-color:#dcdcdc;background-image:none;border-color:#b5b5b5;box-shadow:inset 0 2px 4px rgba(0,0,0,.15)}
.respec-button-copy-paste.selected:hover{background-color:#cfcfcf}
.respec-button-copy-paste:is(:disabled,:disabled:hover,.disabled,.disabled:hover){color:rgba(102,102,102,.5);cursor:default;background-color:rgba(229,229,229,.5);background-image:none;border-color:rgba(197,197,197,.5);box-shadow:none}
@media print{
.respec-button-copy-paste{visibility:hidden}
}
</style>
<style>
dfn{cursor:pointer}
.dfn-panel{position:absolute;z-index:35;min-width:300px;max-width:500px;padding:.5em .75em;margin-top:.6em;font-family:"Helvetica Neue",sans-serif;font-size:small;background:#fff;color:#000;box-shadow:0 1em 3em -.4em rgba(0,0,0,.3),0 0 1px 1px rgba(0,0,0,.05);border-radius:2px}
.dfn-panel:not(.docked)>.caret{position:absolute;top:-9px}
.dfn-panel:not(.docked)>.caret::after,.dfn-panel:not(.docked)>.caret::before{content:"";position:absolute;border:10px solid transparent;border-top:0;border-bottom:10px solid #fff;top:0}
.dfn-panel:not(.docked)>.caret::before{border-bottom:9px solid #a2a9b1}
.dfn-panel *{margin:0}
.dfn-panel b{display:block;color:#000;margin-top:.25em}
.dfn-panel ul a[href]{color:#333}
.dfn-panel>div{display:flex}
.dfn-panel a.self-link{font-weight:700;margin-right:auto}
.dfn-panel .marker{padding:.1em;margin-left:.5em;border-radius:.2em;text-align:center;white-space:nowrap;font-size:90%;color:#040b1c}
.dfn-panel .marker.dfn-exported{background:#d1edfd;box-shadow:0 0 0 .125em #1ca5f940}
.dfn-panel .marker.idl-block{background:#8ccbf2;box-shadow:0 0 0 .125em #0670b161}
.dfn-panel a:not(:hover){text-decoration:none!important;border-bottom:none!important}
.dfn-panel a[href]:hover{border-bottom-width:1px}
.dfn-panel ul{padding:0}
.dfn-panel li{margin-left:1em}
.dfn-panel.docked{position:fixed;left:.5em;top:unset;bottom:2em;margin:0 auto;max-width:calc(100vw - .75em * 2 - .5em - .2em * 2);max-height:30vh;overflow:auto}
</style>
    
    
    
  
<style id="respec-mainstyle">
@keyframes pop{
0%{transform:scale(1,1)}
25%{transform:scale(1.25,1.25);opacity:.75}
100%{transform:scale(1,1)}
}
:is(h1,h2,h3,h4,h5,h6,a) abbr{border:none}
dfn{font-weight:700}
a.internalDFN{color:inherit;border-bottom:1px solid #99c;text-decoration:none}
a.externalDFN{color:inherit;border-bottom:1px dotted #ccc;text-decoration:none}
a.bibref{text-decoration:none}
.respec-offending-element:target{animation:pop .25s ease-in-out 0s 1}
.respec-offending-element,a[href].respec-offending-element{text-decoration:red wavy underline}
@supports not (text-decoration:red wavy underline){
.respec-offending-element:not(pre){display:inline-block}
.respec-offending-element{background:url(data:image/gif;base64,R0lGODdhBAADAPEAANv///8AAP///wAAACwAAAAABAADAEACBZQjmIAFADs=) bottom repeat-x}
}
#references :target{background:#eaf3ff;animation:pop .4s ease-in-out 0s 1}
cite .bibref{font-style:normal}
a[href].orcid{padding-left:4px;padding-right:4px}
a[href].orcid>svg{margin-bottom:-2px}
.toc a,.tof a{text-decoration:none}
a .figno,a .secno{color:#000}
ol.tof,ul.tof{list-style:none outside none}
.caption{margin-top:.5em;font-style:italic}
table.simple{border-spacing:0;border-collapse:collapse;border-bottom:3px solid #005a9c}
.simple th{background:#005a9c;color:#fff;padding:3px 5px;text-align:left}
.simple th a{color:#fff;padding:3px 5px;text-align:left}
.simple th[scope=row]{background:inherit;color:inherit;border-top:1px solid #ddd}
.simple td{padding:3px 10px;border-top:1px solid #ddd}
.simple tr:nth-child(even){background:#f0f6ff}
.section dd>p:first-child{margin-top:0}
.section dd>p:last-child{margin-bottom:0}
.section dd{margin-bottom:1em}
.section dl.attrs dd,.section dl.eldef dd{margin-bottom:0}
#issue-summary>ul{column-count:2}
#issue-summary li{list-style:none;display:inline-block}
details.respec-tests-details{margin-left:1em;display:inline-block;vertical-align:top}
details.respec-tests-details>*{padding-right:2em}
details.respec-tests-details[open]{z-index:999999;position:absolute;border:thin solid #cad3e2;border-radius:.3em;background-color:#fff;padding-bottom:.5em}
details.respec-tests-details[open]>summary{border-bottom:thin solid #cad3e2;padding-left:1em;margin-bottom:1em;line-height:2em}
details.respec-tests-details>ul{width:100%;margin-top:-.3em}
details.respec-tests-details>li{padding-left:1em}
.self-link:hover{opacity:1;text-decoration:none;background-color:transparent}
aside.example .marker>a.self-link{color:inherit}
.header-wrapper{display:flex;align-items:baseline}
:is(h2,h3,h4,h5,h6):not(#toc>h2,#abstract>h2,#sotd>h2,.head>h2){position:relative;left:-.5em}
:is(h2,h3,h4,h5,h6):not(#toch2)+a.self-link{color:inherit;order:-1;position:relative;left:-1.1em;font-size:1rem;opacity:.5}
:is(h2,h3,h4,h5,h6)+a.self-link::before{content:"§";text-decoration:none;color:var(--heading-text)}
:is(h2,h3)+a.self-link{top:-.2em}
:is(h4,h5,h6)+a.self-link::before{color:#000}
@media (max-width:767px){
dd{margin-left:0}
}
@media print{
.removeOnSave{display:none}
}
</style>
<title>Web Smart Card API</title>
<meta name="description" content="The objective of this API is to enable smart card (PC/SC) applications
        to move to the Web Platform. It gives them access to the PC/SC
        implementation (and card reader drivers) available in the host OS.

        There is also a companion explainer document.">
<style>
var{position:relative;cursor:pointer}
var[data-type]::after,var[data-type]::before{position:absolute;left:50%;top:-6px;opacity:0;transition:opacity .4s;pointer-events:none}
var[data-type]::before{content:"";transform:translateX(-50%);border-width:4px 6px 0 6px;border-style:solid;border-color:transparent;border-top-color:#000}
var[data-type]::after{content:attr(data-type);transform:translateX(-50%) translateY(-100%);background:#000;text-align:center;font-family:"Dank Mono","Fira Code",monospace;font-style:normal;padding:6px;border-radius:3px;color:#daca88;text-indent:0;font-weight:400}
var[data-type]:hover::after,var[data-type]:hover::before{opacity:1}
</style>
<script id="initialUserConfig" type="application/json">{
  "group": "wicg",
  "specStatus": "unofficial",
  "editors": [
    {
      "name": "Daniel d'Andrada",
      "company": "Google",
      "companyURL": "https://google.com/",
      "mailto": "dandrader@google.com",
      "url": "mailto:dandrader@google.com"
    }
  ],
  "github": {
    "branch": "main",
    "repoURL": "WICG/web-smart-card"
  },
  "xref": [
    "dom",
    "hr-time-3",
    "html",
    "infra",
    "permissions-policy",
    "webidl"
  ],
  "publishISODate": "2023-08-28T00:00:00.000Z",
  "generatedSubtitle": "Unofficial Draft 28 August 2023"
}</script>
<link rel="stylesheet" href="https://www.w3.org/StyleSheets/TR/2021/W3C-UD"></head>
  <body class="h-entry" data-cite="WEBIDL dom hr-time-3 html infra permissions-policy webidl"><div class="head">
    
    <h1 id="title" class="title">Web Smart Card API</h1> 
    <p id="w3c-state">Unofficial Draft <time class="dt-published" datetime="2023-08-28">28 August 2023</time></p>
    <details open="">
      <summary>More details about this document</summary>
      <dl>
        
        <dt>Latest published version:</dt><dd>
                <a href="https://www.w3.org/web-smart-card/">https://www.w3.org/web-smart-card/</a>
              </dd>
        <dt>Latest editor's draft:</dt><dd><a href="https://wicg.github.io/web-smart-card/">https://wicg.github.io/web-smart-card/</a></dd>
        <dt>History:</dt><dd>
                    <a href="https://github.com/WICG/web-smart-card/commits/main">Commit history</a>
                  </dd>
        
        
        
        
        
        <dt>Editor:</dt><dd class="editor p-author h-card vcard">
    <a class="ed_mailto u-email email p-name" href="mailto:dandrader@google.com">Daniel d'Andrada</a> (<a class="p-org org h-org" href="https://google.com/">Google</a>)
  </dd>
        
        
        <dt>Feedback:</dt><dd>
        <a href="https://github.com/WICG/web-smart-card/">GitHub WICG/web-smart-card</a>
        (<a href="https://github.com/WICG/web-smart-card/pulls/">pull requests</a>,
        <a href="https://github.com/WICG/web-smart-card/issues/new/choose">new issue</a>,
        <a href="https://github.com/WICG/web-smart-card/issues/">open issues</a>)
      </dd>
        
        
      </dl>
    </details>
    
    
    <p class="copyright">
      Copyright ©
      2023
      the document editors/authors.
      Text is available under the
            <a rel="license" href="https://creativecommons.org/licenses/by/4.0/legalcode">Creative Commons Attribution 4.0 International Public License</a>; additional terms may apply.
    </p>
    <hr title="Separator for header">
  </div>
    
    <section id="abstract" class="introductory"><h2>Abstract</h2>
      <p>
        The objective of this API is to enable smart card (PC/SC) applications
        to move to the Web Platform. It gives them access to the PC/SC
        implementation (and card reader drivers) available in the host OS.

        There is also a companion <a href="https://github.com/WICG/web-smart-card/blob/main/README.md">explainer</a> document.
    </p></section>
      <p></p>
    
    <section id="sotd" class="introductory"><h2>Status of This Document</h2><p>
      This document is a draft of a potential specification. It has no official
      standing of any kind and does not represent the support or consensus of
      any standards organization.
    </p>
      
    </section><nav id="toc"><h2 class="introductory" id="table-of-contents">Table of Contents</h2><ol class="toc"><li class="tocline"><a class="tocxref" href="#abstract">Abstract</a></li><li class="tocline"><a class="tocxref" href="#sotd">Status of This Document</a></li><li class="tocline"><a class="tocxref" href="#extensions-to-the-navigator-interface"><bdi class="secno">1. </bdi>Extensions to the <span data-xref-type="_IDL_" data-link-type="idl" data-lt="Navigator" data-cite="html" data-cite-path="/system-state.html" data-cite-frag="navigator" data-type="interface" class="formerLink"><code>Navigator</code></span> interface</a><ol class="toc"><li class="tocline"><a class="tocxref" href="#smartcard-attribute"><bdi class="secno">1.1 </bdi><span data-export="" data-dfn-type="attribute" data-idl="attribute" data-title="smartCard" data-dfn-for="Navigator" data-type="SmartCardResourceManager" data-lt="smartCard" data-local-lt="Navigator.smartCard"><code>smartCard</code></span> attribute</a></li></ol></li><li class="tocline"><a class="tocxref" href="#extensions-to-the-workernavigator-interface"><bdi class="secno">2. </bdi>Extensions to the <span data-xref-type="_IDL_" data-link-type="idl" data-lt="WorkerNavigator" data-cite="html" data-cite-path="/workers.html" data-cite-frag="workernavigator" data-type="interface" class="formerLink"><code>WorkerNavigator</code></span> interface</a><ol class="toc"><li class="tocline"><a class="tocxref" href="#smartcard-attribute-0"><bdi class="secno">2.1 </bdi><span data-export="" data-dfn-type="attribute" data-idl="attribute" data-title="smartCard" data-dfn-for="WorkerNavigator" data-type="SmartCardResourceManager" data-lt="smartCard" data-local-lt="WorkerNavigator.smartCard"><code>smartCard</code></span> attribute</a></li></ol></li><li class="tocline"><a class="tocxref" href="#smartcardresourcemanager-interface"><bdi class="secno">3. </bdi><span data-export="" data-dfn-type="interface" data-idl="interface" data-title="SmartCardResourceManager" data-dfn-for=""><code>SmartCardResourceManager</code></span> interface</a><ol class="toc"><li class="tocline"><a class="tocxref" href="#establishcontext-method"><bdi class="secno">3.1 </bdi><span data-export="" data-dfn-type="method" data-idl="operation" data-title="establishContext()" data-dfn-for="SmartCardResourceManager" data-type="Promise" data-lt="establishContext()" data-local-lt="SmartCardResourceManager.establishContext|SmartCardResourceManager.establishContext()|establishContext"><code>establishContext()</code></span> method</a></li></ol></li><li class="tocline"><a class="tocxref" href="#smartcardcontext-interface"><bdi class="secno">4. </bdi><span data-export="" data-dfn-type="interface" data-idl="interface" data-title="SmartCardContext" data-dfn-for=""><code>SmartCardContext</code></span> interface</a><ol class="toc"><li class="tocline"><a class="tocxref" href="#listreaders-method"><bdi class="secno">4.1 </bdi><span data-export="" data-dfn-type="method" data-idl="operation" data-title="listReaders()" data-dfn-for="SmartCardContext" data-type="Promise" data-lt="listReaders()" data-local-lt="SmartCardContext.listReaders|SmartCardContext.listReaders()|listReaders"><code>listReaders()</code></span> method</a></li><li class="tocline"><a class="tocxref" href="#getstatuschange-method"><bdi class="secno">4.2 </bdi><span data-export="" data-dfn-type="method" data-idl="operation" data-title="getStatusChange()" data-dfn-for="SmartCardContext" data-type="Promise" data-lt="getStatusChange()|getStatusChange(readerStates)|getStatusChange(readerStates, options)" data-local-lt="SmartCardContext.getStatusChange|SmartCardContext.getStatusChange()|getStatusChange"><code>getStatusChange()</code></span> method</a><ol class="toc"><li class="tocline"><a class="tocxref" href="#smartcardreaderstatein-dictionary"><bdi class="secno">4.2.1 </bdi><span data-export="" data-dfn-type="dictionary" data-idl="dictionary" data-title="SmartCardReaderStateIn" data-dfn-for=""><code>SmartCardReaderStateIn</code></span> dictionary</a><ol class="toc"><li class="tocline"><a class="tocxref" href="#smartcardreaderstateflagsin-dictionary"><bdi class="secno">4.2.1.1 </bdi><span data-export="" data-dfn-type="dictionary" data-idl="dictionary" data-title="SmartCardReaderStateFlagsIn" data-dfn-for=""><code>SmartCardReaderStateFlagsIn</code></span> dictionary</a></li></ol></li><li class="tocline"><a class="tocxref" href="#smartcardreaderstateout-dictionary"><bdi class="secno">4.2.2 </bdi><span data-export="" data-dfn-type="dictionary" data-idl="dictionary" data-title="SmartCardReaderStateOut" data-dfn-for=""><code>SmartCardReaderStateOut</code></span> dictionary</a><ol class="toc"><li class="tocline"><a class="tocxref" href="#smartcardreaderstateflagsout-dictionary"><bdi class="secno">4.2.2.1 </bdi><span data-export="" data-dfn-type="dictionary" data-idl="dictionary" data-title="SmartCardReaderStateFlagsOut" data-dfn-for=""><code>SmartCardReaderStateFlagsOut</code></span> dictionary</a></li></ol></li><li class="tocline"><a class="tocxref" href="#smartcardgetstatuschangeoptions-dictionary"><bdi class="secno">4.2.3 </bdi><span data-export="" data-dfn-type="dictionary" data-idl="dictionary" data-title="SmartCardGetStatusChangeOptions" data-dfn-for=""><code>SmartCardGetStatusChangeOptions</code></span> dictionary</a></li></ol></li><li class="tocline"><a class="tocxref" href="#connect-method"><bdi class="secno">4.3 </bdi><span data-export="" data-dfn-type="method" data-idl="operation" data-title="connect()" data-dfn-for="SmartCardContext" data-type="Promise" data-lt="connect()|connect(readerName, accessMode)|connect(readerName, accessMode, options)" data-local-lt="SmartCardContext.connect|SmartCardContext.connect()|connect"><code>connect()</code></span> method</a><ol class="toc"><li class="tocline"><a class="tocxref" href="#smartcardprotocol-enum"><bdi class="secno">4.3.1 </bdi><span data-export="" data-dfn-type="enum" data-idl="enum" data-title="SmartCardProtocol" data-dfn-for=""><code>SmartCardProtocol</code></span> enum</a></li><li class="tocline"><a class="tocxref" href="#smartcardconnectresult-dictionary"><bdi class="secno">4.3.2 </bdi><span data-export="" data-dfn-type="dictionary" data-idl="dictionary" data-title="SmartCardConnectResult" data-dfn-for=""><code>SmartCardConnectResult</code></span> dictionary</a></li><li class="tocline"><a class="tocxref" href="#smartcardaccessmode-enum"><bdi class="secno">4.3.3 </bdi><span data-export="" data-dfn-type="enum" data-idl="enum" data-title="SmartCardAccessMode" data-dfn-for=""><code>SmartCardAccessMode</code></span> enum</a></li><li class="tocline"><a class="tocxref" href="#smartcardconnectoptions-enum"><bdi class="secno">4.3.4 </bdi><span data-export="" data-dfn-type="dictionary" data-idl="dictionary" data-title="SmartCardConnectOptions" data-dfn-for=""><code>SmartCardConnectOptions</code></span> enum</a></li></ol></li><li class="tocline"><a class="tocxref" href="#auxiliary-algorithms-and-definitions"><bdi class="secno">4.4 </bdi>Auxiliary algorithms and definitions</a></li></ol></li><li class="tocline"><a class="tocxref" href="#smartcardconnection-interface"><bdi class="secno">5. </bdi><span data-export="" data-dfn-type="interface" data-idl="interface" data-title="SmartCardConnection" data-dfn-for=""><code>SmartCardConnection</code></span> interface</a><ol class="toc"><li class="tocline"><a class="tocxref" href="#disconnect-method"><bdi class="secno">5.1 </bdi><span data-export="" data-dfn-type="method" data-idl="operation" data-title="disconnect()" data-dfn-for="SmartCardConnection" data-type="Promise" data-lt="disconnect()|disconnect(disposition)" data-local-lt="SmartCardConnection.disconnect|SmartCardConnection.disconnect()|disconnect"><code>disconnect()</code></span> method</a><ol class="toc"><li class="tocline"><a class="tocxref" href="#smartcarddisposition-enum"><bdi class="secno">5.1.1 </bdi><span data-export="" data-dfn-type="enum" data-idl="enum" data-title="SmartCardDisposition" data-dfn-for=""><code>SmartCardDisposition</code></span> enum</a></li></ol></li><li class="tocline"><a class="tocxref" href="#transmit-method"><bdi class="secno">5.2 </bdi><span data-export="" data-dfn-type="method" data-idl="operation" data-title="transmit()" data-dfn-for="SmartCardConnection" data-type="Promise" data-lt="transmit()|transmit(sendBuffer)|transmit(sendBuffer, options)" data-local-lt="SmartCardConnection.transmit|SmartCardConnection.transmit()|transmit"><code>transmit()</code></span> method</a><ol class="toc"><li class="tocline"><a class="tocxref" href="#smartcardtransmitoptions-dictionary"><bdi class="secno">5.2.1 </bdi><span data-export="" data-dfn-type="dictionary" data-idl="dictionary" data-title="SmartCardTransmitOptions" data-dfn-for=""><code>SmartCardTransmitOptions</code></span> dictionary</a></li></ol></li><li class="tocline"><a class="tocxref" href="#starttransaction-method"><bdi class="secno">5.3 </bdi><span data-export="" data-dfn-type="method" data-idl="operation" data-title="startTransaction()" data-dfn-for="SmartCardConnection" data-type="Promise" data-lt="startTransaction()|startTransaction(transaction)|startTransaction(transaction, options)" data-local-lt="SmartCardConnection.startTransaction|SmartCardConnection.startTransaction()|startTransaction"><code>startTransaction()</code></span> method</a><ol class="toc"><li class="tocline"><a class="tocxref" href="#smartcardtransactionoptions-dictionary"><bdi class="secno">5.3.1 </bdi><span data-export="" data-dfn-type="dictionary" data-idl="dictionary" data-title="SmartCardTransactionOptions" data-dfn-for=""><code>SmartCardTransactionOptions</code></span> dictionary</a></li><li class="tocline"><a class="tocxref" href="#auxiliary-algorithms-and-definitions-0"><bdi class="secno">5.3.2 </bdi>Auxiliary algorithms and definitions</a></li></ol></li><li class="tocline"><a class="tocxref" href="#status-method"><bdi class="secno">5.4 </bdi><span data-export="" data-dfn-type="method" data-idl="operation" data-title="status()" data-dfn-for="SmartCardConnection" data-type="Promise" data-lt="status()" data-local-lt="SmartCardConnection.status|SmartCardConnection.status()|status"><code>status()</code></span> method</a><ol class="toc"><li class="tocline"><a class="tocxref" href="#smartcardconnectionstatus-dictionary"><bdi class="secno">5.4.1 </bdi><span data-export="" data-dfn-type="dictionary" data-idl="dictionary" data-title="SmartCardConnectionStatus" data-dfn-for=""><code>SmartCardConnectionStatus</code></span> dictionary</a><ol class="toc"><li class="tocline"><a class="tocxref" href="#smartcardconnectionstate-enum"><bdi class="secno">5.4.1.1 </bdi><span data-export="" data-dfn-type="enum" data-idl="enum" data-title="SmartCardConnectionState" data-dfn-for=""><code>SmartCardConnectionState</code></span> enum</a></li></ol></li></ol></li><li class="tocline"><a class="tocxref" href="#control-method"><bdi class="secno">5.5 </bdi><span data-export="" data-dfn-type="method" data-idl="operation" data-title="control()" data-dfn-for="SmartCardConnection" data-type="Promise" data-lt="control()|control(controlCode, data)" data-local-lt="SmartCardConnection.control|SmartCardConnection.control()|control"><code>control()</code></span> method</a></li><li class="tocline"><a class="tocxref" href="#getattribute-method"><bdi class="secno">5.6 </bdi><span data-export="" data-dfn-type="method" data-idl="operation" data-title="getAttribute()" data-dfn-for="SmartCardConnection" data-type="Promise" data-lt="getAttribute()|getAttribute(tag)" data-local-lt="SmartCardConnection.getAttribute|SmartCardConnection.getAttribute()|getAttribute"><code>getAttribute()</code></span> method</a></li><li class="tocline"><a class="tocxref" href="#setattribute-method"><bdi class="secno">5.7 </bdi><span data-export="" data-dfn-type="method" data-idl="operation" data-title="setAttribute()" data-dfn-for="SmartCardConnection" data-type="Promise" data-lt="setAttribute()|setAttribute(tag, value)" data-local-lt="SmartCardConnection.setAttribute|SmartCardConnection.setAttribute()|setAttribute"><code>setAttribute()</code></span> method</a></li></ol></li><li class="tocline"><a class="tocxref" href="#smartcarderror-interface"><bdi class="secno">6. </bdi><span data-export="" data-dfn-type="interface" data-idl="interface" data-title="SmartCardError" data-dfn-for=""><code>SmartCardError</code></span> interface</a><ol class="toc"><li class="tocline"><a class="tocxref" href="#smartcarderroroptions-dictionary"><bdi class="secno">6.1 </bdi><span data-export="" data-dfn-type="dictionary" data-idl="dictionary" data-title="SmartCardErrorOptions" data-dfn-for=""><code>SmartCardErrorOptions</code></span> dictionary</a></li><li class="tocline"><a class="tocxref" href="#smartcardresponsecode-enum"><bdi class="secno">6.2 </bdi><span data-export="" data-dfn-type="enum" data-idl="enum" data-title="SmartCardResponseCode" data-dfn-for=""><code>SmartCardResponseCode</code></span> enum</a></li></ol></li><li class="tocline"><a class="tocxref" href="#integrations"><bdi class="secno">7. </bdi>Integrations</a><ol class="toc"><li class="tocline"><a class="tocxref" href="#permissions-policy"><bdi class="secno">7.1 </bdi>Permissions Policy</a></li></ol></li><li class="tocline"><a class="tocxref" href="#conformance"><bdi class="secno">8. </bdi>Conformance</a></li><li class="tocline"><a class="tocxref" href="#references"><bdi class="secno">A. </bdi>References</a><ol class="toc"><li class="tocline"><a class="tocxref" href="#normative-references"><bdi class="secno">A.1 </bdi>Normative references</a></li></ol></li></ol></nav>

    <section data-dfn-for="Navigator" id="extensions-to-the-navigator-interface"><div class="header-wrapper"><h2 id="x1-extensions-to-the-navigator-interface"><bdi class="secno">1. </bdi>Extensions to the <a data-link-type="idl" data-lt="Navigator" data-type="interface" href="https://html.spec.whatwg.org/multipage/system-state.html#navigator"><code>Navigator</code></a> interface</h2><a class="self-link" href="#extensions-to-the-navigator-interface" aria-label="Permalink for Section 1."></a></div>
      
      <pre class="idl def" id="webidl-189720844"><span class="idlHeader"><a class="self-link" href="#webidl-189720844">WebIDL</a></span><code><span data-idl="" class="idlInterface" id="idl-def-navigator-partial-1" data-title="Navigator">[<span class="extAttr"><a data-type="extended-attribute" href="https://webidl.spec.whatwg.org/#Exposed">Exposed</a>=Window</span>, <span class="extAttr"><a data-type="extended-attribute" href="https://webidl.spec.whatwg.org/#SecureContext">SecureContext</a></span>]
partial interface <a data-idl="partial" data-link-type="interface" data-title="Navigator" class="idlID" data-dfn-for="Navigator" data-type="interface" href="https://html.spec.whatwg.org/multipage/system-state.html#navigator">Navigator</a> {<span data-idl="" class="idlAttribute" id="idl-def-navigator-smartcard" data-title="smartCard" data-dfn-for="Navigator">
  [<span class="extAttr"><a data-type="extended-attribute" href="https://webidl.spec.whatwg.org/#SameObject">SameObject</a></span>] readonly attribute<span class="idlType"> <a data-link-type="idl" href="#dom-smartcardresourcemanager" class="internalDFN" id="ref-for-dom-smartcardresourcemanager-1"><code>SmartCardResourceManager</code></a></span> <a class="internalDFN idlName" data-link-type="attribute" href="#dom-navigator-smartcard" id="ref-for-dom-navigator-smartcard-1"><code>smartCard</code></a>;</span>
};</span></code></pre>

      <section id="smartcard-attribute"><div class="header-wrapper"><h3 id="x1-1-smartcard-attribute"><bdi class="secno">1.1 </bdi><dfn data-export="" data-dfn-type="attribute" id="dom-navigator-smartcard" data-idl="attribute" data-title="smartCard" data-dfn-for="Navigator" data-type="SmartCardResourceManager" data-lt="smartCard" data-local-lt="Navigator.smartCard" tabindex="0" aria-haspopup="dialog"><code>smartCard</code></dfn> attribute</h3><a class="self-link" href="#smartcard-attribute" aria-label="Permalink for Section 1.1"></a></div>
      <p>When getting, the <a data-link-type="idl" href="#dom-navigator-smartcard" class="internalDFN" id="ref-for-dom-navigator-smartcard-2"><code>smartCard</code></a> attribute always returns the same
      instance of the <a data-link-type="idl" data-lt="SmartCardResourceManager" href="#dom-smartcardresourcemanager" class="internalDFN" id="ref-for-dom-smartcardresourcemanager-2"><code>SmartCardResourceManager</code></a> object.</p>
    </section></section>

    <section data-dfn-for="WorkerNavigator" id="extensions-to-the-workernavigator-interface"><div class="header-wrapper"><h2 id="x2-extensions-to-the-workernavigator-interface"><bdi class="secno">2. </bdi>Extensions to the <a data-link-type="idl" data-lt="WorkerNavigator" data-type="interface" href="https://html.spec.whatwg.org/multipage/workers.html#workernavigator"><code>WorkerNavigator</code></a> interface</h2><a class="self-link" href="#extensions-to-the-workernavigator-interface" aria-label="Permalink for Section 2."></a></div>
      
      <pre class="idl def" id="webidl-1770504677"><span class="idlHeader"><a class="self-link" href="#webidl-1770504677">WebIDL</a></span><code><span data-idl="" class="idlInterface" id="idl-def-workernavigator-partial-1" data-title="WorkerNavigator">[<span class="extAttr"><a data-type="extended-attribute" href="https://webidl.spec.whatwg.org/#Exposed">Exposed</a>=(DedicatedWorker, SharedWorker)</span>, <span class="extAttr"><a data-type="extended-attribute" href="https://webidl.spec.whatwg.org/#SecureContext">SecureContext</a></span>]
partial interface <a data-idl="partial" data-link-type="interface" data-title="WorkerNavigator" class="idlID" data-dfn-for="WorkerNavigator" data-type="interface" href="https://html.spec.whatwg.org/multipage/workers.html#workernavigator">WorkerNavigator</a> {<span data-idl="" class="idlAttribute" id="idl-def-workernavigator-smartcard" data-title="smartCard" data-dfn-for="WorkerNavigator">
  [<span class="extAttr"><a data-type="extended-attribute" href="https://webidl.spec.whatwg.org/#SameObject">SameObject</a></span>] readonly attribute<span class="idlType"> <a data-link-type="idl" href="#dom-smartcardresourcemanager" class="internalDFN" id="ref-for-dom-smartcardresourcemanager-3"><code>SmartCardResourceManager</code></a></span> <a class="internalDFN idlName" data-link-type="attribute" href="#dom-workernavigator-smartcard" id="ref-for-dom-workernavigator-smartcard-1"><code>smartCard</code></a>;</span>
};</span></code></pre>

      <section id="smartcard-attribute-0"><div class="header-wrapper"><h3 id="x2-1-smartcard-attribute"><bdi class="secno">2.1 </bdi><dfn data-export="" data-dfn-type="attribute" id="dom-workernavigator-smartcard" data-idl="attribute" data-title="smartCard" data-dfn-for="WorkerNavigator" data-type="SmartCardResourceManager" data-lt="smartCard" data-local-lt="WorkerNavigator.smartCard" tabindex="0" aria-haspopup="dialog"><code>smartCard</code></dfn> attribute</h3><a class="self-link" href="#smartcard-attribute-0" aria-label="Permalink for Section 2.1"></a></div>
      <p>When getting, the <a data-link-type="idl" href="#dom-navigator-smartcard" class="internalDFN" id="ref-for-dom-navigator-smartcard-3"><code>smartCard</code></a> attribute always returns the same
      instance of the <a data-link-type="idl" data-lt="SmartCardResourceManager" href="#dom-smartcardresourcemanager" class="internalDFN" id="ref-for-dom-smartcardresourcemanager-4"><code>SmartCardResourceManager</code></a> object.</p>
    </section></section>

    <section data-dfn-for="SmartCardResourceManager" id="smartcardresourcemanager-interface"><div class="header-wrapper"><h2 id="x3-smartcardresourcemanager-interface"><bdi class="secno">3. </bdi><dfn data-export="" data-dfn-type="interface" id="dom-smartcardresourcemanager" data-idl="interface" data-title="SmartCardResourceManager" data-dfn-for="" tabindex="0" aria-haspopup="dialog"><code>SmartCardResourceManager</code></dfn> interface</h2><a class="self-link" href="#smartcardresourcemanager-interface" aria-label="Permalink for Section 3."></a></div>
      
      <pre class="idl def" id="webidl-786097493"><span class="idlHeader"><a class="self-link" href="#webidl-786097493">WebIDL</a></span><code><span data-idl="" class="idlInterface" id="idl-def-smartcardresourcemanager" data-title="SmartCardResourceManager">[<span class="extAttr"><a data-type="extended-attribute" href="https://webidl.spec.whatwg.org/#Exposed">Exposed</a>=(DedicatedWorker, SharedWorker, Window)</span>, <span class="extAttr"><a data-type="extended-attribute" href="https://webidl.spec.whatwg.org/#SecureContext">SecureContext</a></span>]
interface <a class="internalDFN idlID" data-link-type="interface" href="#dom-smartcardresourcemanager" id="ref-for-dom-smartcardresourcemanager-5"><code>SmartCardResourceManager</code></a> {<span data-idl="" class="idlMethod" id="idl-def-smartcardresourcemanager-establishcontext" data-title="establishContext" data-dfn-for="SmartCardResourceManager"><span class="idlType">
  <a data-type="interface" href="https://webidl.spec.whatwg.org/#idl-promise">Promise</a>&lt;<a data-link-type="idl" href="#dom-smartcardcontext" class="internalDFN" id="ref-for-dom-smartcardcontext-1"><code>SmartCardContext</code></a>&gt;</span> <a class="internalDFN idlName" data-link-type="method" href="#dom-smartcardresourcemanager-establishcontext" id="ref-for-dom-smartcardresourcemanager-establishcontext-1"><code>establishContext</code></a>();</span>
};</span></code></pre>
      <p>Methods on this interface complete asynchronously, queuing
      work on the <dfn id="dfn-smart-card-task-source" tabindex="0" aria-haspopup="dialog" data-dfn-type="dfn">smart card task source</dfn>.</p>
      <section id="establishcontext-method"><div class="header-wrapper"><h3 id="x3-1-establishcontext-method"><bdi class="secno">3.1 </bdi><dfn data-export="" data-dfn-type="method" id="dom-smartcardresourcemanager-establishcontext" data-idl="operation" data-title="establishContext()" data-dfn-for="SmartCardResourceManager" data-type="Promise" data-lt="establishContext()" data-local-lt="SmartCardResourceManager.establishContext|SmartCardResourceManager.establishContext()|establishContext" tabindex="0" aria-haspopup="dialog"><code>establishContext()</code></dfn> method</h3><a class="self-link" href="#establishcontext-method" aria-label="Permalink for Section 3.1"></a></div>
        
        <p>Requests a PC/SC context from the platform's PC/SC stack.</p>
        The <a data-link-type="idl" data-lt="establishContext()" href="#dom-smartcardresourcemanager-establishcontext" class="internalDFN" id="ref-for-dom-smartcardresourcemanager-establishcontext-2"><code>establishContext</code></a><code>()</code> method steps are:
        <ol>
          <li>
            If <a data-link-type="dfn|abstract-op" data-type="dfn" href="https://webidl.spec.whatwg.org/#this">this</a>'s <a data-link-type="dfn|abstract-op" data-type="dfn" href="https://html.spec.whatwg.org/multipage/webappapis.html#concept-relevant-global">relevant global object</a>'s <a data-link-type="dfn|abstract-op" data-type="dfn" href="https://html.spec.whatwg.org/multipage/nav-history-apis.html#concept-document-window">associated Document</a> is
            not <a data-link-type="dfn|abstract-op" data-type="dfn" href="https://html.spec.whatwg.org/multipage/iframe-embed-object.html#allowed-to-use">allowed to use</a> the <a data-link-type="dfn|abstract-op" data-type="dfn" href="https://www.w3.org/TR/permissions-policy-1/#policy-controlled-feature">policy-controlled feature</a> named
            "<a data-link-type="dfn|abstract-op" href="#dfn-smart-card" class="internalDFN" id="ref-for-dfn-smart-card-1">smart-card</a>", <a data-link-type="dfn|abstract-op" data-type="dfn" href="https://webidl.spec.whatwg.org/#dfn-throw">throw</a> a
            "<a data-link-type="idl" data-lt="SecurityError" data-type="exception" href="https://webidl.spec.whatwg.org/#securityerror"><code>SecurityError</code></a>" <a data-link-type="idl" data-lt="DOMException" data-type="interface" href="https://webidl.spec.whatwg.org/#idl-DOMException"><code>DOMException</code></a>.
          </li>
          <li>Let <var data-type="Promise">promise</var> be <a data-link-type="dfn|abstract-op" data-type="dfn" href="https://webidl.spec.whatwg.org/#a-new-promise">a new promise</a>.</li>
          <li>Run the following steps <a data-link-type="dfn|abstract-op" data-type="dfn" href="https://html.spec.whatwg.org/multipage/infrastructure.html#in-parallel">in parallel</a>:
          <ol>
            <li>Let <var data-type="RESOURCEMANAGER">resourceManager</var> be a new instance of the
              platform's [<cite><a class="bibref" data-link-type="biblio" href="#bib-pcsc5" title="Interoperability Specification for ICCs and Personal Computer Systems; Part 5. ICC Resource Manager Definition">PCSC5</a></cite>] <code>RESOURCEMANAGER</code> class.</li>
            <li>Invoke the <code>EstablishContext</code> method of <var data-type="RESOURCEMANAGER">resourceManager</var> with
              a "system" <code>Scope</code> parameter.</li>
            <li>If the returned <code>RESPONSECODE</code> is not <code>SCARD_S_SUCCESS</code>, perform
              the following steps:
              <ol>
                <li>Destroy <var data-type="RESOURCEMANAGER">resourceManager</var>.</li>
                <li><a data-link-type="dfn|abstract-op" data-type="dfn" href="https://html.spec.whatwg.org/multipage/webappapis.html#queue-a-global-task">Queue a global task</a> on the <a data-link-type="dfn|abstract-op" data-type="dfn" href="https://html.spec.whatwg.org/multipage/webappapis.html#concept-relevant-global">relevant global object</a> of
                  <a data-link-type="dfn|abstract-op" data-type="dfn" href="https://webidl.spec.whatwg.org/#this">this</a> using the <a data-link-type="dfn|abstract-op" href="#dfn-smart-card-task-source" class="internalDFN" id="ref-for-dfn-smart-card-task-source-1">smart card task source</a> to <a data-link-type="dfn|abstract-op" data-type="dfn" href="https://webidl.spec.whatwg.org/#reject">reject</a>
                  <var data-type="Promise">promise</var> with a <a data-link-type="idl" href="#dfn-corresponding-5" class="internalDFN" id="ref-for-dfn-corresponding-5-1"><code>corresponding</code></a>
                  <a data-link-type="dfn|abstract-op" data-type="dfn" href="https://webidl.spec.whatwg.org/#dfn-exception">exception</a>.</li>
              </ol>
            </li>
            <li>Otherwise, perform the following steps:
              <ol>
                <li>Let <var data-type="SmartCardContext">context</var> be a <a data-link-type="dfn|abstract-op" data-type="dfn" href="https://webidl.spec.whatwg.org/#new">new</a>
                  <a data-link-type="idl" data-lt="SmartCardContext" href="#dom-smartcardcontext" class="internalDFN" id="ref-for-dom-smartcardcontext-2"><code>SmartCardContext</code></a> whose
                  <a data-link-type="attribute" data-lt="[[resourceManager]]" href="#dfn-resourcemanager" class="internalDFN" id="ref-for-dfn-resourcemanager-1"><code>[[resourceManager]]</code></a> internal slot is set
                to <var data-type="RESOURCEMANAGER">resourceManager</var>.</li>
                <li><a data-link-type="dfn|abstract-op" data-type="dfn" href="https://html.spec.whatwg.org/multipage/webappapis.html#queue-a-global-task">Queue a global task</a> on the <a data-link-type="dfn|abstract-op" data-type="dfn" href="https://html.spec.whatwg.org/multipage/webappapis.html#concept-relevant-global">relevant global object</a>
                  of <a data-link-type="dfn|abstract-op" data-type="dfn" href="https://webidl.spec.whatwg.org/#this">this</a> using the <a data-link-type="dfn|abstract-op" href="#dfn-smart-card-task-source" class="internalDFN" id="ref-for-dfn-smart-card-task-source-2">smart card task source</a> to
                  <a data-link-type="dfn|abstract-op" data-type="dfn" href="https://webidl.spec.whatwg.org/#resolve">resolve</a> <var data-type="Promise">promise</var> with <var data-type="SmartCardContext">context</var>.</li>
              </ol>
            </li>
          </ol>
          </li>
          <li>Return <var data-type="Promise">promise</var>.</li>
        </ol>
      </section>
    </section>

    <section data-dfn-for="SmartCardContext" id="smartcardcontext-interface"><div class="header-wrapper"><h2 id="x4-smartcardcontext-interface"><bdi class="secno">4. </bdi><dfn data-export="" data-dfn-type="interface" id="dom-smartcardcontext" data-idl="interface" data-title="SmartCardContext" data-dfn-for="" tabindex="0" aria-haspopup="dialog"><code>SmartCardContext</code></dfn> interface</h2><a class="self-link" href="#smartcardcontext-interface" aria-label="Permalink for Section 4."></a></div>
      
      <p>A context for communicating with the PC/SC resource manager.</p>
      <pre class="idl def" id="webidl-1022524311"><span class="idlHeader"><a class="self-link" href="#webidl-1022524311">WebIDL</a></span><code><span data-idl="" class="idlInterface" id="idl-def-smartcardcontext" data-title="SmartCardContext">[<span class="extAttr"><a data-type="extended-attribute" href="https://webidl.spec.whatwg.org/#Exposed">Exposed</a>=(DedicatedWorker, SharedWorker, Window)</span>, <span class="extAttr"><a data-type="extended-attribute" href="https://webidl.spec.whatwg.org/#SecureContext">SecureContext</a></span>]
interface <a class="internalDFN idlID" data-link-type="interface" href="#dom-smartcardcontext" id="ref-for-dom-smartcardcontext-3"><code>SmartCardContext</code></a> {<span data-idl="" class="idlMethod" id="idl-def-smartcardcontext-listreaders" data-title="listReaders" data-dfn-for="SmartCardContext"><span class="idlType">
  <a data-type="interface" href="https://webidl.spec.whatwg.org/#idl-promise">Promise</a>&lt;<a data-type="dfn" href="https://webidl.spec.whatwg.org/#idl-sequence">sequence</a>&lt;<a data-link-type="idl" data-type="interface" href="https://webidl.spec.whatwg.org/#idl-DOMString">DOMString</a>&gt;&gt;</span> <a class="internalDFN idlName" data-link-type="method" href="#dom-smartcardcontext-listreaders" id="ref-for-dom-smartcardcontext-listreaders-1"><code>listReaders</code></a>();</span><span data-idl="" class="idlMethod" id="idl-def-smartcardcontext-getstatuschange-readerstates-options" data-title="getStatusChange" data-dfn-for="SmartCardContext"><span class="idlType">

  <a data-type="interface" href="https://webidl.spec.whatwg.org/#idl-promise">Promise</a>&lt;<a data-type="dfn" href="https://webidl.spec.whatwg.org/#idl-sequence">sequence</a>&lt;<a data-link-type="idl" href="#dom-smartcardreaderstateout" class="internalDFN" id="ref-for-dom-smartcardreaderstateout-1"><code>SmartCardReaderStateOut</code></a>&gt;&gt;</span> <a class="internalDFN idlName" data-link-type="method" href="#dom-smartcardcontext-getstatuschange" id="ref-for-dom-smartcardcontext-getstatuschange-1"><code>getStatusChange</code></a>(<span class="idlType">
      <a data-type="dfn" href="https://webidl.spec.whatwg.org/#idl-sequence">sequence</a>&lt;<a data-link-type="idl" href="#dom-smartcardreaderstatein" class="internalDFN" id="ref-for-dom-smartcardreaderstatein-1"><code>SmartCardReaderStateIn</code></a>&gt;</span> <span class="idlParamName">readerStates</span>,
      optional<span class="idlType"> <a data-link-type="idl" href="#dom-smartcardgetstatuschangeoptions" class="internalDFN" id="ref-for-dom-smartcardgetstatuschangeoptions-1"><code>SmartCardGetStatusChangeOptions</code></a></span> <span class="idlParamName">options</span> = {});</span><span data-idl="" class="idlMethod" id="idl-def-smartcardcontext-connect-readername-accessmode-options" data-title="connect" data-dfn-for="SmartCardContext"><span class="idlType">

  <a data-type="interface" href="https://webidl.spec.whatwg.org/#idl-promise">Promise</a>&lt;<a data-link-type="idl" href="#dom-smartcardconnectresult" class="internalDFN" id="ref-for-dom-smartcardconnectresult-1"><code>SmartCardConnectResult</code></a>&gt;</span> <a class="internalDFN idlName" data-link-type="method" href="#dom-smartcardcontext-connect" id="ref-for-dom-smartcardcontext-connect-1"><code>connect</code></a>(<span class="idlType">
      <a data-link-type="idl" data-type="interface" href="https://webidl.spec.whatwg.org/#idl-DOMString">DOMString</a></span> <span class="idlParamName">readerName</span>,<span class="idlType">
      <a data-link-type="idl" href="#dom-smartcardaccessmode" class="internalDFN" id="ref-for-dom-smartcardaccessmode-1"><code>SmartCardAccessMode</code></a></span> <span class="idlParamName">accessMode</span>,
      optional<span class="idlType"> <a data-link-type="idl" href="#dom-smartcardconnectoptions" class="internalDFN" id="ref-for-dom-smartcardconnectoptions-1"><code>SmartCardConnectOptions</code></a></span> <span class="idlParamName">options</span> = {});</span>
};</span></code></pre>
      <p>Instances of <a data-link-type="idl" data-lt="SmartCardContext" href="#dom-smartcardcontext" class="internalDFN" id="ref-for-dom-smartcardcontext-4"><code>SmartCardContext</code></a> are created with the internal slots
      described in the following table:</p>
      <table class="simple" data-dfn-for="SmartCardContext">
        <tbody><tr>
          <th>Internal slot
          </th><th>Initial value
          </th><th>Description (non-normative)
        </th></tr>
        <tr>
          <td><dfn data-idl="" data-dfn-for="SmartCardContext" data-noexport="" data-dfn-type="attribute" id="dfn-resourcemanager" tabindex="0" aria-haspopup="dialog">[[resourceManager]]</dfn></td>
          <td><code>null</code></td>
          <td>The platform's [<cite><a class="bibref" data-link-type="biblio" href="#bib-pcsc5" title="Interoperability Specification for ICCs and Personal Computer Systems; Part 5. ICC Resource Manager Definition">PCSC5</a></cite>] <code>RESOURCEMANAGER</code> to be used.</td>
        </tr>
        <tr>
          <td><dfn data-idl="" data-dfn-for="SmartCardContext" data-noexport="" data-dfn-type="attribute" id="dfn-operationinprogress" tabindex="0" aria-haspopup="dialog">[[operationInProgress]]</dfn></td>
          <td><code>false</code></td>
          <td>Whether there is an ongoing PC/SC operation in this context.</td>
        </tr>
        <tr>
          <td><dfn data-idl="" data-dfn-for="SmartCardContext" data-noexport="" data-dfn-type="attribute" id="dfn-connections" tabindex="0" aria-haspopup="dialog">[[connections]]</dfn></td>
          <td>An empty <a data-link-type="dfn|abstract-op" data-type="dfn" href="https://infra.spec.whatwg.org/#ordered-set">ordered set</a></td>
          <td>The existing <a data-link-type="idl" data-lt="SmartCardConnection" href="#dom-smartcardconnection" class="internalDFN" id="ref-for-dom-smartcardconnection-1"><code>SmartCardConnection</code></a>s created by this context.</td>
        </tr>
        <tr>
          <td><dfn data-idl="" data-dfn-for="SmartCardContext" data-noexport="" data-dfn-type="attribute" id="dfn-tracker" tabindex="0" aria-haspopup="dialog">[[tracker]]</dfn></td>
          <td><code>null</code></td>
          <td>A [<cite><a class="bibref" data-link-type="biblio" href="#bib-pcsc5" title="Interoperability Specification for ICCs and Personal Computer Systems; Part 5. ICC Resource Manager Definition">PCSC5</a></cite>] <code>SCARDTRACK</code> instance.</td>
        </tr>
        <tr>
          <td><dfn data-idl="" data-dfn-for="SmartCardContext" data-noexport="" data-dfn-type="attribute" id="dfn-signal" tabindex="0" aria-haspopup="dialog">[[signal]]</dfn></td>
          <td><code>null</code></td>
          <td>The <a data-link-type="idl" data-lt="AbortSignal" data-type="interface" href="https://dom.spec.whatwg.org/#abortsignal"><code>AbortSignal</code></a> of the outstanding
            <a data-link-type="idl" data-lt="getStatusChange()" href="#dom-smartcardcontext-getstatuschange" class="internalDFN" id="ref-for-dom-smartcardcontext-getstatuschange-2"><code>getStatusChange</code></a><code>()</code> call, if any.</td>
        </tr>
      </tbody></table>
      <section id="listreaders-method"><div class="header-wrapper"><h3 id="x4-1-listreaders-method"><bdi class="secno">4.1 </bdi><dfn data-export="" data-dfn-type="method" id="dom-smartcardcontext-listreaders" data-idl="operation" data-title="listReaders()" data-dfn-for="SmartCardContext" data-type="Promise" data-lt="listReaders()" data-local-lt="SmartCardContext.listReaders|SmartCardContext.listReaders()|listReaders" tabindex="0" aria-haspopup="dialog"><code>listReaders()</code></dfn> method</h3><a class="self-link" href="#listreaders-method" aria-label="Permalink for Section 4.1"></a></div>
        
        <p>The <a data-link-type="idl" data-lt="listReaders()" href="#dom-smartcardcontext-listreaders" class="internalDFN" id="ref-for-dom-smartcardcontext-listreaders-2"><code>listReaders</code></a><code>()</code> method steps
        are:</p>
        <ol>
          <li>Let <var data-type="Promise">promise</var> be <a data-link-type="dfn|abstract-op" data-type="dfn" href="https://webidl.spec.whatwg.org/#a-new-promise">a new promise</a>.</li>
          <li>If <a data-link-type="dfn|abstract-op" data-type="dfn" href="https://webidl.spec.whatwg.org/#this">this</a>.<a data-link-type="attribute" data-lt="[[operationInProgress]]" href="#dfn-operationinprogress" class="internalDFN" id="ref-for-dfn-operationinprogress-1"><code>[[operationInProgress]]</code></a> is
            <code>true</code>, <a data-link-type="dfn|abstract-op" data-type="dfn" href="https://webidl.spec.whatwg.org/#reject">reject</a> <var data-type="Promise">promise</var> with a "<a data-link-type="idl" data-lt="InvalidStateError" data-type="exception" href="https://webidl.spec.whatwg.org/#invalidstateerror"><code>InvalidStateError</code></a>"
            <a data-link-type="idl" data-lt="DOMException" data-type="interface" href="https://webidl.spec.whatwg.org/#idl-DOMException"><code>DOMException</code></a> and return <var data-type="Promise">promise</var>.</li>
          <li>Set <a data-link-type="dfn|abstract-op" data-type="dfn" href="https://webidl.spec.whatwg.org/#this">this</a>.<a data-link-type="attribute" data-lt="[[operationInProgress]]" href="#dfn-operationinprogress" class="internalDFN" id="ref-for-dfn-operationinprogress-2"><code>[[operationInProgress]]</code></a> to
            <code>true</code>.</li>
          <li>Run the following steps <a data-link-type="dfn|abstract-op" data-type="dfn" href="https://html.spec.whatwg.org/multipage/infrastructure.html#in-parallel">in parallel</a>:
            <ol>
              <li>Let <var data-type="RESOURCEQUERY">resourceQuery</var> be a new instance of the
                platform's [<cite><a class="bibref" data-link-type="biblio" href="#bib-pcsc5" title="Interoperability Specification for ICCs and Personal Computer Systems; Part 5. ICC Resource Manager Definition">PCSC5</a></cite>] <code>RESOURCEQUERY</code> class, with
                <a data-link-type="dfn|abstract-op" data-type="dfn" href="https://webidl.spec.whatwg.org/#this">this</a>.<a data-link-type="attribute" data-lt="[[resourceManager]]" href="#dfn-resourcemanager" class="internalDFN" id="ref-for-dfn-resourcemanager-2"><code>[[resourceManager]]</code></a> as its
                constructor input parameter.</li>
              
              <li>Let <var data-type="array of STR">groups</var> be the platform's [<cite><a class="bibref" data-link-type="biblio" href="#bib-pcsc5" title="Interoperability Specification for ICCs and Personal Computer Systems; Part 5. ICC Resource Manager Definition">PCSC5</a></cite>] <code>STR[]</code>
                containing the list of group names that is equivalent to "all
                readers in the system" in that platform.
                <div class="note" role="note" id="issue-container-generatedID"><div role="heading" class="note-title marker" id="h-note" aria-level="4"><span>Note</span></div><aside class="">This could be an empty <code>STR[]</code> in some
                  [<cite><a class="bibref" data-link-type="biblio" href="#bib-pcsc5" title="Interoperability Specification for ICCs and Personal Computer Systems; Part 5. ICC Resource Manager Definition">PCSC5</a></cite>] implementations.</aside></div>
              </li>
              <li>Let <var data-type="array of STR">pcscReaders</var> be an empty <code>STR[]</code>.
              </li><li>Invoke the <code>ListReaders</code> method of <var data-type="RESOURCEQUERY">resourceQuery</var> with
                <var data-type="array of STR">groups</var> as input and <var data-type="array of STR">pcscReaders</var> as output parameters.</li>
              <li>Let <var data-type="RESPONSECODE">responseCode</var> be the returned
                <code>RESPONSECODE</code>.</li>
              <li>Destroy <var data-type="RESOURCEQUERY">resourceQuery</var>.</li>
              <li><a data-link-type="dfn|abstract-op" data-type="dfn" href="https://html.spec.whatwg.org/multipage/webappapis.html#queue-a-global-task">Queue a global task</a> on the <a data-link-type="dfn|abstract-op" data-type="dfn" href="https://html.spec.whatwg.org/multipage/webappapis.html#concept-relevant-global">relevant global object</a> of
                <a data-link-type="dfn|abstract-op" data-type="dfn" href="https://webidl.spec.whatwg.org/#this">this</a> using the <a data-link-type="dfn|abstract-op" href="#dfn-smart-card-task-source" class="internalDFN" id="ref-for-dfn-smart-card-task-source-3">smart card task source</a> which performs the
                following steps:
                <ol>
                  <li><a data-link-type="dfn|abstract-op" href="#dfn-clear-the-operationinprogress" class="internalDFN" id="ref-for-dfn-clear-the-operationinprogress-1">Clear the operationInProgress</a> of <a data-link-type="dfn|abstract-op" data-type="dfn" href="https://webidl.spec.whatwg.org/#this">this</a>.</li>
                  <li>If <var data-type="RESPONSECODE">responseCode</var> is not <code>SCARD_S_SUCCESS</code>:
                    <ol>
                      <li>If <var data-type="RESPONSECODE">responseCode</var> is <code>SCARD_E_NO_READERS_AVAILABLE</code>,
                      <a data-link-type="dfn|abstract-op" data-type="dfn" href="https://webidl.spec.whatwg.org/#resolve">resolve</a> <var data-type="Promise">promise</var> with an empty <code>sequence</code> of
                      <a data-link-type="idl" data-lt="DOMString" data-type="interface" href="https://webidl.spec.whatwg.org/#idl-DOMString"><code>DOMString</code></a>.
                        <div class="note" role="note" id="issue-container-generatedID-0"><div role="heading" class="note-title marker" id="h-note-0" aria-level="4"><span>Note</span></div><aside class="">
                          <p><code>SCARD_E_NO_READERS_AVAILABLE</code> is not part of
                          [<cite><a class="bibref" data-link-type="biblio" href="#bib-pcsc5" title="Interoperability Specification for ICCs and Personal Computer Systems; Part 5. ICC Resource Manager Definition">PCSC5</a></cite>] but it is still considered in this
                          specification as existing PC/SC implementations use
                          it.</p>
                        </aside></div>
                      </li>
                      <li>Otherwise, <a data-link-type="dfn|abstract-op" data-type="dfn" href="https://webidl.spec.whatwg.org/#reject">reject</a> <var data-type="Promise">promise</var> with an
                      <a data-link-type="dfn|abstract-op" data-type="dfn" href="https://webidl.spec.whatwg.org/#dfn-exception">exception</a> <a data-link-type="idl" href="#dfn-corresponding-5" class="internalDFN" id="ref-for-dfn-corresponding-5-2"><code>corresponding</code></a> to
                      <var data-type="RESPONSECODE">responseCode</var>.</li>
                    </ol>
                  </li>
                  <li>Otherwise, <a data-link-type="dfn|abstract-op" data-type="dfn" href="https://webidl.spec.whatwg.org/#resolve">resolve</a> <var data-type="Promise">promise</var> with a <code>sequence</code> of
                    <a data-link-type="idl" data-lt="DOMString" data-type="interface" href="https://webidl.spec.whatwg.org/#idl-DOMString"><code>DOMString</code></a> equivalent to <var data-type="array of STR">pcscReaders</var>.</li>
                </ol>
              </li>
            </ol>
          </li>
          <li>Return <var data-type="Promise">promise</var>.</li>
        </ol>
      </section>
      <section id="getstatuschange-method"><div class="header-wrapper"><h3 id="x4-2-getstatuschange-method"><bdi class="secno">4.2 </bdi><dfn data-export="" data-dfn-type="method" id="dom-smartcardcontext-getstatuschange" data-idl="operation" data-title="getStatusChange()" data-dfn-for="SmartCardContext" data-type="Promise" data-lt="getStatusChange()|getStatusChange(readerStates)|getStatusChange(readerStates, options)" data-local-lt="SmartCardContext.getStatusChange|SmartCardContext.getStatusChange()|getStatusChange" tabindex="0" aria-haspopup="dialog"><code>getStatusChange()</code></dfn> method</h3><a class="self-link" href="#getstatuschange-method" aria-label="Permalink for Section 4.2"></a></div>
        
        <p>The <a data-link-type="idl" data-lt="getStatusChange(readerStates, options)" href="#dom-smartcardcontext-getstatuschange" class="internalDFN" id="ref-for-dom-smartcardcontext-getstatuschange-3"><code>getStatusChange</code></a><code>(<var>readerStates</var>, <var>options</var>)</code> method steps
        are:</p>
        <ol>
          <li>Let <var data-type="Promise">promise</var> be <a data-link-type="dfn|abstract-op" data-type="dfn" href="https://webidl.spec.whatwg.org/#a-new-promise">a new promise</a>.</li>
          <li>If <a data-link-type="dfn|abstract-op" data-type="dfn" href="https://webidl.spec.whatwg.org/#this">this</a>.<a data-link-type="attribute" data-lt="[[operationInProgress]]" href="#dfn-operationinprogress" class="internalDFN" id="ref-for-dfn-operationinprogress-3"><code>[[operationInProgress]]</code></a> is
            <code>true</code>, <a data-link-type="dfn|abstract-op" data-type="dfn" href="https://webidl.spec.whatwg.org/#reject">reject</a> <var data-type="Promise">promise</var> with a "<a data-link-type="idl" data-lt="InvalidStateError" data-type="exception" href="https://webidl.spec.whatwg.org/#invalidstateerror"><code>InvalidStateError</code></a>"
            <a data-link-type="idl" data-lt="DOMException" data-type="interface" href="https://webidl.spec.whatwg.org/#idl-DOMException"><code>DOMException</code></a> and return <var data-type="Promise">promise</var>.</li>
          <li>If
            <var data-type="SmartCardGetStatusChangeOptions">options</var>["<a data-link-type="idl" href="#dom-smartcardgetstatuschangeoptions-signal" class="internalDFN" id="ref-for-dom-smartcardgetstatuschangeoptions-signal-1"><code>signal</code></a>"]
            <a data-link-type="dfn|abstract-op" data-type="dfn" href="https://infra.spec.whatwg.org/#map-exists">exists</a>, run the following steps:
            <ol>
              <li>Let <var data-type="AbortSignal">signal</var> be
                <var data-type="SmartCardGetStatusChangeOptions">options</var>["<a data-link-type="idl" href="#dom-smartcardgetstatuschangeoptions-signal" class="internalDFN" id="ref-for-dom-smartcardgetstatuschangeoptions-signal-2"><code>signal</code></a>"].</li>
              <li>If <var data-type="AbortSignal">signal</var> is <a data-link-type="dfn|abstract-op" data-type="dfn" href="https://dom.spec.whatwg.org/#abortsignal-aborted">aborted</a>, <a data-link-type="dfn|abstract-op" data-type="dfn" href="https://webidl.spec.whatwg.org/#reject">reject</a> <var data-type="Promise">promise</var>
                with <var data-type="AbortSignal">signal</var>'s <a data-link-type="dfn|abstract-op" data-type="dfn" href="https://dom.spec.whatwg.org/#abortsignal-abort-reason">abort reason</a> and return
                <var data-type="Promise">promise</var>.</li>
              <li>Set <a data-link-type="dfn|abstract-op" data-type="dfn" href="https://webidl.spec.whatwg.org/#this">this</a>.<a data-link-type="attribute" data-lt="[[signal]]" href="#dfn-signal" class="internalDFN" id="ref-for-dfn-signal-1"><code>[[signal]]</code></a> to <var data-type="AbortSignal">signal</var></li>
              <li><a data-link-type="dfn|abstract-op" data-type="dfn" href="https://dom.spec.whatwg.org/#abortsignal-add">Add</a> the <a data-link-type="idl" href="#dfn-cancel-the-outstanding-getstatuschange" class="internalDFN" id="ref-for-dfn-cancel-the-outstanding-getstatuschange-1"><code>Cancel the outstanding GetStatusChange</code></a> algorithm to <var data-type="AbortSignal">signal</var>.</li>
            </ol>
          </li>
          <li>Let <var data-type="DWORD">pcscTimeout</var> be a [<cite><a class="bibref" data-link-type="biblio" href="#bib-pcsc5" title="Interoperability Specification for ICCs and Personal Computer Systems; Part 5. ICC Resource Manager Definition">PCSC5</a></cite>] <code>DWORD</code> set to [<cite><a class="bibref" data-link-type="biblio" href="#bib-pcsc5" title="Interoperability Specification for ICCs and Personal Computer Systems; Part 5. ICC Resource Manager Definition">PCSC5</a></cite>]
            <code>INFINITE</code>.</li>
          <li>If
            <var data-type="SmartCardGetStatusChangeOptions">options</var>["<a data-link-type="idl" href="#dom-smartcardgetstatuschangeoptions-timeout" class="internalDFN" id="ref-for-dom-smartcardgetstatuschangeoptions-timeout-1"><code>timeout</code></a>"]
            <a data-link-type="dfn|abstract-op" data-type="dfn" href="https://infra.spec.whatwg.org/#map-exists">exists</a>, set <var data-type="DWORD">pcscTimeout</var> to
            <var data-type="SmartCardGetStatusChangeOptions">options</var>["<a data-link-type="idl" href="#dom-smartcardgetstatuschangeoptions-timeout" class="internalDFN" id="ref-for-dom-smartcardgetstatuschangeoptions-timeout-2"><code>timeout</code></a>"].</li>
          <li>Let <var data-type="array of SCARD_READERSTATE">pcscReaderStates</var> be a [<cite><a class="bibref" data-link-type="biblio" href="#bib-pcsc5" title="Interoperability Specification for ICCs and Personal Computer Systems; Part 5. ICC Resource Manager Definition">PCSC5</a></cite>]
            <code>SCARD_READERSTATE[]</code> <a data-link-type="dfn|abstract-op" href="#dfn-corresponding" class="internalDFN" id="ref-for-dfn-corresponding-1">corresponding</a> to
            <var data-type="sequence<SmartCardReaderStateIn>">readerStates</var>.</li>
          <li>Set <a data-link-type="dfn|abstract-op" data-type="dfn" href="https://webidl.spec.whatwg.org/#this">this</a>.<a data-link-type="attribute" data-lt="[[operationInProgress]]" href="#dfn-operationinprogress" class="internalDFN" id="ref-for-dfn-operationinprogress-4"><code>[[operationInProgress]]</code></a> to
            <code>true</code>.</li>
          <li>Set <a data-link-type="dfn|abstract-op" data-type="dfn" href="https://webidl.spec.whatwg.org/#this">this</a>.<a data-link-type="attribute" data-lt="[[tracker]]" href="#dfn-tracker" class="internalDFN" id="ref-for-dfn-tracker-1"><code>[[tracker]]</code></a> to a new instance of the
            platform's [<cite><a class="bibref" data-link-type="biblio" href="#bib-pcsc5" title="Interoperability Specification for ICCs and Personal Computer Systems; Part 5. ICC Resource Manager Definition">PCSC5</a></cite>] <code>SCARDTRACK</code> class, with
            <a data-link-type="dfn|abstract-op" data-type="dfn" href="https://webidl.spec.whatwg.org/#this">this</a>.<a data-link-type="attribute" data-lt="[[resourceManager]]" href="#dfn-resourcemanager" class="internalDFN" id="ref-for-dfn-resourcemanager-3"><code>[[resourceManager]]</code></a> as its
            constructor input parameter.</li>
          <li>Run the following steps <a data-link-type="dfn|abstract-op" data-type="dfn" href="https://html.spec.whatwg.org/multipage/infrastructure.html#in-parallel">in parallel</a>:
            <ol>
              <li>Call
                <a data-link-type="dfn|abstract-op" data-type="dfn" href="https://webidl.spec.whatwg.org/#this">this</a>.<a data-link-type="attribute" data-lt="[[tracker]]" href="#dfn-tracker" class="internalDFN" id="ref-for-dfn-tracker-2"><code>[[tracker]]</code></a>.<code>GetStatusChange()</code>
                with <var data-type="array of SCARD_READERSTATE">pcscReaderStates</var> and <var data-type="DWORD">pcscTimeout</var> as input parameters.</li>
              <li>Let <var data-type="RESPONSECODE">responseCode</var> be the returned
                [<cite><a class="bibref" data-link-type="biblio" href="#bib-pcsc5" title="Interoperability Specification for ICCs and Personal Computer Systems; Part 5. ICC Resource Manager Definition">PCSC5</a></cite>] <code>RESPONSECODE</code>.</li>
              <li><a data-link-type="dfn|abstract-op" data-type="dfn" href="https://html.spec.whatwg.org/multipage/webappapis.html#queue-a-global-task">Queue a global task</a> on the <a data-link-type="dfn|abstract-op" data-type="dfn" href="https://html.spec.whatwg.org/multipage/webappapis.html#concept-relevant-global">relevant global object</a> of
                <a data-link-type="dfn|abstract-op" data-type="dfn" href="https://webidl.spec.whatwg.org/#this">this</a> using the <a data-link-type="dfn|abstract-op" href="#dfn-smart-card-task-source" class="internalDFN" id="ref-for-dfn-smart-card-task-source-4">smart card task source</a> which performs the
                following steps:
                <ol>
                  <li>Set <a data-link-type="dfn|abstract-op" data-type="dfn" href="https://webidl.spec.whatwg.org/#this">this</a>.<a data-link-type="attribute" data-lt="[[tracker]]" href="#dfn-tracker" class="internalDFN" id="ref-for-dfn-tracker-3"><code>[[tracker]]</code></a> to <code>null</code>.</li>
                  <li><a data-link-type="dfn|abstract-op" href="#dfn-clear-the-operationinprogress" class="internalDFN" id="ref-for-dfn-clear-the-operationinprogress-2">Clear the operationInProgress</a> of <a data-link-type="dfn|abstract-op" data-type="dfn" href="https://webidl.spec.whatwg.org/#this">this</a>.</li>
                  <li>Let <var>abortReason</var> be <a data-link-type="idl" data-lt="undefined" data-type="interface" href="https://webidl.spec.whatwg.org/#idl-undefined"><code>undefined</code></a>.</li>
                  <li>If <a data-link-type="dfn|abstract-op" data-type="dfn" href="https://webidl.spec.whatwg.org/#this">this</a>.<a data-link-type="attribute" data-lt="[[signal]]" href="#dfn-signal" class="internalDFN" id="ref-for-dfn-signal-2"><code>[[signal]]</code></a> is not <code>null</code>,
                    run the following steps:
                    <ol>
                      <li>If <a data-link-type="dfn|abstract-op" data-type="dfn" href="https://webidl.spec.whatwg.org/#this">this</a>.<a data-link-type="attribute" data-lt="[[signal]]" href="#dfn-signal" class="internalDFN" id="ref-for-dfn-signal-3"><code>[[signal]]</code></a> is
                        <a data-link-type="dfn|abstract-op" data-type="dfn" href="https://dom.spec.whatwg.org/#abortsignal-aborted">aborted</a> then set <var>abortReason</var> to
                        <a data-link-type="dfn|abstract-op" data-type="dfn" href="https://webidl.spec.whatwg.org/#this">this</a>.<a data-link-type="attribute" data-lt="[[signal]]" href="#dfn-signal" class="internalDFN" id="ref-for-dfn-signal-4"><code>[[signal]]</code></a>'s
                      <a data-link-type="dfn|abstract-op" data-type="dfn" href="https://dom.spec.whatwg.org/#abortsignal-abort-reason">abort reason</a>.</li>
                      <li><a data-link-type="dfn|abstract-op" data-type="dfn" href="https://dom.spec.whatwg.org/#abortsignal-remove">Remove</a> the <a data-link-type="idl" href="#dfn-cancel-the-outstanding-getstatuschange" class="internalDFN" id="ref-for-dfn-cancel-the-outstanding-getstatuschange-2"><code>cancel the outstanding GetStatusChange</code></a> algorithm from
                        <a data-link-type="dfn|abstract-op" data-type="dfn" href="https://webidl.spec.whatwg.org/#this">this</a>.<a data-link-type="attribute" data-lt="[[signal]]" href="#dfn-signal" class="internalDFN" id="ref-for-dfn-signal-5"><code>[[signal]]</code></a>.</li>
                      <li>Set <a data-link-type="dfn|abstract-op" data-type="dfn" href="https://webidl.spec.whatwg.org/#this">this</a>.<a data-link-type="attribute" data-lt="[[signal]]" href="#dfn-signal" class="internalDFN" id="ref-for-dfn-signal-6"><code>[[signal]]</code></a> to
                        <code>null</code>.</li>
                    </ol>
                  </li>
                  <li>If <var data-type="RESPONSECODE">responseCode</var> is not <code>SCARD_S_SUCCESS</code>, run the
                    following steps:
                    <ol>
                      <li>If <var data-type="RESPONSECODE">responseCode</var> is <code>SCARD_E_CANCELLED</code> and
                        <var>abortReason</var> is not <a data-link-type="idl" data-lt="undefined" data-type="interface" href="https://webidl.spec.whatwg.org/#idl-undefined"><code>undefined</code></a> then <a data-link-type="dfn|abstract-op" data-type="dfn" href="https://webidl.spec.whatwg.org/#reject">reject</a>
                        <var data-type="Promise">promise</var> with <var>abortReason</var>.</li>
                      <li>Otherwise, <a data-link-type="dfn|abstract-op" data-type="dfn" href="https://webidl.spec.whatwg.org/#reject">reject</a> <var data-type="Promise">promise</var> with an <a data-link-type="dfn|abstract-op" data-type="dfn" href="https://webidl.spec.whatwg.org/#dfn-exception">exception</a>
                        <a data-link-type="idl" href="#dfn-corresponding-5" class="internalDFN" id="ref-for-dfn-corresponding-5-3"><code>corresponding</code></a> to <var data-type="RESPONSECODE">responseCode</var>.</li>
                      <li>Return.</li>
                    </ol>
                  </li>
                  <li>Let
                    <var data-type="sequence<SmartCardReaderStateOut>">readerStatesOut</var> be
                    a sequence of <a data-link-type="idl" data-lt="SmartCardReaderStateOut" href="#dom-smartcardreaderstateout" class="internalDFN" id="ref-for-dom-smartcardreaderstateout-2"><code>SmartCardReaderStateOut</code></a>
                    <a data-link-type="dfn|abstract-op" href="#dfn-corresponding-1" class="internalDFN" id="ref-for-dfn-corresponding-1-1">corresponding</a> to
                    <var data-type="array of SCARD_READERSTATE">pcscReaderStates</var>.</li>
                  <li><a data-link-type="dfn|abstract-op" data-type="dfn" href="https://webidl.spec.whatwg.org/#resolve">Resolve</a> <var data-type="Promise">promise</var> with <var data-type="sequence<SmartCardReaderStateOut>">readerStatesOut</var>.</li>
                </ol>
              </li>
            </ol>
          </li>
          <li>Return <var data-type="Promise">promise</var>.</li>
        </ol>

        <section data-dfn-for="SmartCardReaderStateIn" id="smartcardreaderstatein-dictionary"><div class="header-wrapper"><h4 id="x4-2-1-smartcardreaderstatein-dictionary"><bdi class="secno">4.2.1 </bdi><dfn data-export="" data-dfn-type="dictionary" id="dom-smartcardreaderstatein" data-idl="dictionary" data-title="SmartCardReaderStateIn" data-dfn-for="" tabindex="0" aria-haspopup="dialog"><code>SmartCardReaderStateIn</code></dfn> dictionary</h4><a class="self-link" href="#smartcardreaderstatein-dictionary" aria-label="Permalink for Section 4.2.1"></a></div>
          
          <pre class="idl def" id="webidl-1648599769"><span class="idlHeader"><a class="self-link" href="#webidl-1648599769">WebIDL</a></span><code><span data-idl="" class="idlDictionary" id="idl-def-smartcardreaderstatein" data-title="SmartCardReaderStateIn">dictionary <a class="internalDFN idlID" data-link-type="dictionary" href="#dom-smartcardreaderstatein" id="ref-for-dom-smartcardreaderstatein-2"><code>SmartCardReaderStateIn</code></a> {<span data-idl="" class="idlMember" id="idl-def-smartcardreaderstatein-readername" data-title="readerName" data-dfn-for="SmartCardReaderStateIn">
  required<span class="idlType"> <a data-link-type="idl" data-type="interface" href="https://webidl.spec.whatwg.org/#idl-DOMString">DOMString</a></span> <a class="internalDFN idlName" data-link-type="dict-member" href="#dom-smartcardreaderstatein-readername" id="ref-for-dom-smartcardreaderstatein-readername-1"><code>readerName</code></a>;</span><span data-idl="" class="idlMember" id="idl-def-smartcardreaderstatein-currentstate" data-title="currentState" data-dfn-for="SmartCardReaderStateIn">
  required<span class="idlType"> <a data-link-type="idl" href="#dom-smartcardreaderstateflagsin" class="internalDFN" id="ref-for-dom-smartcardreaderstateflagsin-1"><code>SmartCardReaderStateFlagsIn</code></a></span> <a class="internalDFN idlName" data-link-type="dict-member" href="#dom-smartcardreaderstatein-currentstate" id="ref-for-dom-smartcardreaderstatein-currentstate-1"><code>currentState</code></a>;</span><span data-idl="" class="idlMember" id="idl-def-smartcardreaderstatein-currentcount" data-title="currentCount" data-dfn-for="SmartCardReaderStateIn"><span class="idlType">
  <a data-link-type="idl" data-type="interface" href="https://webidl.spec.whatwg.org/#idl-unsigned-long">unsigned long</a></span> <a class="internalDFN idlName" data-link-type="dict-member" href="#dom-smartcardreaderstatein-currentcount" id="ref-for-dom-smartcardreaderstatein-currentcount-1"><code>currentCount</code></a>;</span>
};</span></code></pre>

          <dl>
            <dt><dfn data-export="" data-dfn-type="dict-member" id="dom-smartcardreaderstatein-readername" data-idl="field" data-title="readerName" data-dfn-for="SmartCardReaderStateIn" data-type="DOMString" tabindex="0" aria-haspopup="dialog"><code>readerName</code></dfn> member</dt>
            <dd>Name of the smart card reader.</dd>

            <dt><dfn data-export="" data-dfn-type="dict-member" id="dom-smartcardreaderstatein-currentstate" data-idl="field" data-title="currentState" data-dfn-for="SmartCardReaderStateIn" data-type="SmartCardReaderStateFlagsIn" tabindex="0" aria-haspopup="dialog"><code>currentState</code></dfn> member</dt>
            <dd>The current state of that smart card reader as known by the
              application.</dd>

            <dt><dfn data-export="" data-dfn-type="dict-member" id="dom-smartcardreaderstatein-currentcount" data-idl="field" data-title="currentCount" data-dfn-for="SmartCardReaderStateIn" data-type="unsigned long" tabindex="0" aria-haspopup="dialog"><code>currentCount</code></dfn> member</dt>
            <dd>The current number of card insertion and removal events in this
              reader, as known by the application.</dd>
          </dl>
          <p>Given a sequence of <a data-link-type="idl" data-lt="SmartCardReaderStateIn" href="#dom-smartcardreaderstatein" class="internalDFN" id="ref-for-dom-smartcardreaderstatein-3"><code>SmartCardReaderStateIn</code></a> named
          <var data-type="sequence<SmartCardReaderStateIn>">readerStates</var>, a
          <dfn data-dfn-for="SmartCardReaderStateIn" id="dfn-corresponding" tabindex="0" aria-haspopup="dialog" data-dfn-type="dfn">corresponding</dfn>
          [<cite><a class="bibref" data-link-type="biblio" href="#bib-pcsc5" title="Interoperability Specification for ICCs and Personal Computer Systems; Part 5. ICC Resource Manager Definition">PCSC5</a></cite>] <code>SCARD_READERSTATE[]</code> is created with the following
          steps:</p>
          <ol>
            <li>Let <var data-type="array of SCARD_READERSTATE">pcscReaderStates</var> be an empty
              <code>SCARD_READERSTATE[]</code>.</li>
            <li><a data-link-type="dfn|abstract-op" data-type="dfn" href="https://infra.spec.whatwg.org/#list-iterate">For each</a> <var data-type="SmartCardReaderStateIn">stateIn</var> in <var data-type="sequence<SmartCardReaderStateIn>">readerStates</var>:
              <ol>
                <li>Let <var data-type="SCARD_READERSTATE">pcscState</var> be a <code>SCARD_READERSTATE</code>.</li>
                <li>Set <var data-type="SCARD_READERSTATE">pcscState</var>.<code>Reader</code> to
                  <var data-type="SmartCardReaderStateIn">stateIn</var>["<a data-link-type="idl" href="#dom-smartcardreaderstatein-readername" class="internalDFN" id="ref-for-dom-smartcardreaderstatein-readername-2"><code>readerName</code></a>"].</li>
                <li>Set <var data-type="SCARD_READERSTATE">pcscState</var>.<code>CurrentState</code> to the <code>DWORD</code>
                  <a data-link-type="dfn|abstract-op" href="#dfn-corresponding-0" class="internalDFN" id="ref-for-dfn-corresponding-0-1">corresponding</a>
                to <var data-type="SmartCardReaderStateIn">stateIn</var>["<a data-link-type="idl" href="#dom-smartcardreaderstatein-currentstate" class="internalDFN" id="ref-for-dom-smartcardreaderstatein-currentstate-2"><code>currentState</code></a>"].</li>
                <li><a data-link-type="dfn|abstract-op" href="#dfn-set-the-high-word" class="internalDFN" id="ref-for-dfn-set-the-high-word-1">Set the high word</a> of <var data-type="SCARD_READERSTATE">pcscState</var>.<code>CurrentState</code> to
                  <var data-type="SmartCardReaderStateIn">stateIn</var>["<a data-link-type="idl" href="#dom-smartcardreaderstatein-currentcount" class="internalDFN" id="ref-for-dom-smartcardreaderstatein-currentcount-2"><code>currentCount</code></a>"].</li>
                <li>Set <var data-type="SCARD_READERSTATE">pcscState</var>.<code>EventState</code> to zero.</li>
                <li><a data-link-type="dfn|abstract-op" data-type="dfn" href="https://infra.spec.whatwg.org/#list-append">Append</a> <var data-type="SCARD_READERSTATE">pcscState</var> to <var data-type="array of SCARD_READERSTATE">pcscReaderStates</var>.</li>
              </ol>
            </li>
            <li>Return <var data-type="array of SCARD_READERSTATE">pcscReaderStates</var>.</li>
          </ol>

          <section data-dfn-for="SmartCardReaderStateFlagsIn" id="smartcardreaderstateflagsin-dictionary"><div class="header-wrapper"><h5 id="x4-2-1-1-smartcardreaderstateflagsin-dictionary"><bdi class="secno">4.2.1.1 </bdi><dfn data-export="" data-dfn-type="dictionary" id="dom-smartcardreaderstateflagsin" data-idl="dictionary" data-title="SmartCardReaderStateFlagsIn" data-dfn-for="" tabindex="0" aria-haspopup="dialog"><code>SmartCardReaderStateFlagsIn</code></dfn> dictionary</h5><a class="self-link" href="#smartcardreaderstateflagsin-dictionary" aria-label="Permalink for Section 4.2.1.1"></a></div>
            

            <pre class="idl def" id="webidl-1383660250"><span class="idlHeader"><a class="self-link" href="#webidl-1383660250">WebIDL</a></span><code><span data-idl="" class="idlDictionary" id="idl-def-smartcardreaderstateflagsin" data-title="SmartCardReaderStateFlagsIn">dictionary <a class="internalDFN idlID" data-link-type="dictionary" href="#dom-smartcardreaderstateflagsin" id="ref-for-dom-smartcardreaderstateflagsin-2"><code>SmartCardReaderStateFlagsIn</code></a> {<span data-idl="" class="idlMember" id="idl-def-smartcardreaderstateflagsin-unaware" data-title="unaware" data-dfn-for="SmartCardReaderStateFlagsIn"><span class="idlType">
  <a data-link-type="idl" data-type="interface" href="https://webidl.spec.whatwg.org/#idl-boolean">boolean</a></span> <a class="internalDFN idlName" data-link-type="dict-member" href="#dom-smartcardreaderstateflagsin-unaware" id="ref-for-dom-smartcardreaderstateflagsin-unaware-1"><code>unaware</code></a> = false;</span><span data-idl="" class="idlMember" id="idl-def-smartcardreaderstateflagsin-ignore" data-title="ignore" data-dfn-for="SmartCardReaderStateFlagsIn"><span class="idlType">
  <a data-link-type="idl" data-type="interface" href="https://webidl.spec.whatwg.org/#idl-boolean">boolean</a></span> <a class="internalDFN idlName" data-link-type="dict-member" href="#dom-smartcardreaderstateflagsin-ignore" id="ref-for-dom-smartcardreaderstateflagsin-ignore-1"><code>ignore</code></a> = false;</span><span data-idl="" class="idlMember" id="idl-def-smartcardreaderstateflagsin-unavailable" data-title="unavailable" data-dfn-for="SmartCardReaderStateFlagsIn"><span class="idlType">
  <a data-link-type="idl" data-type="interface" href="https://webidl.spec.whatwg.org/#idl-boolean">boolean</a></span> <a class="internalDFN idlName" data-link-type="dict-member" href="#dom-smartcardreaderstateflagsin-unavailable" id="ref-for-dom-smartcardreaderstateflagsin-unavailable-1"><code>unavailable</code></a> = false;</span><span data-idl="" class="idlMember" id="idl-def-smartcardreaderstateflagsin-empty" data-title="empty" data-dfn-for="SmartCardReaderStateFlagsIn"><span class="idlType">
  <a data-link-type="idl" data-type="interface" href="https://webidl.spec.whatwg.org/#idl-boolean">boolean</a></span> <a class="internalDFN idlName" data-link-type="dict-member" href="#dom-smartcardreaderstateflagsin-empty" id="ref-for-dom-smartcardreaderstateflagsin-empty-1"><code>empty</code></a> = false;</span><span data-idl="" class="idlMember" id="idl-def-smartcardreaderstateflagsin-present" data-title="present" data-dfn-for="SmartCardReaderStateFlagsIn"><span class="idlType">
  <a data-link-type="idl" data-type="interface" href="https://webidl.spec.whatwg.org/#idl-boolean">boolean</a></span> <a class="internalDFN idlName" data-link-type="dict-member" href="#dom-smartcardreaderstateflagsin-present" id="ref-for-dom-smartcardreaderstateflagsin-present-1"><code>present</code></a> = false;</span><span data-idl="" class="idlMember" id="idl-def-smartcardreaderstateflagsin-exclusive" data-title="exclusive" data-dfn-for="SmartCardReaderStateFlagsIn"><span class="idlType">
  <a data-link-type="idl" data-type="interface" href="https://webidl.spec.whatwg.org/#idl-boolean">boolean</a></span> <a class="internalDFN idlName" data-link-type="dict-member" href="#dom-smartcardreaderstateflagsin-exclusive" id="ref-for-dom-smartcardreaderstateflagsin-exclusive-1"><code>exclusive</code></a> = false;</span><span data-idl="" class="idlMember" id="idl-def-smartcardreaderstateflagsin-inuse" data-title="inuse" data-dfn-for="SmartCardReaderStateFlagsIn"><span class="idlType">
  <a data-link-type="idl" data-type="interface" href="https://webidl.spec.whatwg.org/#idl-boolean">boolean</a></span> <a class="internalDFN idlName" data-link-type="dict-member" href="#dom-smartcardreaderstateflagsin-inuse" id="ref-for-dom-smartcardreaderstateflagsin-inuse-1"><code>inuse</code></a> = false;</span><span data-idl="" class="idlMember" id="idl-def-smartcardreaderstateflagsin-mute" data-title="mute" data-dfn-for="SmartCardReaderStateFlagsIn"><span class="idlType">
  <a data-link-type="idl" data-type="interface" href="https://webidl.spec.whatwg.org/#idl-boolean">boolean</a></span> <a class="internalDFN idlName" data-link-type="dict-member" href="#dom-smartcardreaderstateflagsin-mute" id="ref-for-dom-smartcardreaderstateflagsin-mute-1"><code>mute</code></a> = false;</span>
};</span></code></pre>

            <dl>
              <dt><dfn data-export="" data-dfn-type="dict-member" id="dom-smartcardreaderstateflagsin-unaware" data-idl="field" data-title="unaware" data-dfn-for="SmartCardReaderStateFlagsIn" data-type="boolean" tabindex="0" aria-haspopup="dialog"><code>unaware</code></dfn> member</dt>
              <dd>The application is unaware of the current state, and would like
                to know.</dd>

              <dt><dfn data-export="" data-dfn-type="dict-member" id="dom-smartcardreaderstateflagsin-ignore" data-idl="field" data-title="ignore" data-dfn-for="SmartCardReaderStateFlagsIn" data-type="boolean" tabindex="0" aria-haspopup="dialog"><code>ignore</code></dfn> member</dt>
              <dd>The application is not interested in this reader, and it should
                not be considered during monitoring operations.</dd>

              <dt><dfn data-export="" data-dfn-type="dict-member" id="dom-smartcardreaderstateflagsin-unavailable" data-idl="field" data-title="unavailable" data-dfn-for="SmartCardReaderStateFlagsIn" data-type="boolean" tabindex="0" aria-haspopup="dialog"><code>unavailable</code></dfn> member</dt>
              <dd>The application believes that this reader is not available for
                use.</dd>

              <dt><dfn data-export="" data-dfn-type="dict-member" id="dom-smartcardreaderstateflagsin-empty" data-idl="field" data-title="empty" data-dfn-for="SmartCardReaderStateFlagsIn" data-type="boolean" tabindex="0" aria-haspopup="dialog"><code>empty</code></dfn> member</dt>
              <dd>The application believes that there is not a card in the
                reader.</dd>

              <dt><dfn data-export="" data-dfn-type="dict-member" id="dom-smartcardreaderstateflagsin-present" data-idl="field" data-title="present" data-dfn-for="SmartCardReaderStateFlagsIn" data-type="boolean" tabindex="0" aria-haspopup="dialog"><code>present</code></dfn> member</dt>
              <dd>The application believes that there is a card in the
                reader.</dd>

              <dt><dfn data-export="" data-dfn-type="dict-member" id="dom-smartcardreaderstateflagsin-exclusive" data-idl="field" data-title="exclusive" data-dfn-for="SmartCardReaderStateFlagsIn" data-type="boolean" tabindex="0" aria-haspopup="dialog"><code>exclusive</code></dfn> member</dt>
              <dd>The application believes that the card in the reader is
                allocated for exclusive use by another application.</dd>

              <dt><dfn data-export="" data-dfn-type="dict-member" id="dom-smartcardreaderstateflagsin-inuse" data-idl="field" data-title="inuse" data-dfn-for="SmartCardReaderStateFlagsIn" data-type="boolean" tabindex="0" aria-haspopup="dialog"><code>inuse</code></dfn> member</dt>
              <dd>The application believes that the card in the reader is in use
                by one or more other applications, but may be connected to in
                shared mode. </dd>

              <dt><dfn data-export="" data-dfn-type="dict-member" id="dom-smartcardreaderstateflagsin-mute" data-idl="field" data-title="mute" data-dfn-for="SmartCardReaderStateFlagsIn" data-type="boolean" tabindex="0" aria-haspopup="dialog"><code>mute</code></dfn> member</dt>
              <dd>The application believes that there is an unresponsive card in
                the reader.</dd>
            </dl>

            <p>The [<cite><a class="bibref" data-link-type="biblio" href="#bib-pcsc5" title="Interoperability Specification for ICCs and Personal Computer Systems; Part 5. ICC Resource Manager Definition">PCSC5</a></cite>] <code>DWORD</code>
              <dfn data-dfn-for="SmartCardReaderStateFlagsIn" id="dfn-corresponding-0" tabindex="0" aria-haspopup="dialog" data-dfn-type="dfn">corresponding</dfn>
              to a given <a data-link-type="idl" data-lt="SmartCardReaderStateFlagsIn" href="#dom-smartcardreaderstateflagsin" class="internalDFN" id="ref-for-dom-smartcardreaderstateflagsin-3"><code>SmartCardReaderStateFlagsIn</code></a> is created with the
              following steps:</p>
            <ol>
              <li>Let <var data-type="SmartCardReaderStateFlagsIn">flagsIn</var> be the given
                <a data-link-type="idl" data-lt="SmartCardReaderStateFlagsIn" href="#dom-smartcardreaderstateflagsin" class="internalDFN" id="ref-for-dom-smartcardreaderstateflagsin-4"><code>SmartCardReaderStateFlagsIn</code></a>.</li>
              <li>Let <var data-type="DWORD">pcscFlags</var> be a <code>DWORD</code> set to zero.</li>
              <li>If <var data-type="SmartCardReaderStateFlagsIn">flagsIn</var>["<a data-link-type="idl" href="#dom-smartcardreaderstateflagsin-unaware" class="internalDFN" id="ref-for-dom-smartcardreaderstateflagsin-unaware-2"><code>unaware</code></a>"] is
                <code>true</code>, <a data-link-type="dfn|abstract-op" data-lt="add a flag" href="#dfn-add-a-flag" class="internalDFN" id="ref-for-dfn-add-a-flag-1">add</a> [<cite><a class="bibref" data-link-type="biblio" href="#bib-pcsc5" title="Interoperability Specification for ICCs and Personal Computer Systems; Part 5. ICC Resource Manager Definition">PCSC5</a></cite>] <code>SCARD_STATE_UNAWARE</code> to
                <var data-type="DWORD">pcscFlags</var>.</li>
              <li>If <var data-type="SmartCardReaderStateFlagsIn">flagsIn</var>["<a data-link-type="idl" href="#dom-smartcardreaderstateflagsin-ignore" class="internalDFN" id="ref-for-dom-smartcardreaderstateflagsin-ignore-2"><code>ignore</code></a>"] is
                <code>true</code>, <a data-link-type="dfn|abstract-op" data-lt="add a flag" href="#dfn-add-a-flag" class="internalDFN" id="ref-for-dfn-add-a-flag-2">add</a> [<cite><a class="bibref" data-link-type="biblio" href="#bib-pcsc5" title="Interoperability Specification for ICCs and Personal Computer Systems; Part 5. ICC Resource Manager Definition">PCSC5</a></cite>] <code>SCARD_STATE_IGNORE</code> to
                <var data-type="DWORD">pcscFlags</var>.</li>
              <li>If <var data-type="SmartCardReaderStateFlagsIn">flagsIn</var>["<a data-link-type="idl" href="#dom-smartcardreaderstateflagsin-unavailable" class="internalDFN" id="ref-for-dom-smartcardreaderstateflagsin-unavailable-2"><code>unavailable</code></a>"]
                is <code>true</code>, <a data-link-type="dfn|abstract-op" data-lt="add a flag" href="#dfn-add-a-flag" class="internalDFN" id="ref-for-dfn-add-a-flag-3">add</a> [<cite><a class="bibref" data-link-type="biblio" href="#bib-pcsc5" title="Interoperability Specification for ICCs and Personal Computer Systems; Part 5. ICC Resource Manager Definition">PCSC5</a></cite>]
                <code>SCARD_STATE_UNAVAILABLE</code> to <var data-type="DWORD">pcscFlags</var>.</li>
              <li>If <var data-type="SmartCardReaderStateFlagsIn">flagsIn</var>["<a data-link-type="idl" href="#dom-smartcardreaderstateflagsin-empty" class="internalDFN" id="ref-for-dom-smartcardreaderstateflagsin-empty-2"><code>empty</code></a>"] is
                <code>true</code>, <a data-link-type="dfn|abstract-op" data-lt="add a flag" href="#dfn-add-a-flag" class="internalDFN" id="ref-for-dfn-add-a-flag-4">add</a> [<cite><a class="bibref" data-link-type="biblio" href="#bib-pcsc5" title="Interoperability Specification for ICCs and Personal Computer Systems; Part 5. ICC Resource Manager Definition">PCSC5</a></cite>] <code>SCARD_STATE_EMPTY</code> to
                <var data-type="DWORD">pcscFlags</var>.</li>
              <li>If <var data-type="SmartCardReaderStateFlagsIn">flagsIn</var>["<a data-link-type="idl" href="#dom-smartcardreaderstateflagsin-present" class="internalDFN" id="ref-for-dom-smartcardreaderstateflagsin-present-2"><code>present</code></a>"] is
                <code>true</code>, <a data-link-type="dfn|abstract-op" data-lt="add a flag" href="#dfn-add-a-flag" class="internalDFN" id="ref-for-dfn-add-a-flag-5">add</a> [<cite><a class="bibref" data-link-type="biblio" href="#bib-pcsc5" title="Interoperability Specification for ICCs and Personal Computer Systems; Part 5. ICC Resource Manager Definition">PCSC5</a></cite>] <code>SCARD_STATE_PRESENT</code> to
                <var data-type="DWORD">pcscFlags</var>.</li>
              <li>If <var data-type="SmartCardReaderStateFlagsIn">flagsIn</var>["<a data-link-type="idl" href="#dom-smartcardreaderstateflagsin-exclusive" class="internalDFN" id="ref-for-dom-smartcardreaderstateflagsin-exclusive-2"><code>exclusive</code></a>"] is
                <code>true</code>, <a data-link-type="dfn|abstract-op" data-lt="add a flag" href="#dfn-add-a-flag" class="internalDFN" id="ref-for-dfn-add-a-flag-6">add</a> [<cite><a class="bibref" data-link-type="biblio" href="#bib-pcsc5" title="Interoperability Specification for ICCs and Personal Computer Systems; Part 5. ICC Resource Manager Definition">PCSC5</a></cite>] <code>SCARD_STATE_EXCLUSIVE</code> to
                <var data-type="DWORD">pcscFlags</var>.</li>
              <li>If <var data-type="SmartCardReaderStateFlagsIn">flagsIn</var>["<a data-link-type="idl" href="#dom-smartcardreaderstateflagsin-inuse" class="internalDFN" id="ref-for-dom-smartcardreaderstateflagsin-inuse-2"><code>inuse</code></a>"] is
                <code>true</code>, <a data-link-type="dfn|abstract-op" data-lt="add a flag" href="#dfn-add-a-flag" class="internalDFN" id="ref-for-dfn-add-a-flag-7">add</a> [<cite><a class="bibref" data-link-type="biblio" href="#bib-pcsc5" title="Interoperability Specification for ICCs and Personal Computer Systems; Part 5. ICC Resource Manager Definition">PCSC5</a></cite>] <code>SCARD_STATE_INUSE</code> to
                <var data-type="DWORD">pcscFlags</var>.</li>
              <li>If <var data-type="SmartCardReaderStateFlagsIn">flagsIn</var>["<a data-link-type="idl" href="#dom-smartcardreaderstateflagsin-mute" class="internalDFN" id="ref-for-dom-smartcardreaderstateflagsin-mute-2"><code>mute</code></a>"] is
                <code>true</code>, <a data-link-type="dfn|abstract-op" data-lt="add a flag" href="#dfn-add-a-flag" class="internalDFN" id="ref-for-dfn-add-a-flag-8">add</a> <code>SCARD_STATE_MUTE</code> to
                <var data-type="DWORD">pcscFlags</var>.
                <div class="note" role="note" id="issue-container-generatedID-1"><div role="heading" class="note-title marker" id="h-note-1" aria-level="6"><span>Note</span></div><aside class="">
                  <p><code>SCARD_STATE_MUTE</code> is not part of [<cite><a class="bibref" data-link-type="biblio" href="#bib-pcsc5" title="Interoperability Specification for ICCs and Personal Computer Systems; Part 5. ICC Resource Manager Definition">PCSC5</a></cite>] but it is still
                  considered in this specification as existing PC/SC
                  implementations use it.</p>
                </aside></div>
              </li>
              <li>Return <var data-type="DWORD">pcscFlags</var>.</li>
            </ol>
          </section>
        </section>
        <section data-dfn-for="SmartCardReaderStateOut" id="smartcardreaderstateout-dictionary"><div class="header-wrapper"><h4 id="x4-2-2-smartcardreaderstateout-dictionary"><bdi class="secno">4.2.2 </bdi><dfn data-export="" data-dfn-type="dictionary" id="dom-smartcardreaderstateout" data-idl="dictionary" data-title="SmartCardReaderStateOut" data-dfn-for="" tabindex="0" aria-haspopup="dialog"><code>SmartCardReaderStateOut</code></dfn> dictionary</h4><a class="self-link" href="#smartcardreaderstateout-dictionary" aria-label="Permalink for Section 4.2.2"></a></div>
          
          <p>The actual state of a smart card reader.</p>

          <pre class="idl def" id="webidl-889475000"><span class="idlHeader"><a class="self-link" href="#webidl-889475000">WebIDL</a></span><code><span data-idl="" class="idlDictionary" id="idl-def-smartcardreaderstateout" data-title="SmartCardReaderStateOut">dictionary <a class="internalDFN idlID" data-link-type="dictionary" href="#dom-smartcardreaderstateout" id="ref-for-dom-smartcardreaderstateout-3"><code>SmartCardReaderStateOut</code></a> {<span data-idl="" class="idlMember" id="idl-def-smartcardreaderstateout-readername" data-title="readerName" data-dfn-for="SmartCardReaderStateOut">
  required<span class="idlType"> <a data-link-type="idl" data-type="interface" href="https://webidl.spec.whatwg.org/#idl-DOMString">DOMString</a></span> <a class="internalDFN idlName" data-link-type="dict-member" href="#dom-smartcardreaderstateout-readername" id="ref-for-dom-smartcardreaderstateout-readername-1"><code>readerName</code></a>;</span><span data-idl="" class="idlMember" id="idl-def-smartcardreaderstateout-eventstate" data-title="eventState" data-dfn-for="SmartCardReaderStateOut">
  required<span class="idlType"> <a data-link-type="idl" href="#dom-smartcardreaderstateflagsout" class="internalDFN" id="ref-for-dom-smartcardreaderstateflagsout-1"><code>SmartCardReaderStateFlagsOut</code></a></span> <a class="internalDFN idlName" data-link-type="dict-member" href="#dom-smartcardreaderstateout-eventstate" id="ref-for-dom-smartcardreaderstateout-eventstate-1"><code>eventState</code></a>;</span><span data-idl="" class="idlMember" id="idl-def-smartcardreaderstateout-eventcount" data-title="eventCount" data-dfn-for="SmartCardReaderStateOut">
  required<span class="idlType"> <a data-link-type="idl" data-type="interface" href="https://webidl.spec.whatwg.org/#idl-unsigned-long">unsigned long</a></span> <a class="internalDFN idlName" data-link-type="dict-member" href="#dom-smartcardreaderstateout-eventcount" id="ref-for-dom-smartcardreaderstateout-eventcount-1"><code>eventCount</code></a>;</span><span data-idl="" class="idlMember" id="idl-def-smartcardreaderstateout-answertoreset" data-title="answerToReset" data-dfn-for="SmartCardReaderStateOut"><span class="idlType">
  <a data-link-type="idl" data-type="interface" href="https://webidl.spec.whatwg.org/#idl-ArrayBuffer">ArrayBuffer</a></span> <a class="internalDFN idlName" data-link-type="dict-member" href="#dom-smartcardreaderstateout-answertoreset" id="ref-for-dom-smartcardreaderstateout-answertoreset-1"><code>answerToReset</code></a>;</span>
};</span></code></pre>

          <dl>
            <dt><dfn data-export="" data-dfn-type="dict-member" id="dom-smartcardreaderstateout-readername" data-idl="field" data-title="readerName" data-dfn-for="SmartCardReaderStateOut" data-type="DOMString" tabindex="0" aria-haspopup="dialog"><code>readerName</code></dfn> member</dt>
            <dd>Name of the smart card reader.</dd>

            <dt><dfn data-export="" data-dfn-type="dict-member" id="dom-smartcardreaderstateout-eventstate" data-idl="field" data-title="eventState" data-dfn-for="SmartCardReaderStateOut" data-type="SmartCardReaderStateFlagsOut" tabindex="0" aria-haspopup="dialog"><code>eventState</code></dfn> member</dt>
            <dd>The actual state of that smart card reader.</dd>

            <dt><dfn data-export="" data-dfn-type="dict-member" id="dom-smartcardreaderstateout-eventcount" data-idl="field" data-title="eventCount" data-dfn-for="SmartCardReaderStateOut" data-type="unsigned long" tabindex="0" aria-haspopup="dialog"><code>eventCount</code></dfn> member</dt>
            <dd>The actual number of card insertion and removal events in this
              reader.</dd>

            <dt><dfn data-export="" data-dfn-type="dict-member" id="dom-smartcardreaderstateout-answertoreset" data-idl="field" data-title="answerToReset" data-dfn-for="SmartCardReaderStateOut" data-type="ArrayBuffer" tabindex="0" aria-haspopup="dialog"><code>answerToReset</code></dfn> member</dt>
            <dd>The inserted card's [<cite><a class="bibref" data-link-type="biblio" href="#bib-iso7186-3" title="Identification cards - Integrated circuit cards; Part 3: Cards with contacts - Electrical interface and transmission protocols">ISO7186-3</a></cite>] Answer To Reset (ATR), if
              applicable.</dd>
          </dl>

          <p>Given a [<cite><a class="bibref" data-link-type="biblio" href="#bib-pcsc5" title="Interoperability Specification for ICCs and Personal Computer Systems; Part 5. ICC Resource Manager Definition">PCSC5</a></cite>] <code>SCARD_READERSTATE[]</code> named
          <var data-type="array of SCARD_READERSTATE">pcscReaderStates</var>, a <dfn data-dfn-for="SmartCardReaderStateOut" id="dfn-corresponding-1" tabindex="0" aria-haspopup="dialog" data-dfn-type="dfn">corresponding</dfn> sequence of
          <a data-link-type="idl" data-lt="SmartCardReaderStateOut" href="#dom-smartcardreaderstateout" class="internalDFN" id="ref-for-dom-smartcardreaderstateout-4"><code>SmartCardReaderStateOut</code></a> is created with the following steps:</p>
          <ol>
            <li>Let <var data-type="sequence<SmartCardReaderStateOut>">readerStatesOut</var> be
              an empty sequence of <a data-link-type="idl" data-lt="SmartCardReaderStateOut" href="#dom-smartcardreaderstateout" class="internalDFN" id="ref-for-dom-smartcardreaderstateout-5"><code>SmartCardReaderStateOut</code></a>.</li>
            <li><a data-link-type="dfn|abstract-op" data-type="dfn" href="https://infra.spec.whatwg.org/#list-iterate">For each</a> <var data-type="SCARD_READERSTATE">pcscState</var> in
              <var data-type="array of SCARD_READERSTATE">pcscReaderStates</var>:
              <ol>
                <li>Let <var data-type="SmartCardReaderStateOut">stateOut</var> be a
                  <a data-link-type="idl" data-lt="SmartCardReaderStateOut" href="#dom-smartcardreaderstateout" class="internalDFN" id="ref-for-dom-smartcardreaderstateout-6"><code>SmartCardReaderStateOut</code></a>.</li>
                <li>Set <var data-type="SmartCardReaderStateOut">stateOut</var>["<a data-link-type="idl" href="#dom-smartcardreaderstateout-readername" class="internalDFN" id="ref-for-dom-smartcardreaderstateout-readername-2"><code>readerName</code></a>"] to
                  <var data-type="SCARD_READERSTATE">pcscState</var>.<code>Reader</code>.</li>
                <li>Set <var data-type="SmartCardReaderStateOut">stateOut</var>["<a data-link-type="idl" href="#dom-smartcardreaderstateout-eventstate" class="internalDFN" id="ref-for-dom-smartcardreaderstateout-eventstate-2"><code>eventState</code></a>"] to
                  the <a data-link-type="idl" data-lt="SmartCardReaderStateFlagsOut" href="#dom-smartcardreaderstateflagsout" class="internalDFN" id="ref-for-dom-smartcardreaderstateflagsout-2"><code>SmartCardReaderStateFlagsOut</code></a> dictionary
                  <a data-link-type="dfn|abstract-op" href="#dfn-corresponding-2" class="internalDFN" id="ref-for-dfn-corresponding-2-1">corresponding</a>
                  to <var data-type="SCARD_READERSTATE">pcscState</var>.<code>EventState</code>.</li>
                <li>Set <var data-type="SmartCardReaderStateOut">stateOut</var>["<a data-link-type="idl" href="#dom-smartcardreaderstateout-eventcount" class="internalDFN" id="ref-for-dom-smartcardreaderstateout-eventcount-2"><code>eventCount</code></a>"] to
                  the <a data-link-type="dfn|abstract-op" href="#dfn-high-word" class="internalDFN" id="ref-for-dfn-high-word-1">high word</a> of <var data-type="SCARD_READERSTATE">pcscState</var>.<code>EventState</code>.
                  <div class="note" role="note" id="issue-container-generatedID-2"><div role="heading" class="note-title marker" id="h-note-2" aria-level="5"><span>Note</span><span class="issue-label">: Number of card insertion and removal
                    events</span></div><aside class="">
                    <p>Having the number of card insertion and removal events
                    stored in the upper 2 bytes of the <code>EventState</code> and
                    <code>CurrentState</code> <code>DWORD</code>s is not part of [<cite><a class="bibref" data-link-type="biblio" href="#bib-pcsc5" title="Interoperability Specification for ICCs and Personal Computer Systems; Part 5. ICC Resource Manager Definition">PCSC5</a></cite>] but it is
                    still considered in this specification as several existing
                    PC/SC implementations use it.</p>
                    <p>In PC/SC implementations where this information is not
                    available, the upper two bytes of <code>EventState</code> will always
                    be zero and so the resulting
                    "<a data-link-type="idl" href="#dom-smartcardreaderstateout-eventcount" class="internalDFN" id="ref-for-dom-smartcardreaderstateout-eventcount-3"><code>eventCount</code></a>" will be zero.</p>
                    <p>The algorithms in this specification assume that PC/SC
                    implementations will define all [<cite><a class="bibref" data-link-type="biblio" href="#bib-pcsc5" title="Interoperability Specification for ICCs and Personal Computer Systems; Part 5. ICC Resource Manager Definition">PCSC5</a></cite>] <code>SCARD_STATE_*</code>
                    flags to be <code>DWORD</code> values no higher than <code>0xFFFF</code>.</p>
                  </aside></div>
                </li>
                <li>If the platform's <code>SCARD_READERSTATE</code> structure has a member
                  containing the card's [<cite><a class="bibref" data-link-type="biblio" href="#bib-iso7186-3" title="Identification cards - Integrated circuit cards; Part 3: Cards with contacts - Electrical interface and transmission protocols">ISO7186-3</a></cite>] Answer To Reset, set
                  <var data-type="SmartCardReaderStateOut">stateOut</var>["<a data-link-type="idl" href="#dom-smartcardreaderstateout-answertoreset" class="internalDFN" id="ref-for-dom-smartcardreaderstateout-answertoreset-2"><code>answerToReset</code></a>"] to
                  that value.</li>
                <li><a data-link-type="dfn|abstract-op" data-type="dfn" href="https://infra.spec.whatwg.org/#list-append">Append</a> <var data-type="SmartCardReaderStateOut">stateOut</var> to <var data-type="sequence<SmartCardReaderStateOut>">readerStatesOut</var>.</li>
              </ol>
            </li>
            <li>Return <var data-type="sequence<SmartCardReaderStateOut>">readerStatesOut</var>.</li>
          </ol>

          <section data-dfn-for="SmartCardReaderStateFlagsOut" id="smartcardreaderstateflagsout-dictionary"><div class="header-wrapper"><h5 id="x4-2-2-1-smartcardreaderstateflagsout-dictionary"><bdi class="secno">4.2.2.1 </bdi><dfn data-export="" data-dfn-type="dictionary" id="dom-smartcardreaderstateflagsout" data-idl="dictionary" data-title="SmartCardReaderStateFlagsOut" data-dfn-for="" tabindex="0" aria-haspopup="dialog"><code>SmartCardReaderStateFlagsOut</code></dfn> dictionary</h5><a class="self-link" href="#smartcardreaderstateflagsout-dictionary" aria-label="Permalink for Section 4.2.2.1"></a></div>
            

            <pre class="idl def" id="webidl-1736043475"><span class="idlHeader"><a class="self-link" href="#webidl-1736043475">WebIDL</a></span><code><span data-idl="" class="idlDictionary" id="idl-def-smartcardreaderstateflagsout" data-title="SmartCardReaderStateFlagsOut">dictionary <a class="internalDFN idlID" data-link-type="dictionary" href="#dom-smartcardreaderstateflagsout" id="ref-for-dom-smartcardreaderstateflagsout-3"><code>SmartCardReaderStateFlagsOut</code></a> {<span data-idl="" class="idlMember" id="idl-def-smartcardreaderstateflagsout-ignore" data-title="ignore" data-dfn-for="SmartCardReaderStateFlagsOut"><span class="idlType">
  <a data-link-type="idl" data-type="interface" href="https://webidl.spec.whatwg.org/#idl-boolean">boolean</a></span> <a class="internalDFN idlName" data-link-type="dict-member" href="#dom-smartcardreaderstateflagsout-ignore" id="ref-for-dom-smartcardreaderstateflagsout-ignore-1"><code>ignore</code></a> = false;</span><span data-idl="" class="idlMember" id="idl-def-smartcardreaderstateflagsout-changed" data-title="changed" data-dfn-for="SmartCardReaderStateFlagsOut"><span class="idlType">
  <a data-link-type="idl" data-type="interface" href="https://webidl.spec.whatwg.org/#idl-boolean">boolean</a></span> <a class="internalDFN idlName" data-link-type="dict-member" href="#dom-smartcardreaderstateflagsout-changed" id="ref-for-dom-smartcardreaderstateflagsout-changed-1"><code>changed</code></a> = false;</span><span data-idl="" class="idlMember" id="idl-def-smartcardreaderstateflagsout-unavailable" data-title="unavailable" data-dfn-for="SmartCardReaderStateFlagsOut"><span class="idlType">
  <a data-link-type="idl" data-type="interface" href="https://webidl.spec.whatwg.org/#idl-boolean">boolean</a></span> <a class="internalDFN idlName" data-link-type="dict-member" href="#dom-smartcardreaderstateflagsout-unavailable" id="ref-for-dom-smartcardreaderstateflagsout-unavailable-1"><code>unavailable</code></a> = false;</span><span data-idl="" class="idlMember" id="idl-def-smartcardreaderstateflagsout-unknown" data-title="unknown" data-dfn-for="SmartCardReaderStateFlagsOut"><span class="idlType">
  <a data-link-type="idl" data-type="interface" href="https://webidl.spec.whatwg.org/#idl-boolean">boolean</a></span> <a class="internalDFN idlName" data-link-type="dict-member" href="#dom-smartcardreaderstateflagsout-unknown" id="ref-for-dom-smartcardreaderstateflagsout-unknown-1"><code>unknown</code></a> = false;</span><span data-idl="" class="idlMember" id="idl-def-smartcardreaderstateflagsout-empty" data-title="empty" data-dfn-for="SmartCardReaderStateFlagsOut"><span class="idlType">
  <a data-link-type="idl" data-type="interface" href="https://webidl.spec.whatwg.org/#idl-boolean">boolean</a></span> <a class="internalDFN idlName" data-link-type="dict-member" href="#dom-smartcardreaderstateflagsout-empty" id="ref-for-dom-smartcardreaderstateflagsout-empty-1"><code>empty</code></a> = false;</span><span data-idl="" class="idlMember" id="idl-def-smartcardreaderstateflagsout-present" data-title="present" data-dfn-for="SmartCardReaderStateFlagsOut"><span class="idlType">
  <a data-link-type="idl" data-type="interface" href="https://webidl.spec.whatwg.org/#idl-boolean">boolean</a></span> <a class="internalDFN idlName" data-link-type="dict-member" href="#dom-smartcardreaderstateflagsout-present" id="ref-for-dom-smartcardreaderstateflagsout-present-1"><code>present</code></a> = false;</span><span data-idl="" class="idlMember" id="idl-def-smartcardreaderstateflagsout-exclusive" data-title="exclusive" data-dfn-for="SmartCardReaderStateFlagsOut"><span class="idlType">
  <a data-link-type="idl" data-type="interface" href="https://webidl.spec.whatwg.org/#idl-boolean">boolean</a></span> <a class="internalDFN idlName" data-link-type="dict-member" href="#dom-smartcardreaderstateflagsout-exclusive" id="ref-for-dom-smartcardreaderstateflagsout-exclusive-1"><code>exclusive</code></a> = false;</span><span data-idl="" class="idlMember" id="idl-def-smartcardreaderstateflagsout-inuse" data-title="inuse" data-dfn-for="SmartCardReaderStateFlagsOut"><span class="idlType">
  <a data-link-type="idl" data-type="interface" href="https://webidl.spec.whatwg.org/#idl-boolean">boolean</a></span> <a class="internalDFN idlName" data-link-type="dict-member" href="#dom-smartcardreaderstateflagsout-inuse" id="ref-for-dom-smartcardreaderstateflagsout-inuse-1"><code>inuse</code></a> = false;</span><span data-idl="" class="idlMember" id="idl-def-smartcardreaderstateflagsout-mute" data-title="mute" data-dfn-for="SmartCardReaderStateFlagsOut"><span class="idlType">
  <a data-link-type="idl" data-type="interface" href="https://webidl.spec.whatwg.org/#idl-boolean">boolean</a></span> <a class="internalDFN idlName" data-link-type="dict-member" href="#dom-smartcardreaderstateflagsout-mute" id="ref-for-dom-smartcardreaderstateflagsout-mute-1"><code>mute</code></a> = false;</span>
};</span></code></pre>

            <dl>
              <dt><dfn data-export="" data-dfn-type="dict-member" id="dom-smartcardreaderstateflagsout-ignore" data-idl="field" data-title="ignore" data-dfn-for="SmartCardReaderStateFlagsOut" data-type="boolean" tabindex="0" aria-haspopup="dialog"><code>ignore</code></dfn> member</dt>
              <dd>The application requested that this reader be ignored.</dd>

              <dt><dfn data-export="" data-dfn-type="dict-member" id="dom-smartcardreaderstateflagsout-changed" data-idl="field" data-title="changed" data-dfn-for="SmartCardReaderStateFlagsOut" data-type="boolean" tabindex="0" aria-haspopup="dialog"><code>changed</code></dfn> member</dt>
              <dd>There is a difference between the state input by the calling
                application, and the actual state.</dd>

              <dt><dfn data-export="" data-dfn-type="dict-member" id="dom-smartcardreaderstateflagsout-unavailable" data-idl="field" data-title="unavailable" data-dfn-for="SmartCardReaderStateFlagsOut" data-type="boolean" tabindex="0" aria-haspopup="dialog"><code>unavailable</code></dfn> member</dt>
              <dd>This reader is not available for use.</dd>

              <dt><dfn data-export="" data-dfn-type="dict-member" id="dom-smartcardreaderstateflagsout-unknown" data-idl="field" data-title="unknown" data-dfn-for="SmartCardReaderStateFlagsOut" data-type="boolean" tabindex="0" aria-haspopup="dialog"><code>unknown</code></dfn> member</dt>
              <dd>The reader name given by the application is not known.</dd>

              <dt><dfn data-export="" data-dfn-type="dict-member" id="dom-smartcardreaderstateflagsout-empty" data-idl="field" data-title="empty" data-dfn-for="SmartCardReaderStateFlagsOut" data-type="boolean" tabindex="0" aria-haspopup="dialog"><code>empty</code></dfn> member</dt>
              <dd>There is no card in the reader.</dd>

              <dt><dfn data-export="" data-dfn-type="dict-member" id="dom-smartcardreaderstateflagsout-present" data-idl="field" data-title="present" data-dfn-for="SmartCardReaderStateFlagsOut" data-type="boolean" tabindex="0" aria-haspopup="dialog"><code>present</code></dfn> member</dt>
              <dd>There is a card in the reader.</dd>

              <dt><dfn data-export="" data-dfn-type="dict-member" id="dom-smartcardreaderstateflagsout-exclusive" data-idl="field" data-title="exclusive" data-dfn-for="SmartCardReaderStateFlagsOut" data-type="boolean" tabindex="0" aria-haspopup="dialog"><code>exclusive</code></dfn> member</dt>
              <dd>The card in the reader is allocated for exclusive use by
                another application.</dd>

              <dt><dfn data-export="" data-dfn-type="dict-member" id="dom-smartcardreaderstateflagsout-inuse" data-idl="field" data-title="inuse" data-dfn-for="SmartCardReaderStateFlagsOut" data-type="boolean" tabindex="0" aria-haspopup="dialog"><code>inuse</code></dfn> member</dt>
              <dd>The card in the reader is in use by one or more other
                applications, but may be connected to in shared mode. </dd>

              <dt><dfn data-export="" data-dfn-type="dict-member" id="dom-smartcardreaderstateflagsout-mute" data-idl="field" data-title="mute" data-dfn-for="SmartCardReaderStateFlagsOut" data-type="boolean" tabindex="0" aria-haspopup="dialog"><code>mute</code></dfn> member</dt>
              <dd>There is an unresponsive card in the reader.</dd>
            </dl>

            <p>Given a [<cite><a class="bibref" data-link-type="biblio" href="#bib-pcsc5" title="Interoperability Specification for ICCs and Personal Computer Systems; Part 5. ICC Resource Manager Definition">PCSC5</a></cite>] <code>DWORD</code> named <var data-type="DWORD">pcscFlags</var>, a <dfn data-dfn-for="SmartCardReaderStateFlagsOut" id="dfn-corresponding-2" tabindex="0" aria-haspopup="dialog" data-dfn-type="dfn">corresponding</dfn>
              <a data-link-type="idl" data-lt="SmartCardReaderStateFlagsOut" href="#dom-smartcardreaderstateflagsout" class="internalDFN" id="ref-for-dom-smartcardreaderstateflagsout-4"><code>SmartCardReaderStateFlagsOut</code></a> dictionary is created with the
              following steps:</p>
            <ol>
              <li>Let <var data-type="SmartCardReaderStateFlagsOut">flagsOut</var> be a
                <a data-link-type="idl" data-lt="SmartCardReaderStateFlagsOut" href="#dom-smartcardreaderstateflagsout" class="internalDFN" id="ref-for-dom-smartcardreaderstateflagsout-5"><code>SmartCardReaderStateFlagsOut</code></a> dictionary with <a data-link-type="dfn|abstract-op" data-lt="default value" data-type="dfn" href="https://webidl.spec.whatwg.org/#dfn-dictionary-member-default-value">default members</a>.</li>
              <li>If <var data-type="DWORD">pcscFlags</var> <a data-link-type="dfn|abstract-op" data-lt="has a flag" href="#dfn-has-a-flag" class="internalDFN" id="ref-for-dfn-has-a-flag-1">has</a> [<cite><a class="bibref" data-link-type="biblio" href="#bib-pcsc5" title="Interoperability Specification for ICCs and Personal Computer Systems; Part 5. ICC Resource Manager Definition">PCSC5</a></cite>]
                <code>SCARD_STATE_IGNORE</code>, set
                <var data-type="SmartCardReaderStateFlagsOut">flagsOut</var>["<a data-link-type="idl" href="#dom-smartcardreaderstateflagsout-ignore" class="internalDFN" id="ref-for-dom-smartcardreaderstateflagsout-ignore-2"><code>ignore</code></a>"] to
                <code>true</code>.</li>
              <li>If <var data-type="DWORD">pcscFlags</var> <a data-link-type="dfn|abstract-op" data-lt="has a flag" href="#dfn-has-a-flag" class="internalDFN" id="ref-for-dfn-has-a-flag-2">has</a> [<cite><a class="bibref" data-link-type="biblio" href="#bib-pcsc5" title="Interoperability Specification for ICCs and Personal Computer Systems; Part 5. ICC Resource Manager Definition">PCSC5</a></cite>]
                <code>SCARD_STATE_CHANGED</code>, set
                <var data-type="SmartCardReaderStateFlagsOut">flagsOut</var>["<a data-link-type="idl" href="#dom-smartcardreaderstateflagsout-changed" class="internalDFN" id="ref-for-dom-smartcardreaderstateflagsout-changed-2"><code>changed</code></a>"] to
                <code>true</code>.</li>
              <li>If <var data-type="DWORD">pcscFlags</var> <a data-link-type="dfn|abstract-op" data-lt="has a flag" href="#dfn-has-a-flag" class="internalDFN" id="ref-for-dfn-has-a-flag-3">has</a> [<cite><a class="bibref" data-link-type="biblio" href="#bib-pcsc5" title="Interoperability Specification for ICCs and Personal Computer Systems; Part 5. ICC Resource Manager Definition">PCSC5</a></cite>]
                <code>SCARD_STATE_UNAVAILABLE</code>, set
                <var data-type="SmartCardReaderStateFlagsOut">flagsOut</var>["<a data-link-type="idl" href="#dom-smartcardreaderstateflagsout-unavailable" class="internalDFN" id="ref-for-dom-smartcardreaderstateflagsout-unavailable-2"><code>unavailable</code></a>"] to
                <code>true</code>.</li>
              <li>If <var data-type="DWORD">pcscFlags</var> <a data-link-type="dfn|abstract-op" data-lt="has a flag" href="#dfn-has-a-flag" class="internalDFN" id="ref-for-dfn-has-a-flag-4">has</a> [<cite><a class="bibref" data-link-type="biblio" href="#bib-pcsc5" title="Interoperability Specification for ICCs and Personal Computer Systems; Part 5. ICC Resource Manager Definition">PCSC5</a></cite>]
                <code>SCARD_STATE_UNKNOWN</code>, set
                <var data-type="SmartCardReaderStateFlagsOut">flagsOut</var>["<a data-link-type="idl" href="#dom-smartcardreaderstateflagsout-unknown" class="internalDFN" id="ref-for-dom-smartcardreaderstateflagsout-unknown-2"><code>unknown</code></a>"] to
                <code>true</code>.</li>
              <li>If <var data-type="DWORD">pcscFlags</var> <a data-link-type="dfn|abstract-op" data-lt="has a flag" href="#dfn-has-a-flag" class="internalDFN" id="ref-for-dfn-has-a-flag-5">has</a> [<cite><a class="bibref" data-link-type="biblio" href="#bib-pcsc5" title="Interoperability Specification for ICCs and Personal Computer Systems; Part 5. ICC Resource Manager Definition">PCSC5</a></cite>]
                <code>SCARD_STATE_EMPTY</code>, set
                <var data-type="SmartCardReaderStateFlagsOut">flagsOut</var>["<a data-link-type="idl" href="#dom-smartcardreaderstateflagsout-empty" class="internalDFN" id="ref-for-dom-smartcardreaderstateflagsout-empty-2"><code>empty</code></a>"] to
                <code>true</code>.</li>
              <li>If <var data-type="DWORD">pcscFlags</var> <a data-link-type="dfn|abstract-op" data-lt="has a flag" href="#dfn-has-a-flag" class="internalDFN" id="ref-for-dfn-has-a-flag-6">has</a> [<cite><a class="bibref" data-link-type="biblio" href="#bib-pcsc5" title="Interoperability Specification for ICCs and Personal Computer Systems; Part 5. ICC Resource Manager Definition">PCSC5</a></cite>]
                <code>SCARD_STATE_PRESENT</code>, set
                <var data-type="SmartCardReaderStateFlagsOut">flagsOut</var>["<a data-link-type="idl" href="#dom-smartcardreaderstateflagsout-present" class="internalDFN" id="ref-for-dom-smartcardreaderstateflagsout-present-2"><code>present</code></a>"] to
                <code>true</code>.</li>
              <li>If <var data-type="DWORD">pcscFlags</var> <a data-link-type="dfn|abstract-op" data-lt="has a flag" href="#dfn-has-a-flag" class="internalDFN" id="ref-for-dfn-has-a-flag-7">has</a> [<cite><a class="bibref" data-link-type="biblio" href="#bib-pcsc5" title="Interoperability Specification for ICCs and Personal Computer Systems; Part 5. ICC Resource Manager Definition">PCSC5</a></cite>]
                <code>SCARD_STATE_EXCLUSIVE</code>, set
                <var data-type="SmartCardReaderStateFlagsOut">flagsOut</var>["<a data-link-type="idl" href="#dom-smartcardreaderstateflagsout-exclusive" class="internalDFN" id="ref-for-dom-smartcardreaderstateflagsout-exclusive-2"><code>exclusive</code></a>"] to
                <code>true</code>.</li>
              <li>If <var data-type="DWORD">pcscFlags</var> <a data-link-type="dfn|abstract-op" data-lt="has a flag" href="#dfn-has-a-flag" class="internalDFN" id="ref-for-dfn-has-a-flag-8">has</a> [<cite><a class="bibref" data-link-type="biblio" href="#bib-pcsc5" title="Interoperability Specification for ICCs and Personal Computer Systems; Part 5. ICC Resource Manager Definition">PCSC5</a></cite>]
                <code>SCARD_STATE_INUSE</code>, set
                <var data-type="SmartCardReaderStateFlagsOut">flagsOut</var>["<a data-link-type="idl" href="#dom-smartcardreaderstateflagsout-inuse" class="internalDFN" id="ref-for-dom-smartcardreaderstateflagsout-inuse-2"><code>inuse</code></a>"] to
                <code>true</code>.</li>
              <li>If <var data-type="DWORD">pcscFlags</var> <a data-link-type="dfn|abstract-op" data-lt="has a flag" href="#dfn-has-a-flag" class="internalDFN" id="ref-for-dfn-has-a-flag-9">has</a> <code>SCARD_STATE_MUTE</code>, set
                <var data-type="SmartCardReaderStateFlagsOut">flagsOut</var>["<a data-link-type="idl" href="#dom-smartcardreaderstateflagsout-mute" class="internalDFN" id="ref-for-dom-smartcardreaderstateflagsout-mute-2"><code>mute</code></a>"] to
                <code>true</code>.
                <div class="note" role="note" id="issue-container-generatedID-3"><div role="heading" class="note-title marker" id="h-note-3" aria-level="6"><span>Note</span></div><aside class="">
                  <p><code>SCARD_STATE_MUTE</code> is not part of [<cite><a class="bibref" data-link-type="biblio" href="#bib-pcsc5" title="Interoperability Specification for ICCs and Personal Computer Systems; Part 5. ICC Resource Manager Definition">PCSC5</a></cite>] but it is still
                  considered in this speficiation as existing PC/SC
                  implementations use it.</p>
                </aside></div>
              </li>
              <li>Return <var data-type="SmartCardReaderStateFlagsOut">flagsOut</var>.</li>
            </ol>
          </section>
        </section>
        <section data-dfn-for="SmartCardGetStatusChangeOptions" id="smartcardgetstatuschangeoptions-dictionary"><div class="header-wrapper"><h4 id="x4-2-3-smartcardgetstatuschangeoptions-dictionary"><bdi class="secno">4.2.3 </bdi><dfn data-export="" data-dfn-type="dictionary" id="dom-smartcardgetstatuschangeoptions" data-idl="dictionary" data-title="SmartCardGetStatusChangeOptions" data-dfn-for="" tabindex="0" aria-haspopup="dialog"><code>SmartCardGetStatusChangeOptions</code></dfn> dictionary</h4><a class="self-link" href="#smartcardgetstatuschangeoptions-dictionary" aria-label="Permalink for Section 4.2.3"></a></div>
          
          <pre class="idl def" id="webidl-837952189"><span class="idlHeader"><a class="self-link" href="#webidl-837952189">WebIDL</a></span><code><span data-idl="" class="idlDictionary" id="idl-def-smartcardgetstatuschangeoptions" data-title="SmartCardGetStatusChangeOptions">dictionary <a class="internalDFN idlID" data-link-type="dictionary" href="#dom-smartcardgetstatuschangeoptions" id="ref-for-dom-smartcardgetstatuschangeoptions-2"><code>SmartCardGetStatusChangeOptions</code></a> {<span data-idl="" class="idlMember" id="idl-def-smartcardgetstatuschangeoptions-timeout" data-title="timeout" data-dfn-for="SmartCardGetStatusChangeOptions"><span class="idlType">
  <a data-link-type="idl" data-type="typedef" href="https://www.w3.org/TR/hr-time-3/#dom-domhighrestimestamp">DOMHighResTimeStamp</a></span> <a class="internalDFN idlName" data-link-type="dict-member" href="#dom-smartcardgetstatuschangeoptions-timeout" id="ref-for-dom-smartcardgetstatuschangeoptions-timeout-3"><code>timeout</code></a>;</span><span data-idl="" class="idlMember" id="idl-def-smartcardgetstatuschangeoptions-signal" data-title="signal" data-dfn-for="SmartCardGetStatusChangeOptions"><span class="idlType">
  <a data-link-type="idl" data-type="interface" href="https://dom.spec.whatwg.org/#abortsignal">AbortSignal</a></span> <a class="internalDFN idlName" data-link-type="dict-member" href="#dom-smartcardgetstatuschangeoptions-signal" id="ref-for-dom-smartcardgetstatuschangeoptions-signal-3"><code>signal</code></a>;</span>
};</span></code></pre>

          <dl>
            <dt><dfn data-export="" data-dfn-type="dict-member" id="dom-smartcardgetstatuschangeoptions-timeout" data-idl="field" data-title="timeout" data-dfn-for="SmartCardGetStatusChangeOptions" data-type="DOMHighResTimeStamp" tabindex="0" aria-haspopup="dialog"><code>timeout</code></dfn> member</dt>
            <dd>Timeout parameter for the GetStatusChange() [<cite><a class="bibref" data-link-type="biblio" href="#bib-pcsc5" title="Interoperability Specification for ICCs and Personal Computer Systems; Part 5. ICC Resource Manager Definition">PCSC5</a></cite>] method. If
            not specified, a timeout value of INFINITE (which is defined system
            dependent) will be used.</dd>

            <dt><dfn data-export="" data-dfn-type="dict-member" id="dom-smartcardgetstatuschangeoptions-signal" data-idl="field" data-title="signal" data-dfn-for="SmartCardGetStatusChangeOptions" data-type="AbortSignal" tabindex="0" aria-haspopup="dialog"><code>signal</code></dfn> member</dt>
            <dd>When triggered, the platform's [<cite><a class="bibref" data-link-type="biblio" href="#bib-pcsc5" title="Interoperability Specification for ICCs and Personal Computer Systems; Part 5. ICC Resource Manager Definition">PCSC5</a></cite>] Cancel() method is
            called.</dd>
          </dl>
        </section>
      </section>
      <section id="connect-method"><div class="header-wrapper"><h3 id="x4-3-connect-method"><bdi class="secno">4.3 </bdi><dfn data-export="" data-dfn-type="method" id="dom-smartcardcontext-connect" data-idl="operation" data-title="connect()" data-dfn-for="SmartCardContext" data-type="Promise" data-lt="connect()|connect(readerName, accessMode)|connect(readerName, accessMode, options)" data-local-lt="SmartCardContext.connect|SmartCardContext.connect()|connect" tabindex="0" aria-haspopup="dialog"><code>connect()</code></dfn> method</h3><a class="self-link" href="#connect-method" aria-label="Permalink for Section 4.3"></a></div>
        
        <p>The <a data-link-type="idl" data-lt="connect(readerName, accessMode, options)" href="#dom-smartcardcontext-connect" class="internalDFN" id="ref-for-dom-smartcardcontext-connect-2"><code>connect</code></a><code>(<var>readerName</var>, <var>accessMode</var>, <var>options</var>)</code>
        method steps are:</p>
        <ol>
          <li>Let <var data-type="Promise">promise</var> be <a data-link-type="dfn|abstract-op" data-type="dfn" href="https://webidl.spec.whatwg.org/#a-new-promise">a new promise</a>.</li>
          <li>If <a data-link-type="dfn|abstract-op" data-type="dfn" href="https://webidl.spec.whatwg.org/#this">this</a>.<a data-link-type="attribute" data-lt="[[operationInProgress]]" href="#dfn-operationinprogress" class="internalDFN" id="ref-for-dfn-operationinprogress-5"><code>[[operationInProgress]]</code></a> is
            <code>true</code>, <a data-link-type="dfn|abstract-op" data-type="dfn" href="https://webidl.spec.whatwg.org/#reject">reject</a> <var data-type="Promise">promise</var> with a "<a data-link-type="idl" data-lt="InvalidStateError" data-type="exception" href="https://webidl.spec.whatwg.org/#invalidstateerror"><code>InvalidStateError</code></a>"
            <a data-link-type="idl" data-lt="DOMException" data-type="interface" href="https://webidl.spec.whatwg.org/#idl-DOMException"><code>DOMException</code></a> and return <var data-type="Promise">promise</var>.</li>
          <li>Set <a data-link-type="dfn|abstract-op" data-type="dfn" href="https://webidl.spec.whatwg.org/#this">this</a>.<a data-link-type="attribute" data-lt="[[operationInProgress]]" href="#dfn-operationinprogress" class="internalDFN" id="ref-for-dfn-operationinprogress-6"><code>[[operationInProgress]]</code></a> to
            <code>true</code>.</li>
          <li>Run the following steps <a data-link-type="dfn|abstract-op" data-type="dfn" href="https://html.spec.whatwg.org/multipage/infrastructure.html#in-parallel">in parallel</a>:
            <ol>
              <li>Let <var data-type="DWORD">accessFlags</var> be a [<cite><a class="bibref" data-link-type="biblio" href="#bib-pcsc5" title="Interoperability Specification for ICCs and Personal Computer Systems; Part 5. ICC Resource Manager Definition">PCSC5</a></cite>] <code>DWORD</code>
              <a data-link-type="dfn|abstract-op" href="#dfn-corresponding-3" class="internalDFN" id="ref-for-dfn-corresponding-3-1">corresponding</a> to
              <var data-type="SmartCardAccessMode">accessMode</var>.</li>
              <li>Let <var data-type="DWORD">protocolFlags</var> be a <code>DWORD</code> set to <code>0</code>.</li>
              <li>If
              <var data-type="SmartCardConnectOptions">options</var>["<a data-link-type="idl" href="#dom-smartcardconnectoptions-preferredprotocols" class="internalDFN" id="ref-for-dom-smartcardconnectoptions-preferredprotocols-1"><code>preferredProtocols</code></a>"]
              <a data-link-type="dfn|abstract-op" data-type="dfn" href="https://infra.spec.whatwg.org/#map-exists">exists</a>, set <var data-type="DWORD">protocolFlags</var> to its
              <a data-link-type="dfn|abstract-op" href="#dfn-corresponding-flags" class="internalDFN" id="ref-for-dfn-corresponding-flags-1">corresponding flags</a>.</li>
              <li>Let <var data-type="DWORD">activeProtocol</var> be a <code>DWORD</code> set to <code>0</code>.</li>
              <li>Let <var data-type="SCARDCOMM">comm</var> be a new instance of the platform's
              [<cite><a class="bibref" data-link-type="biblio" href="#bib-pcsc5" title="Interoperability Specification for ICCs and Personal Computer Systems; Part 5. ICC Resource Manager Definition">PCSC5</a></cite>] <code>SCARDCOMM</code> class, with
              <a data-link-type="dfn|abstract-op" data-type="dfn" href="https://webidl.spec.whatwg.org/#this">this</a>.<a data-link-type="attribute" data-lt="[[resourceManager]]" href="#dfn-resourcemanager" class="internalDFN" id="ref-for-dfn-resourcemanager-4"><code>[[resourceManager]]</code></a> as its
              constructor parameter.</li>
              <li>Call <var data-type="SCARDCOMM">comm</var>.<code>Connect()</code> with <var>readerName</var>, <var data-type="DWORD">accessFlags</var>
              and <var data-type="DWORD">protocolFlags</var> as input and <var data-type="DWORD">activeProtocol</var> as output parameters.</li>
              <li>Let <var data-type="RESPONSECODE">responseCode</var> be the returned
                <code>RESPONSECODE</code>.</li>
              <li><a data-link-type="dfn|abstract-op" data-type="dfn" href="https://html.spec.whatwg.org/multipage/webappapis.html#queue-a-global-task">Queue a global task</a> on the <a data-link-type="dfn|abstract-op" data-type="dfn" href="https://html.spec.whatwg.org/multipage/webappapis.html#concept-relevant-global">relevant global object</a> of
                <a data-link-type="dfn|abstract-op" data-type="dfn" href="https://webidl.spec.whatwg.org/#this">this</a> using the <a data-link-type="dfn|abstract-op" href="#dfn-smart-card-task-source" class="internalDFN" id="ref-for-dfn-smart-card-task-source-5">smart card task source</a> which performs the
                following steps:
                <ol>
                  <li><a data-link-type="dfn|abstract-op" href="#dfn-clear-the-operationinprogress" class="internalDFN" id="ref-for-dfn-clear-the-operationinprogress-3">Clear the operationInProgress</a> of <a data-link-type="dfn|abstract-op" data-type="dfn" href="https://webidl.spec.whatwg.org/#this">this</a>.</li>
                  <li>If <var data-type="RESPONSECODE">responseCode</var> is not <code>SCARD_S_SUCCESS</code>:
                    <ol>
                      <li>Destroy <var data-type="SCARDCOMM">comm</var>.</li>
                      <li><a data-link-type="dfn|abstract-op" data-type="dfn" href="https://webidl.spec.whatwg.org/#reject">Reject</a> <var data-type="Promise">promise</var> with an <a data-link-type="dfn|abstract-op" data-type="dfn" href="https://webidl.spec.whatwg.org/#dfn-exception">exception</a>
                      <a data-link-type="idl" href="#dfn-corresponding-5" class="internalDFN" id="ref-for-dfn-corresponding-5-4"><code>corresponding</code></a> to <var data-type="RESPONSECODE">responseCode</var> and abort these steps.</li>
                    </ol>
                  </li>
                  <li>Let <var data-type="SmartCardConnectResult">result</var> be an empty
                  <a data-link-type="idl" data-lt="SmartCardConnectResult" href="#dom-smartcardconnectresult" class="internalDFN" id="ref-for-dom-smartcardconnectresult-2"><code>SmartCardConnectResult</code></a> dictionary.</li>
                  <li>Let <var data-type="SmartCardConnection">connection</var> be a new
                  <a data-link-type="idl" data-lt="SmartCardConnection" href="#dom-smartcardconnection" class="internalDFN" id="ref-for-dom-smartcardconnection-2"><code>SmartCardConnection</code></a>.</li>
                  <li><a data-link-type="dfn|abstract-op" data-type="dfn" href="https://infra.spec.whatwg.org/#set-append">Append</a> <var data-type="SmartCardConnection">connection</var> to
                    <a data-link-type="dfn|abstract-op" data-type="dfn" href="https://webidl.spec.whatwg.org/#this">this</a>.<a data-link-type="attribute" data-lt="[[connections]]" href="#dfn-connections" class="internalDFN" id="ref-for-dfn-connections-1"><code>[[connections]]</code></a>.</li>
                  <li>Set <var data-type="SmartCardConnection">connection</var>.<a data-link-type="attribute" data-lt="[[comm]]" href="#dfn-comm" class="internalDFN" id="ref-for-dfn-comm-1"><code>[[comm]]</code></a> to <var data-type="SCARDCOMM">comm</var>.
                  </li><li>Set <var data-type="SmartCardConnection">connection</var>.<a data-link-type="attribute" data-lt="[[context]]" href="#dfn-context" class="internalDFN" id="ref-for-dfn-context-1"><code>[[context]]</code></a> to
                    <a data-link-type="dfn|abstract-op" data-type="dfn" href="https://webidl.spec.whatwg.org/#this">this</a>.
                  </li><li>Set <var data-type="SmartCardConnection">connection</var>.<a data-link-type="attribute" data-lt="[[activeProtocol]]" href="#dfn-activeprotocol" class="internalDFN" id="ref-for-dfn-activeprotocol-1"><code>[[activeProtocol]]</code></a> to
                    <var data-type="DWORD">activeProtocol</var>.
                  </li><li>Set <var data-type="SmartCardConnectResult">result</var>["<a data-link-type="idl" href="#dom-smartcardconnectresult-connection" class="internalDFN" id="ref-for-dom-smartcardconnectresult-connection-1"><code>connection</code></a>"] to
                  <var data-type="SmartCardConnection">connection</var>.</li>
                  <li>If <var data-type="DWORD">activeProtocol</var> is a <a data-link-type="dfn|abstract-op" href="#dfn-valid-protocol-value" class="internalDFN" id="ref-for-dfn-valid-protocol-value-1">valid protocol value</a>, set
                  <var data-type="SmartCardConnectResult">result</var>["<a data-link-type="idl" href="#dom-smartcardconnectresult-activeprotocol" class="internalDFN" id="ref-for-dom-smartcardconnectresult-activeprotocol-1"><code>activeProtocol</code></a>"] to the
                  corresponding <a data-link-type="idl" data-lt="SmartCardProtocol" href="#dom-smartcardprotocol" class="internalDFN" id="ref-for-dom-smartcardprotocol-1"><code>SmartCardProtocol</code></a>.</li>
                  <li><a data-link-type="dfn|abstract-op" data-type="dfn" href="https://webidl.spec.whatwg.org/#resolve">Resolve</a> <var data-type="Promise">promise</var> with <var data-type="SmartCardConnectResult">result</var>.</li>
                </ol>
              </li>
            </ol>
          </li>
          <li>Return <var data-type="Promise">promise</var>.</li>
        </ol>
        <section data-dfn-for="SmartCardProtocol" id="smartcardprotocol-enum"><div class="header-wrapper"><h4 id="x4-3-1-smartcardprotocol-enum"><bdi class="secno">4.3.1 </bdi><dfn data-export="" data-dfn-type="enum" id="dom-smartcardprotocol" data-idl="enum" data-title="SmartCardProtocol" data-dfn-for="" tabindex="0" aria-haspopup="dialog"><code>SmartCardProtocol</code></dfn> enum</h4><a class="self-link" href="#smartcardprotocol-enum" aria-label="Permalink for Section 4.3.1"></a></div>
          
          <pre class="idl def" id="webidl-117544486"><span class="idlHeader"><a class="self-link" href="#webidl-117544486">WebIDL</a></span><code><span data-idl="" class="idlEnum" id="idl-def-smartcardprotocol" data-title="SmartCardProtocol">enum <a class="internalDFN idlID" data-link-type="enum" href="#dom-smartcardprotocol" id="ref-for-dom-smartcardprotocol-2"><code>SmartCardProtocol</code></a> {
  <span class="idlEnumItem">"<a class="internalDFN" data-link-type="enum-value" href="#dom-smartcardprotocol-raw" id="ref-for-dom-smartcardprotocol-raw-1"><code>raw</code></a>"</span>,
  <span class="idlEnumItem">"<a class="internalDFN" data-link-type="enum-value" href="#dom-smartcardprotocol-t0" id="ref-for-dom-smartcardprotocol-t0-1"><code>t0</code></a>"</span>,
  <span class="idlEnumItem">"<a class="internalDFN" data-link-type="enum-value" href="#dom-smartcardprotocol-t1" id="ref-for-dom-smartcardprotocol-t1-1"><code>t1</code></a>"</span>
};</span></code></pre>
          <dl>
            <dt><dfn data-export="" data-dfn-type="enum-value" id="dom-smartcardprotocol-raw" data-idl="enum-value" data-title="raw" data-dfn-for="SmartCardProtocol" tabindex="0" aria-haspopup="dialog"><code>raw</code></dfn></dt>
            <dd>"Raw" mode. May be used to support arbitrary data exchange
            protocols for special-purpose requirements. Corresponds to a
            [<cite><a class="bibref" data-link-type="biblio" href="#bib-pcsc5" title="Interoperability Specification for ICCs and Personal Computer Systems; Part 5. ICC Resource Manager Definition">PCSC5</a></cite>] <code>SCARD_PROTOCOL_RAW</code> <code>DWORD</code>.</dd>

            <dt><dfn data-export="" data-dfn-type="enum-value" id="dom-smartcardprotocol-t0" data-idl="enum-value" data-title="t0" data-dfn-for="SmartCardProtocol" tabindex="0" aria-haspopup="dialog"><code>t0</code></dfn></dt>
            <dd>[<cite><a class="bibref" data-link-type="biblio" href="#bib-iso7186-3" title="Identification cards - Integrated circuit cards; Part 3: Cards with contacts - Electrical interface and transmission protocols">ISO7186-3</a></cite>] T=0. Asynchronous half duplex character
            transmission protocol. Corresponds to a [<cite><a class="bibref" data-link-type="biblio" href="#bib-pcsc5" title="Interoperability Specification for ICCs and Personal Computer Systems; Part 5. ICC Resource Manager Definition">PCSC5</a></cite>]
            <code>SCARD_PROTOCOL_T0</code> <code>DWORD</code>.</dd>

            <dt><dfn data-export="" data-dfn-type="enum-value" id="dom-smartcardprotocol-t1" data-idl="enum-value" data-title="t1" data-dfn-for="SmartCardProtocol" tabindex="0" aria-haspopup="dialog"><code>t1</code></dfn></dt>
            <dd>[<cite><a class="bibref" data-link-type="biblio" href="#bib-iso7186-3" title="Identification cards - Integrated circuit cards; Part 3: Cards with contacts - Electrical interface and transmission protocols">ISO7186-3</a></cite>] T=1. Asynchronous half duplex block transmission
            protocol. Corresponds to a [<cite><a class="bibref" data-link-type="biblio" href="#bib-pcsc5" title="Interoperability Specification for ICCs and Personal Computer Systems; Part 5. ICC Resource Manager Definition">PCSC5</a></cite>] <code>SCARD_PROTOCOL_T1</code>
            <code>DWORD</code>.</dd>
          </dl>
          <p>A [<cite><a class="bibref" data-link-type="biblio" href="#bib-pcsc5" title="Interoperability Specification for ICCs and Personal Computer Systems; Part 5. ICC Resource Manager Definition">PCSC5</a></cite>] <code>DWORD</code> is a <dfn data-dfn-for="SmartCardProtocol" id="dfn-valid-protocol-value" tabindex="0" aria-haspopup="dialog" data-dfn-type="dfn">valid protocol value</dfn> if it is either
          [<cite><a class="bibref" data-link-type="biblio" href="#bib-pcsc5" title="Interoperability Specification for ICCs and Personal Computer Systems; Part 5. ICC Resource Manager Definition">PCSC5</a></cite>] <code>SCARD_PROTOCOL_T0</code>, [<cite><a class="bibref" data-link-type="biblio" href="#bib-pcsc5" title="Interoperability Specification for ICCs and Personal Computer Systems; Part 5. ICC Resource Manager Definition">PCSC5</a></cite>] <code>SCARD_PROTOCOL_T1</code> or
          [<cite><a class="bibref" data-link-type="biblio" href="#bib-pcsc5" title="Interoperability Specification for ICCs and Personal Computer Systems; Part 5. ICC Resource Manager Definition">PCSC5</a></cite>] <code>SCARD_PROTOCOL_RAW</code>.</p>
          <p>Given a sequence of <a data-link-type="idl" data-lt="SmartCardProtocol" href="#dom-smartcardprotocol" class="internalDFN" id="ref-for-dom-smartcardprotocol-3"><code>SmartCardProtocol</code></a> named
          <var data-type="sequence<SmartCardProtocol>">protocols</var>, a [<cite><a class="bibref" data-link-type="biblio" href="#bib-pcsc5" title="Interoperability Specification for ICCs and Personal Computer Systems; Part 5. ICC Resource Manager Definition">PCSC5</a></cite>] <code>DWORD</code>
          with the <dfn data-dfn-for="SmartCardProtocol" id="dfn-corresponding-flags" tabindex="0" aria-haspopup="dialog" data-dfn-type="dfn">corresponding
          flags</dfn> is created with the following steps:</p>
          <ol>
            <li>Let <var data-type="DWORD">flags</var> be a <code>DWORD</code> set to <code>0</code>.</li>
            <li><a data-link-type="dfn|abstract-op" data-type="dfn" href="https://infra.spec.whatwg.org/#list-iterate">For each</a> <var data-type="SmartCardProtocol">protocol</var> in <var data-type="sequence<SmartCardProtocol>">protocols</var>,
              <a data-link-type="dfn|abstract-op" data-lt="add a flag" href="#dfn-add-a-flag" class="internalDFN" id="ref-for-dfn-add-a-flag-9">add</a> the corresponding <code>DWORD</code> of <var data-type="SmartCardProtocol">protocol</var> to <var data-type="DWORD">flags</var>.
            </li>
            <li>Return <var data-type="DWORD">flags</var>.</li>
          </ol>
        </section>
        <section data-dfn-for="SmartCardConnectResult" id="smartcardconnectresult-dictionary"><div class="header-wrapper"><h4 id="x4-3-2-smartcardconnectresult-dictionary"><bdi class="secno">4.3.2 </bdi><dfn data-export="" data-dfn-type="dictionary" id="dom-smartcardconnectresult" data-idl="dictionary" data-title="SmartCardConnectResult" data-dfn-for="" tabindex="0" aria-haspopup="dialog"><code>SmartCardConnectResult</code></dfn> dictionary</h4><a class="self-link" href="#smartcardconnectresult-dictionary" aria-label="Permalink for Section 4.3.2"></a></div>
          
          <pre class="idl def" id="webidl-1926512656"><span class="idlHeader"><a class="self-link" href="#webidl-1926512656">WebIDL</a></span><code><span data-idl="" class="idlDictionary" id="idl-def-smartcardconnectresult" data-title="SmartCardConnectResult">dictionary <a class="internalDFN idlID" data-link-type="dictionary" href="#dom-smartcardconnectresult" id="ref-for-dom-smartcardconnectresult-3"><code>SmartCardConnectResult</code></a> {<span data-idl="" class="idlMember" id="idl-def-smartcardconnectresult-connection" data-title="connection" data-dfn-for="SmartCardConnectResult">
  required<span class="idlType"> <a data-link-type="idl" href="#dom-smartcardconnection" class="internalDFN" id="ref-for-dom-smartcardconnection-3"><code>SmartCardConnection</code></a></span> <a class="internalDFN idlName" data-link-type="dict-member" href="#dom-smartcardconnectresult-connection" id="ref-for-dom-smartcardconnectresult-connection-2"><code>connection</code></a>;</span><span data-idl="" class="idlMember" id="idl-def-smartcardconnectresult-activeprotocol" data-title="activeProtocol" data-dfn-for="SmartCardConnectResult"><span class="idlType">
  <a data-link-type="idl" href="#dom-smartcardprotocol" class="internalDFN" id="ref-for-dom-smartcardprotocol-4"><code>SmartCardProtocol</code></a></span> <a class="internalDFN idlName" data-link-type="dict-member" href="#dom-smartcardconnectresult-activeprotocol" id="ref-for-dom-smartcardconnectresult-activeprotocol-2"><code>activeProtocol</code></a>;</span>
};</span></code></pre>
          <dl>
            <dt><dfn data-export="" data-dfn-type="dict-member" id="dom-smartcardconnectresult-connection" data-idl="field" data-title="connection" data-dfn-for="SmartCardConnectResult" data-type="SmartCardConnection" tabindex="0" aria-haspopup="dialog"><code>connection</code></dfn> member</dt>
            <dd>An interface to the connection created.</dd>

            <dt><dfn data-export="" data-dfn-type="dict-member" id="dom-smartcardconnectresult-activeprotocol" data-idl="field" data-title="activeProtocol" data-dfn-for="SmartCardConnectResult" data-type="SmartCardProtocol" tabindex="0" aria-haspopup="dialog"><code>activeProtocol</code></dfn> member</dt>
            <dd>The protocol actually in use.</dd>
          </dl>
        </section>
        <section data-dfn-for="SmartCardAccessMode" id="smartcardaccessmode-enum"><div class="header-wrapper"><h4 id="x4-3-3-smartcardaccessmode-enum"><bdi class="secno">4.3.3 </bdi><dfn data-export="" data-dfn-type="enum" id="dom-smartcardaccessmode" data-idl="enum" data-title="SmartCardAccessMode" data-dfn-for="" tabindex="0" aria-haspopup="dialog"><code>SmartCardAccessMode</code></dfn> enum</h4><a class="self-link" href="#smartcardaccessmode-enum" aria-label="Permalink for Section 4.3.3"></a></div>
          
          <pre class="idl def" id="webidl-1539609472"><span class="idlHeader"><a class="self-link" href="#webidl-1539609472">WebIDL</a></span><code><span data-idl="" class="idlEnum" id="idl-def-smartcardaccessmode" data-title="SmartCardAccessMode">enum <a class="internalDFN idlID" data-link-type="enum" href="#dom-smartcardaccessmode" id="ref-for-dom-smartcardaccessmode-2"><code>SmartCardAccessMode</code></a> {
  <span class="idlEnumItem">"<a class="internalDFN" data-link-type="enum-value" href="#dom-smartcardaccessmode-shared" id="ref-for-dom-smartcardaccessmode-shared-1"><code>shared</code></a>"</span>,
  <span class="idlEnumItem">"<a class="internalDFN" data-link-type="enum-value" href="#dom-smartcardaccessmode-exclusive" id="ref-for-dom-smartcardaccessmode-exclusive-1"><code>exclusive</code></a>"</span>,
  <span class="idlEnumItem">"<a class="internalDFN" data-link-type="enum-value" href="#dom-smartcardaccessmode-direct" id="ref-for-dom-smartcardaccessmode-direct-1"><code>direct</code></a>"</span>
};</span></code></pre>
          <dl>
            <dt><dfn data-export="" data-dfn-type="enum-value" id="dom-smartcardaccessmode-shared" data-idl="enum-value" data-title="shared" data-dfn-for="SmartCardAccessMode" tabindex="0" aria-haspopup="dialog"><code>shared</code></dfn></dt>
            <dd>Application is willing to share access to card with other
              applications.</dd>
            <dt><dfn data-export="" data-dfn-type="enum-value" id="dom-smartcardaccessmode-exclusive" data-idl="enum-value" data-title="exclusive" data-dfn-for="SmartCardAccessMode" tabindex="0" aria-haspopup="dialog"><code>exclusive</code></dfn></dt>
            <dd>Application requires exclusive access to the card.</dd>
            <dt><dfn data-export="" data-dfn-type="enum-value" id="dom-smartcardaccessmode-direct" data-idl="enum-value" data-title="direct" data-dfn-for="SmartCardAccessMode" tabindex="0" aria-haspopup="dialog"><code>direct</code></dfn></dt>
            <dd>Application requires connection to reader whether or not card
              is present. Implies exclusive access.</dd>
          </dl>
          <p>Given a <a data-link-type="idl" data-lt="SmartCardAccessMode" href="#dom-smartcardaccessmode" class="internalDFN" id="ref-for-dom-smartcardaccessmode-3"><code>SmartCardAccessMode</code></a> enum named
          <var data-type="SmartCardAccessMode">accessMode</var>, a <dfn data-dfn-for="SmartCardAccessMode" id="dfn-corresponding-3" tabindex="0" aria-haspopup="dialog" data-dfn-type="dfn">corresponding</dfn> [<cite><a class="bibref" data-link-type="biblio" href="#bib-pcsc5" title="Interoperability Specification for ICCs and Personal Computer Systems; Part 5. ICC Resource Manager Definition">PCSC5</a></cite>]
          <code>DWORD</code> is created with the following steps:</p>
          <ol>
            <li>Let <var data-type="DWORD">dword</var> be a <code>DWORD</code> set to <code>0</code>.
            </li><li>If <var data-type="SmartCardAccessMode">accessMode</var> is "<a data-link-type="idl" href="#dom-smartcardaccessmode-shared" class="internalDFN" id="ref-for-dom-smartcardaccessmode-shared-2"><code>shared</code></a>", set <var data-type="DWORD">dword</var> to [<cite><a class="bibref" data-link-type="biblio" href="#bib-pcsc5" title="Interoperability Specification for ICCs and Personal Computer Systems; Part 5. ICC Resource Manager Definition">PCSC5</a></cite>]
            <code>SCARD_SHARE_SHARED</code>.</li>
            <li>If <var data-type="SmartCardAccessMode">accessMode</var> is "<a data-link-type="idl" href="#dom-smartcardaccessmode-exclusive" class="internalDFN" id="ref-for-dom-smartcardaccessmode-exclusive-2"><code>exclusive</code></a>", set <var data-type="DWORD">dword</var> to [<cite><a class="bibref" data-link-type="biblio" href="#bib-pcsc5" title="Interoperability Specification for ICCs and Personal Computer Systems; Part 5. ICC Resource Manager Definition">PCSC5</a></cite>]
            <code>SCARD_SHARE_EXCLUSIVE</code>.</li>
            <li>If <var data-type="SmartCardAccessMode">accessMode</var> is "<a data-link-type="idl" href="#dom-smartcardaccessmode-direct" class="internalDFN" id="ref-for-dom-smartcardaccessmode-direct-2"><code>direct</code></a>", set <var data-type="DWORD">dword</var> to [<cite><a class="bibref" data-link-type="biblio" href="#bib-pcsc5" title="Interoperability Specification for ICCs and Personal Computer Systems; Part 5. ICC Resource Manager Definition">PCSC5</a></cite>]
            <code>SCARD_SHARE_DIRECT</code>.</li>
            <li>Return <var data-type="DWORD">dword</var>.</li>
          </ol>
        </section>
        <section data-dfn-for="SmartCardConnectOptions" id="smartcardconnectoptions-enum"><div class="header-wrapper"><h4 id="x4-3-4-smartcardconnectoptions-enum"><bdi class="secno">4.3.4 </bdi><dfn data-export="" data-dfn-type="dictionary" id="dom-smartcardconnectoptions" data-idl="dictionary" data-title="SmartCardConnectOptions" data-dfn-for="" tabindex="0" aria-haspopup="dialog"><code>SmartCardConnectOptions</code></dfn> enum</h4><a class="self-link" href="#smartcardconnectoptions-enum" aria-label="Permalink for Section 4.3.4"></a></div>
          
          <pre class="idl def" id="webidl-1051047671"><span class="idlHeader"><a class="self-link" href="#webidl-1051047671">WebIDL</a></span><code><span data-idl="" class="idlDictionary" id="idl-def-smartcardconnectoptions" data-title="SmartCardConnectOptions">dictionary <a class="internalDFN idlID" data-link-type="dictionary" href="#dom-smartcardconnectoptions" id="ref-for-dom-smartcardconnectoptions-2"><code>SmartCardConnectOptions</code></a> {<span data-idl="" class="idlMember" id="idl-def-smartcardconnectoptions-preferredprotocols" data-title="preferredProtocols" data-dfn-for="SmartCardConnectOptions"><span class="idlType">
  <a data-type="dfn" href="https://webidl.spec.whatwg.org/#idl-sequence">sequence</a>&lt;<a data-link-type="idl" href="#dom-smartcardprotocol" class="internalDFN" id="ref-for-dom-smartcardprotocol-5"><code>SmartCardProtocol</code></a>&gt;</span> <a class="internalDFN idlName" data-link-type="dict-member" href="#dom-smartcardconnectoptions-preferredprotocols" id="ref-for-dom-smartcardconnectoptions-preferredprotocols-2"><code>preferredProtocols</code></a>;</span>
};</span></code></pre>
          <dl>
            <dt><dfn data-export="" data-dfn-type="dict-member" id="dom-smartcardconnectoptions-preferredprotocols" data-idl="field" data-title="preferredProtocols" data-dfn-for="SmartCardConnectOptions" data-type="sequence" tabindex="0" aria-haspopup="dialog"><code>preferredProtocols</code></dfn></dt>
            <dd>Card communication protocols that may be used.</dd>
          </dl>
        </section>
      </section>
      <section id="auxiliary-algorithms-and-definitions"><div class="header-wrapper"><h3 id="x4-4-auxiliary-algorithms-and-definitions"><bdi class="secno">4.4 </bdi>Auxiliary algorithms and definitions</h3><a class="self-link" href="#auxiliary-algorithms-and-definitions" aria-label="Permalink for Section 4.4"></a></div>
        

        <p>To <dfn id="dfn-clear-the-operationinprogress" tabindex="0" aria-haspopup="dialog" data-dfn-type="dfn">clear the operationInProgress</dfn> of a
        <a data-link-type="idl" data-lt="SmartCardContext" href="#dom-smartcardcontext" class="internalDFN" id="ref-for-dom-smartcardcontext-5"><code>SmartCardContext</code></a> <var data-type="SmartCardContext">context</var>, perform the following steps:</p>
        <ol>
          <li><a data-link-type="dfn|abstract-op" data-type="dfn" href="https://infra.spec.whatwg.org/#assert">Assert</a>: <var data-type="SmartCardContext">context</var>.<a data-link-type="attribute" data-lt="[[operationInProgress]]" href="#dfn-operationinprogress" class="internalDFN" id="ref-for-dfn-operationinprogress-7"><code>[[operationInProgress]]</code></a>
            is <code>true</code>.</li>
          <li>Set <var data-type="SmartCardContext">context</var>.<a data-link-type="attribute" data-lt="[[operationInProgress]]" href="#dfn-operationinprogress" class="internalDFN" id="ref-for-dfn-operationinprogress-8"><code>[[operationInProgress]]</code></a> to
            <code>false</code>.</li>
          <li><a data-link-type="dfn|abstract-op" data-type="dfn" href="https://infra.spec.whatwg.org/#list-iterate">For each</a> <var data-type="SmartCardConnection">connection</var> of
            <var data-type="SmartCardContext">context</var>.<a data-link-type="attribute" data-lt="[[connections]]" href="#dfn-connections" class="internalDFN" id="ref-for-dfn-connections-2"><code>[[connections]]</code></a>:
            <ol>
              <li><a data-link-type="dfn|abstract-op" href="#dfn-end-any-settled-transaction" class="internalDFN" id="ref-for-dfn-end-any-settled-transaction-1">End any settled transaction</a> of
                <var data-type="SmartCardConnection">connection</var>.</li>
              <li>If <var data-type="SmartCardContext">context</var>.<a data-link-type="attribute" data-lt="[[operationInProgress]]" href="#dfn-operationinprogress" class="internalDFN" id="ref-for-dfn-operationinprogress-9"><code>[[operationInProgress]]</code></a> is
                <code>true</code>, abort there steps.</li>
            </ol>
          </li>
        </ol>
        <div class="note" role="note" id="issue-container-generatedID-4"><div role="heading" class="note-title marker" id="h-note-4" aria-level="4"><span>Note</span></div><aside class="">
          <p>A transaction ends when the <a data-link-type="idl" data-lt="Promise" href="#dfn-promise" class="internalDFN" id="ref-for-dfn-promise-1"><code>Promise</code></a> returned by the
          <a data-link-type="idl" data-lt="SmartCardTransactionCallback" href="#dom-smartcardtransactioncallback" class="internalDFN" id="ref-for-dom-smartcardtransactioncallback-1"><code>SmartCardTransactionCallback</code></a> passed to
          <a data-link-type="idl" data-lt="startTransaction()" href="#dom-smartcardconnection-starttransaction" class="internalDFN" id="ref-for-dom-smartcardconnection-starttransaction-1"><code>startTransaction</code></a><code>()</code> settles. At this
          point the user agent should call [<cite><a class="bibref" data-link-type="biblio" href="#bib-pcsc5" title="Interoperability Specification for ICCs and Personal Computer Systems; Part 5. ICC Resource Manager Definition">PCSC5</a></cite>] <code>EndTransaction()</code> to
          effect that on the platform's PC/SC stack. But that won't be
          possible if at that moment there's already another PC/SC
          operation taking place in the connection's PC/SC context. The
          user agent then has to wait until this ongoing PC/SC operation
          finishes before ending that settled transaction.</p>
        </aside></div>

        <p>The <dfn id="dfn-cancel-the-outstanding-getstatuschange" tabindex="0" aria-haspopup="dialog" data-dfn-type="dfn">cancel the outstanding GetStatusChange</dfn>
        algorithm steps are:</p>
        <ol>
          <li>Call <a data-link-type="dfn|abstract-op" data-type="dfn" href="https://webidl.spec.whatwg.org/#this">this</a>.<a data-link-type="attribute" data-lt="[[tracker]]" href="#dfn-tracker" class="internalDFN" id="ref-for-dfn-tracker-4"><code>[[tracker]]</code></a>.<code>Cancel()</code>.</li>
        </ol>

        <p>The <dfn id="dfn-high-word" tabindex="0" aria-haspopup="dialog" data-dfn-type="dfn">high word</dfn> of a [<cite><a class="bibref" data-link-type="biblio" href="#bib-pcsc5" title="Interoperability Specification for ICCs and Personal Computer Systems; Part 5. ICC Resource Manager Definition">PCSC5</a></cite>] <code>DWORD</code> is the result of an
        unsigned right shift of 16 bits on that <code>DWORD</code>.</p>

        <p>To <dfn id="dfn-set-the-high-word" tabindex="0" aria-haspopup="dialog" data-dfn-type="dfn">set the high word</dfn> of a [<cite><a class="bibref" data-link-type="biblio" href="#bib-pcsc5" title="Interoperability Specification for ICCs and Personal Computer Systems; Part 5. ICC Resource Manager Definition">PCSC5</a></cite>] <code>DWORD</code> named
        <var data-type="DWORD">dword</var> to a given number <var>n</var>, perform the following steps.</p>
        <ol>
          <li>Set <var data-type="DWORD">dword</var> to <var data-type="DWORD">dword</var> bitwise AND <code>0xFFFF</code>.</li>
          <li>Let <var>shiftedN</var> be the result of a left shift of 16 bits on <var>n</var>.</li>
          <li>Set <var data-type="DWORD">dword</var> to <var data-type="DWORD">dword</var> bitwise OR <var>shiftedN</var>.</li>
        </ol>

        <p>To <dfn id="dfn-add-a-flag" tabindex="0" aria-haspopup="dialog" data-dfn-type="dfn">add a flag</dfn> <var data-type="DWORD">f</var> to a [<cite><a class="bibref" data-link-type="biblio" href="#bib-pcsc5" title="Interoperability Specification for ICCs and Personal Computer Systems; Part 5. ICC Resource Manager Definition">PCSC5</a></cite>] <code>DWORD</code>
        <var data-type="DWORD">flags</var>, set <var data-type="DWORD">flags</var> to <var data-type="DWORD">flags</var> bitwise OR <var data-type="DWORD">f</var>.</p>

        <p>A [<cite><a class="bibref" data-link-type="biblio" href="#bib-pcsc5" title="Interoperability Specification for ICCs and Personal Computer Systems; Part 5. ICC Resource Manager Definition">PCSC5</a></cite>] <code>DWORD</code> <var data-type="DWORD">flags</var> <dfn id="dfn-has-a-flag" tabindex="0" aria-haspopup="dialog" data-dfn-type="dfn">has a flag</dfn> <var data-type="DWORD">f</var>
        if <var data-type="DWORD">flags</var> bitwise AND <var data-type="DWORD">f</var> is <var data-type="DWORD">f</var>.</p>
      </section>
    </section>

    <section data-dfn-for="SmartCardConnection" id="smartcardconnection-interface"><div class="header-wrapper"><h2 id="x5-smartcardconnection-interface"><bdi class="secno">5. </bdi><dfn data-export="" data-dfn-type="interface" id="dom-smartcardconnection" data-idl="interface" data-title="SmartCardConnection" data-dfn-for="" tabindex="0" aria-haspopup="dialog"><code>SmartCardConnection</code></dfn> interface</h2><a class="self-link" href="#smartcardconnection-interface" aria-label="Permalink for Section 5."></a></div>
      
      <pre class="idl def" id="webidl-1329487962"><span class="idlHeader"><a class="self-link" href="#webidl-1329487962">WebIDL</a></span><code><span data-idl="" class="idlInterface" id="idl-def-smartcardconnection" data-title="SmartCardConnection">[<span class="extAttr"><a data-type="extended-attribute" href="https://webidl.spec.whatwg.org/#Exposed">Exposed</a>=(DedicatedWorker, SharedWorker, Window)</span>, <span class="extAttr"><a data-type="extended-attribute" href="https://webidl.spec.whatwg.org/#SecureContext">SecureContext</a></span>]
interface <a class="internalDFN idlID" data-link-type="interface" href="#dom-smartcardconnection" id="ref-for-dom-smartcardconnection-4"><code>SmartCardConnection</code></a> {<span data-idl="" class="idlMethod" id="idl-def-smartcardconnection-disconnect-disposition" data-title="disconnect" data-dfn-for="SmartCardConnection"><span class="idlType">
  <a data-type="interface" href="https://webidl.spec.whatwg.org/#idl-promise">Promise</a>&lt;<a data-link-type="idl" data-type="interface" href="https://webidl.spec.whatwg.org/#idl-undefined">undefined</a>&gt;</span> <a class="internalDFN idlName" data-link-type="method" href="#dom-smartcardconnection-disconnect" id="ref-for-dom-smartcardconnection-disconnect-1"><code>disconnect</code></a>(optional<span class="idlType"> <a data-link-type="idl" href="#dom-smartcarddisposition" class="internalDFN" id="ref-for-dom-smartcarddisposition-1"><code>SmartCardDisposition</code></a></span> <span class="idlParamName">disposition</span> = "leave");</span><span data-idl="" class="idlMethod" id="idl-def-smartcardconnection-transmit-sendbuffer-options" data-title="transmit" data-dfn-for="SmartCardConnection"><span class="idlType">

  <a data-type="interface" href="https://webidl.spec.whatwg.org/#idl-promise">Promise</a>&lt;<a data-link-type="idl" data-type="interface" href="https://webidl.spec.whatwg.org/#idl-ArrayBuffer">ArrayBuffer</a>&gt;</span> <a class="internalDFN idlName" data-link-type="method" href="#dom-smartcardconnection-transmit" id="ref-for-dom-smartcardconnection-transmit-1"><code>transmit</code></a>(<span class="idlType"><a data-link-type="idl" data-type="typedef" href="https://webidl.spec.whatwg.org/#BufferSource">BufferSource</a></span> <span class="idlParamName">sendBuffer</span>,
      optional<span class="idlType"> <a data-link-type="idl" href="#dom-smartcardtransmitoptions" class="internalDFN" id="ref-for-dom-smartcardtransmitoptions-1"><code>SmartCardTransmitOptions</code></a></span> <span class="idlParamName">options</span> = {});</span><span data-idl="" class="idlMethod" id="idl-def-smartcardconnection-starttransaction-transaction-options" data-title="startTransaction" data-dfn-for="SmartCardConnection"><span class="idlType">

  <a data-type="interface" href="https://webidl.spec.whatwg.org/#idl-promise">Promise</a>&lt;<a data-link-type="idl" data-type="interface" href="https://webidl.spec.whatwg.org/#idl-undefined">undefined</a>&gt;</span> <a class="internalDFN idlName" data-link-type="method" href="#dom-smartcardconnection-starttransaction" id="ref-for-dom-smartcardconnection-starttransaction-2"><code>startTransaction</code></a>(<span class="idlType"><a data-link-type="idl" href="#dom-smartcardtransactioncallback" class="internalDFN" id="ref-for-dom-smartcardtransactioncallback-2"><code>SmartCardTransactionCallback</code></a></span> <span class="idlParamName">transaction</span>,
      optional<span class="idlType"> <a data-link-type="idl" href="#dom-smartcardtransactionoptions" class="internalDFN" id="ref-for-dom-smartcardtransactionoptions-1"><code>SmartCardTransactionOptions</code></a></span> <span class="idlParamName">options</span> = {});</span><span data-idl="" class="idlMethod" id="idl-def-smartcardconnection-status" data-title="status" data-dfn-for="SmartCardConnection"><span class="idlType">

  <a data-type="interface" href="https://webidl.spec.whatwg.org/#idl-promise">Promise</a>&lt;<a data-link-type="idl" href="#dom-smartcardconnectionstatus" class="internalDFN" id="ref-for-dom-smartcardconnectionstatus-1"><code>SmartCardConnectionStatus</code></a>&gt;</span> <a class="internalDFN idlName" data-link-type="method" href="#dom-smartcardconnection-status" id="ref-for-dom-smartcardconnection-status-1"><code>status</code></a>();</span><span data-idl="" class="idlMethod" id="idl-def-smartcardconnection-control-controlcode-data" data-title="control" data-dfn-for="SmartCardConnection"><span class="idlType">

  <a data-type="interface" href="https://webidl.spec.whatwg.org/#idl-promise">Promise</a>&lt;<a data-link-type="idl" data-type="interface" href="https://webidl.spec.whatwg.org/#idl-ArrayBuffer">ArrayBuffer</a>&gt;</span> <a class="internalDFN idlName" data-link-type="method" href="#dom-smartcardconnection-control" id="ref-for-dom-smartcardconnection-control-1"><code>control</code></a>([<span class="extAttr"><a data-type="extended-attribute" href="https://webidl.spec.whatwg.org/#EnforceRange">EnforceRange</a></span>]<span class="idlType"> <a data-link-type="idl" data-type="interface" href="https://webidl.spec.whatwg.org/#idl-unsigned-long">unsigned long</a></span> <span class="idlParamName">controlCode</span>,<span class="idlType">
      <a data-link-type="idl" data-type="typedef" href="https://webidl.spec.whatwg.org/#BufferSource">BufferSource</a></span> <span class="idlParamName">data</span>);</span><span data-idl="" class="idlMethod" id="idl-def-smartcardconnection-getattribute-tag" data-title="getAttribute" data-dfn-for="SmartCardConnection"><span class="idlType">

  <a data-type="interface" href="https://webidl.spec.whatwg.org/#idl-promise">Promise</a>&lt;<a data-link-type="idl" data-type="interface" href="https://webidl.spec.whatwg.org/#idl-ArrayBuffer">ArrayBuffer</a>&gt;</span> <a class="internalDFN idlName" data-link-type="method" href="#dom-smartcardconnection-getattribute" id="ref-for-dom-smartcardconnection-getattribute-1"><code>getAttribute</code></a>([<span class="extAttr"><a data-type="extended-attribute" href="https://webidl.spec.whatwg.org/#EnforceRange">EnforceRange</a></span>]<span class="idlType"> <a data-link-type="idl" data-type="interface" href="https://webidl.spec.whatwg.org/#idl-unsigned-long">unsigned long</a></span> <span class="idlParamName">tag</span>);</span><span data-idl="" class="idlMethod" id="idl-def-smartcardconnection-setattribute-tag-value" data-title="setAttribute" data-dfn-for="SmartCardConnection"><span class="idlType">
  <a data-type="interface" href="https://webidl.spec.whatwg.org/#idl-promise">Promise</a>&lt;<a data-link-type="idl" data-type="interface" href="https://webidl.spec.whatwg.org/#idl-undefined">undefined</a>&gt;</span> <a class="internalDFN idlName" data-link-type="method" href="#dom-smartcardconnection-setattribute" id="ref-for-dom-smartcardconnection-setattribute-1"><code>setAttribute</code></a>([<span class="extAttr"><a data-type="extended-attribute" href="https://webidl.spec.whatwg.org/#EnforceRange">EnforceRange</a></span>]<span class="idlType"> <a data-link-type="idl" data-type="interface" href="https://webidl.spec.whatwg.org/#idl-unsigned-long">unsigned long</a></span> <span class="idlParamName">tag</span>,<span class="idlType"> <a data-link-type="idl" data-type="typedef" href="https://webidl.spec.whatwg.org/#BufferSource">BufferSource</a></span> <span class="idlParamName">value</span>);</span>
};</span><span data-idl="" class="idlCallback" id="idl-def-smartcardtransactioncallback" data-title="SmartCardTransactionCallback">

callback <dfn data-export="" data-dfn-type="callback" id="dom-smartcardtransactioncallback" data-idl="callback" data-title="SmartCardTransactionCallback" data-dfn-for="" class="idlID" tabindex="0" aria-haspopup="dialog"><code>SmartCardTransactionCallback</code></dfn> =<span class="idlType"> <a data-type="interface" href="https://webidl.spec.whatwg.org/#idl-promise">Promise</a>&lt;<a data-link-type="idl" href="#dom-smartcarddisposition" class="internalDFN" id="ref-for-dom-smartcarddisposition-2"><code>SmartCardDisposition</code></a>?&gt;</span> ();</span></code></pre>
      <p>Instances of <a data-link-type="idl" data-lt="SmartCardConnection" href="#dom-smartcardconnection" class="internalDFN" id="ref-for-dom-smartcardconnection-5"><code>SmartCardConnection</code></a> are created with the internal slots
      described in the following table:</p>
      <table class="simple" data-dfn-for="SmartCardConnection">
        <tbody><tr>
          <th>Internal slot
          </th><th>Initial value
          </th><th>Description (non-normative)
        </th></tr>
        <tr>
          <td><dfn data-idl="" data-dfn-for="SmartCardConnection" data-noexport="" data-dfn-type="attribute" id="dfn-comm" tabindex="0" aria-haspopup="dialog">[[comm]]</dfn></td>
          <td><code>null</code></td>
          <td>The platform's [<cite><a class="bibref" data-link-type="biblio" href="#bib-pcsc5" title="Interoperability Specification for ICCs and Personal Computer Systems; Part 5. ICC Resource Manager Definition">PCSC5</a></cite>] <code>SCARDCOMM</code> to be used.</td>
        </tr>
        <tr>
          <td><dfn data-idl="" data-dfn-for="SmartCardConnection" data-noexport="" data-dfn-type="attribute" id="dfn-context" tabindex="0" aria-haspopup="dialog">[[context]]</dfn></td>
          <td><code>null</code></td>
          <td>The <a data-link-type="idl" data-lt="SmartCardContext" href="#dom-smartcardcontext" class="internalDFN" id="ref-for-dom-smartcardcontext-6"><code>SmartCardContext</code></a> that created this instance.</td>
        </tr>
        <tr>
          <td><dfn data-idl="" data-dfn-for="SmartCardConnection" data-noexport="" data-dfn-type="attribute" id="dfn-activeprotocol" tabindex="0" aria-haspopup="dialog">[[activeProtocol]]</dfn></td>
          <td>0</td>
          <td>The active protocol <code>DWORD</code>, as returned by the platform's
            [<cite><a class="bibref" data-link-type="biblio" href="#bib-pcsc5" title="Interoperability Specification for ICCs and Personal Computer Systems; Part 5. ICC Resource Manager Definition">PCSC5</a></cite>] implementation.</td>
        </tr>
        <tr>
          <td><dfn data-idl="" data-dfn-for="SmartCardConnection" data-noexport="" data-dfn-type="attribute" id="dfn-transactionstate" tabindex="0" aria-haspopup="dialog">[[transactionState]]</dfn></td>
          <td><code>null</code></td>
          <td>Holds the <a data-link-type="dfn|abstract-op" data-lt="transaction state" href="#dfn-transaction-state" class="internalDFN" id="ref-for-dfn-transaction-state-1">state</a> of an ongoing transaction
            started with <a data-link-type="idl" data-lt="startTransaction()" href="#dom-smartcardconnection-starttransaction" class="internalDFN" id="ref-for-dom-smartcardconnection-starttransaction-3"><code>startTransaction</code></a><code>()</code>, if
            any.</td>
        </tr>
      </tbody></table>
      <section id="disconnect-method"><div class="header-wrapper"><h3 id="x5-1-disconnect-method"><bdi class="secno">5.1 </bdi><dfn data-export="" data-dfn-type="method" id="dom-smartcardconnection-disconnect" data-idl="operation" data-title="disconnect()" data-dfn-for="SmartCardConnection" data-type="Promise" data-lt="disconnect()|disconnect(disposition)" data-local-lt="SmartCardConnection.disconnect|SmartCardConnection.disconnect()|disconnect" tabindex="0" aria-haspopup="dialog"><code>disconnect()</code></dfn> method</h3><a class="self-link" href="#disconnect-method" aria-label="Permalink for Section 5.1"></a></div>
        
        <p>The <a data-link-type="idl" data-lt="disconnect(disposition)" href="#dom-smartcardconnection-disconnect" class="internalDFN" id="ref-for-dom-smartcardconnection-disconnect-2"><code>disconnect</code></a><code>(<var>disposition</var>)</code> method steps
        are:</p>
        <ol>
          <li>Let <var data-type="Promise">promise</var> be <a data-link-type="dfn|abstract-op" data-type="dfn" href="https://webidl.spec.whatwg.org/#a-new-promise">a new promise</a>.</li>
          <li>If
            <a data-link-type="dfn|abstract-op" data-type="dfn" href="https://webidl.spec.whatwg.org/#this">this</a>.<a data-link-type="attribute" data-lt="[[context]]" href="#dfn-context" class="internalDFN" id="ref-for-dfn-context-2"><code>[[context]]</code></a>.<a data-link-type="attribute" data-lt="[[operationInProgress]]" href="#dfn-operationinprogress" class="internalDFN" id="ref-for-dfn-operationinprogress-10"><code>[[operationInProgress]]</code></a>
            is <code>true</code>, <a data-link-type="dfn|abstract-op" data-type="dfn" href="https://webidl.spec.whatwg.org/#reject">reject</a> <var data-type="Promise">promise</var> with a "<a data-link-type="idl" data-lt="InvalidStateError" data-type="exception" href="https://webidl.spec.whatwg.org/#invalidstateerror"><code>InvalidStateError</code></a>"
          <a data-link-type="idl" data-lt="DOMException" data-type="interface" href="https://webidl.spec.whatwg.org/#idl-DOMException"><code>DOMException</code></a> and return <var data-type="Promise">promise</var>.</li>
          <li>If <a data-link-type="dfn|abstract-op" data-type="dfn" href="https://webidl.spec.whatwg.org/#this">this</a>.<a data-link-type="attribute" data-lt="[[comm]]" href="#dfn-comm" class="internalDFN" id="ref-for-dfn-comm-2"><code>[[comm]]</code></a> is <code>null</code>, <a data-link-type="dfn|abstract-op" data-type="dfn" href="https://webidl.spec.whatwg.org/#reject">reject</a>
            <var data-type="Promise">promise</var> with a "<a data-link-type="idl" data-lt="InvalidStateError" data-type="exception" href="https://webidl.spec.whatwg.org/#invalidstateerror"><code>InvalidStateError</code></a>" <a data-link-type="idl" data-lt="DOMException" data-type="interface" href="https://webidl.spec.whatwg.org/#idl-DOMException"><code>DOMException</code></a> and return
            <var data-type="Promise">promise</var>.</li>
          <li>Set
            <a data-link-type="dfn|abstract-op" data-type="dfn" href="https://webidl.spec.whatwg.org/#this">this</a>.<a data-link-type="attribute" data-lt="[[context]]" href="#dfn-context" class="internalDFN" id="ref-for-dfn-context-3"><code>[[context]]</code></a>.<a data-link-type="attribute" data-lt="[[operationInProgress]]" href="#dfn-operationinprogress" class="internalDFN" id="ref-for-dfn-operationinprogress-11"><code>[[operationInProgress]]</code></a>
            to <code>true</code>.</li>
          <li>Run the following steps <a data-link-type="dfn|abstract-op" data-type="dfn" href="https://html.spec.whatwg.org/multipage/infrastructure.html#in-parallel">in parallel</a>:
            <ol>
              <li>Call <a data-link-type="dfn|abstract-op" data-type="dfn" href="https://webidl.spec.whatwg.org/#this">this</a>.<a data-link-type="attribute" data-lt="[[comm]]" href="#dfn-comm" class="internalDFN" id="ref-for-dfn-comm-3"><code>[[comm]]</code></a>.<code>Disconnect()</code>
                with a <code>DWORD</code> corresponding to
                <var data-type="SmartCardDisposition">disposition</var> as input parameter.</li>
              <li>Let <var data-type="RESPONSECODE">responseCode</var> be the returned
                <code>RESPONSECODE</code>.</li>
              <li><a data-link-type="dfn|abstract-op" data-type="dfn" href="https://html.spec.whatwg.org/multipage/webappapis.html#queue-a-global-task">Queue a global task</a> on the <a data-link-type="dfn|abstract-op" data-type="dfn" href="https://html.spec.whatwg.org/multipage/webappapis.html#concept-relevant-global">relevant global object</a> of
                <a data-link-type="dfn|abstract-op" data-type="dfn" href="https://webidl.spec.whatwg.org/#this">this</a> using the <a data-link-type="dfn|abstract-op" href="#dfn-smart-card-task-source" class="internalDFN" id="ref-for-dfn-smart-card-task-source-6">smart card task source</a> which performs the
                following steps:
                <ol>
                  <li><a data-link-type="dfn|abstract-op" href="#dfn-clear-the-operationinprogress" class="internalDFN" id="ref-for-dfn-clear-the-operationinprogress-4">Clear the operationInProgress</a> of
                    <a data-link-type="dfn|abstract-op" data-type="dfn" href="https://webidl.spec.whatwg.org/#this">this</a>.<a data-link-type="attribute" data-lt="[[context]]" href="#dfn-context" class="internalDFN" id="ref-for-dfn-context-4"><code>[[context]]</code></a>.</li>
                  <li>If <var data-type="RESPONSECODE">responseCode</var> is not <code>SCARD_S_SUCCESS</code>, <a data-link-type="dfn|abstract-op" data-type="dfn" href="https://webidl.spec.whatwg.org/#reject">reject</a>
                    <var data-type="Promise">promise</var> with an <a data-link-type="dfn|abstract-op" data-type="dfn" href="https://webidl.spec.whatwg.org/#dfn-exception">exception</a>
                    <a data-link-type="idl" href="#dfn-corresponding-5" class="internalDFN" id="ref-for-dfn-corresponding-5-5"><code>corresponding</code></a> to <var data-type="RESPONSECODE">responseCode</var> and abort
                    these steps.</li>
                  <li>Destroy <a data-link-type="dfn|abstract-op" data-type="dfn" href="https://webidl.spec.whatwg.org/#this">this</a>.<a data-link-type="attribute" data-lt="[[comm]]" href="#dfn-comm" class="internalDFN" id="ref-for-dfn-comm-4"><code>[[comm]]</code></a>.</li>
                  <li>Set <a data-link-type="dfn|abstract-op" data-type="dfn" href="https://webidl.spec.whatwg.org/#this">this</a>.<a data-link-type="attribute" data-lt="[[comm]]" href="#dfn-comm" class="internalDFN" id="ref-for-dfn-comm-5"><code>[[comm]]</code></a> to <code>null</code>.</li>
                  <li><a data-link-type="dfn|abstract-op" data-type="dfn" href="https://webidl.spec.whatwg.org/#resolve">Resolve</a> <var data-type="Promise">promise</var>.</li>
                </ol>
              </li>
            </ol>
          </li>
          <li>Return <var data-type="Promise">promise</var>.</li>
        </ol>

        <section data-dfn-for="SmartCardDisposition" id="smartcarddisposition-enum"><div class="header-wrapper"><h4 id="x5-1-1-smartcarddisposition-enum"><bdi class="secno">5.1.1 </bdi><dfn data-export="" data-dfn-type="enum" id="dom-smartcarddisposition" data-idl="enum" data-title="SmartCardDisposition" data-dfn-for="" tabindex="0" aria-haspopup="dialog"><code>SmartCardDisposition</code></dfn> enum</h4><a class="self-link" href="#smartcarddisposition-enum" aria-label="Permalink for Section 5.1.1"></a></div>
          
          <pre class="idl def" id="webidl-633517433"><span class="idlHeader"><a class="self-link" href="#webidl-633517433">WebIDL</a></span><code><span data-idl="" class="idlEnum" id="idl-def-smartcarddisposition" data-title="SmartCardDisposition">enum <a class="internalDFN idlID" data-link-type="enum" href="#dom-smartcarddisposition" id="ref-for-dom-smartcarddisposition-3"><code>SmartCardDisposition</code></a> {
  <span class="idlEnumItem">"<a class="internalDFN" data-link-type="enum-value" href="#dom-smartcarddisposition-leave" id="ref-for-dom-smartcarddisposition-leave-1"><code>leave</code></a>"</span>,
  <span class="idlEnumItem">"<a class="internalDFN" data-link-type="enum-value" href="#dom-smartcarddisposition-reset" id="ref-for-dom-smartcarddisposition-reset-1"><code>reset</code></a>"</span>,
  <span class="idlEnumItem">"<a class="internalDFN" data-link-type="enum-value" href="#dom-smartcarddisposition-unpower" id="ref-for-dom-smartcarddisposition-unpower-1"><code>unpower</code></a>"</span>,
  <span class="idlEnumItem">"<a class="internalDFN" data-link-type="enum-value" href="#dom-smartcarddisposition-eject" id="ref-for-dom-smartcarddisposition-eject-1"><code>eject</code></a>"</span>
};</span></code></pre>
          <dl>
            <dt><dfn data-export="" data-dfn-type="enum-value" id="dom-smartcarddisposition-leave" data-idl="enum-value" data-title="leave" data-dfn-for="SmartCardDisposition" tabindex="0" aria-haspopup="dialog"><code>leave</code></dfn></dt>
            <dd>Don't alter card state. Corresponds to a [<cite><a class="bibref" data-link-type="biblio" href="#bib-pcsc5" title="Interoperability Specification for ICCs and Personal Computer Systems; Part 5. ICC Resource Manager Definition">PCSC5</a></cite>]
              <code>SCARD_LEAVE_CARD</code> <code>DWORD</code>.</dd>
            <dt><dfn data-export="" data-dfn-type="enum-value" id="dom-smartcarddisposition-reset" data-idl="enum-value" data-title="reset" data-dfn-for="SmartCardDisposition" tabindex="0" aria-haspopup="dialog"><code>reset</code></dfn></dt>
            <dd>Reset the card. Corresponds to a [<cite><a class="bibref" data-link-type="biblio" href="#bib-pcsc5" title="Interoperability Specification for ICCs and Personal Computer Systems; Part 5. ICC Resource Manager Definition">PCSC5</a></cite>] <code>SCARD_RESET_CARD</code>
              <code>DWORD</code>.</dd>
            <dt><dfn data-export="" data-dfn-type="enum-value" id="dom-smartcarddisposition-unpower" data-idl="enum-value" data-title="unpower" data-dfn-for="SmartCardDisposition" tabindex="0" aria-haspopup="dialog"><code>unpower</code></dfn></dt>
            <dd>Unpower and terminate access to the card. Corresponds to a
              [<cite><a class="bibref" data-link-type="biblio" href="#bib-pcsc5" title="Interoperability Specification for ICCs and Personal Computer Systems; Part 5. ICC Resource Manager Definition">PCSC5</a></cite>] <code>SCARD_UNPOWER_CARD</code> <code>DWORD</code>.</dd>
            <dt><dfn data-export="" data-dfn-type="enum-value" id="dom-smartcarddisposition-eject" data-idl="enum-value" data-title="eject" data-dfn-for="SmartCardDisposition" tabindex="0" aria-haspopup="dialog"><code>eject</code></dfn></dt>
            <dd>Eject the card from the reader. Corresponds to a [<cite><a class="bibref" data-link-type="biblio" href="#bib-pcsc5" title="Interoperability Specification for ICCs and Personal Computer Systems; Part 5. ICC Resource Manager Definition">PCSC5</a></cite>]
              <code>SCARD_EJECT_CARD</code> <code>DWORD</code>.</dd>
          </dl>
        </section>
      </section>
      <section id="transmit-method"><div class="header-wrapper"><h3 id="x5-2-transmit-method"><bdi class="secno">5.2 </bdi><dfn data-export="" data-dfn-type="method" id="dom-smartcardconnection-transmit" data-idl="operation" data-title="transmit()" data-dfn-for="SmartCardConnection" data-type="Promise" data-lt="transmit()|transmit(sendBuffer)|transmit(sendBuffer, options)" data-local-lt="SmartCardConnection.transmit|SmartCardConnection.transmit()|transmit" tabindex="0" aria-haspopup="dialog"><code>transmit()</code></dfn> method</h3><a class="self-link" href="#transmit-method" aria-label="Permalink for Section 5.2"></a></div>
        
        <p>The <a data-link-type="idl" data-lt="transmit(sendBuffer, options)" href="#dom-smartcardconnection-transmit" class="internalDFN" id="ref-for-dom-smartcardconnection-transmit-2"><code>transmit</code></a><code>(<var>sendBuffer</var>, <var>options</var>)</code> method steps
        are:</p>
        <ol>
          <li>Let <var data-type="Promise">promise</var> be <a data-link-type="dfn|abstract-op" data-type="dfn" href="https://webidl.spec.whatwg.org/#a-new-promise">a new promise</a>.</li>
          <li>If
            <a data-link-type="dfn|abstract-op" data-type="dfn" href="https://webidl.spec.whatwg.org/#this">this</a>.<a data-link-type="attribute" data-lt="[[context]]" href="#dfn-context" class="internalDFN" id="ref-for-dfn-context-5"><code>[[context]]</code></a>.<a data-link-type="attribute" data-lt="[[operationInProgress]]" href="#dfn-operationinprogress" class="internalDFN" id="ref-for-dfn-operationinprogress-12"><code>[[operationInProgress]]</code></a>
            is <code>true</code>, <a data-link-type="dfn|abstract-op" data-type="dfn" href="https://webidl.spec.whatwg.org/#reject">reject</a> <var data-type="Promise">promise</var> with a "<a data-link-type="idl" data-lt="InvalidStateError" data-type="exception" href="https://webidl.spec.whatwg.org/#invalidstateerror"><code>InvalidStateError</code></a>"
          <a data-link-type="idl" data-lt="DOMException" data-type="interface" href="https://webidl.spec.whatwg.org/#idl-DOMException"><code>DOMException</code></a> and return <var data-type="Promise">promise</var>.</li>
          <li>If <a data-link-type="dfn|abstract-op" data-type="dfn" href="https://webidl.spec.whatwg.org/#this">this</a>.<a data-link-type="attribute" data-lt="[[comm]]" href="#dfn-comm" class="internalDFN" id="ref-for-dfn-comm-6"><code>[[comm]]</code></a> is <code>null</code>, <a data-link-type="dfn|abstract-op" data-type="dfn" href="https://webidl.spec.whatwg.org/#reject">reject</a>
            <var data-type="Promise">promise</var> with a "<a data-link-type="idl" data-lt="InvalidStateError" data-type="exception" href="https://webidl.spec.whatwg.org/#invalidstateerror"><code>InvalidStateError</code></a>" <a data-link-type="idl" data-lt="DOMException" data-type="interface" href="https://webidl.spec.whatwg.org/#idl-DOMException"><code>DOMException</code></a> and return
            <var data-type="Promise">promise</var>.</li>
          <li>Let <var data-type="DWORD">protocol</var> be a [<cite><a class="bibref" data-link-type="biblio" href="#bib-pcsc5" title="Interoperability Specification for ICCs and Personal Computer Systems; Part 5. ICC Resource Manager Definition">PCSC5</a></cite>] <code>DWORD</code> set to
            <a data-link-type="dfn|abstract-op" data-type="dfn" href="https://webidl.spec.whatwg.org/#this">this</a>.<a data-link-type="attribute" data-lt="[[activeProtocol]]" href="#dfn-activeprotocol" class="internalDFN" id="ref-for-dfn-activeprotocol-2"><code>[[activeProtocol]]</code></a>.
          </li><li>If
            <var data-type="SmartCardTransmitOptions">options</var>["<a data-link-type="idl" href="#dom-smartcardtransmitoptions-protocol" class="internalDFN" id="ref-for-dom-smartcardtransmitoptions-protocol-1"><code>protocol</code></a>"]
            <a data-link-type="dfn|abstract-op" data-type="dfn" href="https://infra.spec.whatwg.org/#map-exists">exists</a>, set <var data-type="DWORD">protocol</var> to the <code>DWORD</code> corresponding to
            <var data-type="SmartCardTransmitOptions">options</var>["<a data-link-type="idl" href="#dom-smartcardtransmitoptions-protocol" class="internalDFN" id="ref-for-dom-smartcardtransmitoptions-protocol-2"><code>protocol</code></a>"].
          </li><li>If <var data-type="DWORD">protocol</var> is not a <a data-link-type="dfn|abstract-op" href="#dfn-valid-protocol-value" class="internalDFN" id="ref-for-dfn-valid-protocol-value-2">valid protocol value</a>,
            <a data-link-type="dfn|abstract-op" data-type="dfn" href="https://webidl.spec.whatwg.org/#reject">reject</a> <var data-type="Promise">promise</var> with a "<a data-link-type="idl" data-lt="InvalidStateError" data-type="exception" href="https://webidl.spec.whatwg.org/#invalidstateerror"><code>InvalidStateError</code></a>" <a data-link-type="idl" data-lt="DOMException" data-type="interface" href="https://webidl.spec.whatwg.org/#idl-DOMException"><code>DOMException</code></a>
            and return <var data-type="Promise">promise</var>.</li>
          <li>Set
            <a data-link-type="dfn|abstract-op" data-type="dfn" href="https://webidl.spec.whatwg.org/#this">this</a>.<a data-link-type="attribute" data-lt="[[context]]" href="#dfn-context" class="internalDFN" id="ref-for-dfn-context-6"><code>[[context]]</code></a>.<a data-link-type="attribute" data-lt="[[operationInProgress]]" href="#dfn-operationinprogress" class="internalDFN" id="ref-for-dfn-operationinprogress-13"><code>[[operationInProgress]]</code></a>
            to <code>true</code>.</li>
          <li>Let <var data-type="SCARD_IO_HEADER">sendPci</var> be the platform's [<cite><a class="bibref" data-link-type="biblio" href="#bib-pcsc5" title="Interoperability Specification for ICCs and Personal Computer Systems; Part 5. ICC Resource Manager Definition">PCSC5</a></cite>]
            <code>SCARD_IO_HEADER</code> corresponding to
            <a data-link-type="dfn|abstract-op" data-type="dfn" href="https://webidl.spec.whatwg.org/#this">this</a>.<a data-link-type="attribute" data-lt="[[activeProtocol]]" href="#dfn-activeprotocol" class="internalDFN" id="ref-for-dfn-activeprotocol-3"><code>[[activeProtocol]]</code></a>.</li>
          <li>Let <var data-type="array of BYTE">pcscSendBuffer</var> be a [<cite><a class="bibref" data-link-type="biblio" href="#bib-pcsc5" title="Interoperability Specification for ICCs and Personal Computer Systems; Part 5. ICC Resource Manager Definition">PCSC5</a></cite>] <code>BYTE[]</code>
            containing <var data-type="BufferSource">sendBuffer</var>.</li>
          <li>Let <var data-type="SCARD_IO_HEADER">recvPci</var> be the platform's <code>SCARD_IO_HEADER</code>
            equivalent of empty or null.</li>
          <li>Let <var data-type="array of BYTE">recvBuffer</var> be a <code>BYTE[]</code> big enough to hold
            the largest [<cite><a class="bibref" data-link-type="biblio" href="#bib-iso7186-3" title="Identification cards - Integrated circuit cards; Part 3: Cards with contacts - Electrical interface and transmission protocols">ISO7186-3</a></cite>] extended response APDU (65538 bytes).</li>
          <li>Let <var data-type="DWORD">recvLength</var> be a <code>DWORD</code> set to <code>0</code>.</li>
          <li>Run the following steps <a data-link-type="dfn|abstract-op" data-type="dfn" href="https://html.spec.whatwg.org/multipage/infrastructure.html#in-parallel">in parallel</a>:
            <ol>
              <li>Call <a data-link-type="dfn|abstract-op" data-type="dfn" href="https://webidl.spec.whatwg.org/#this">this</a>.<a data-link-type="attribute" data-lt="[[comm]]" href="#dfn-comm" class="internalDFN" id="ref-for-dfn-comm-7"><code>[[comm]]</code></a>.<code>Transmit()</code>
                with <var data-type="SCARD_IO_HEADER">sendPci</var>, <var data-type="array of BYTE">pcscSendBuffer</var>, <var data-type="SCARD_IO_HEADER">recvPci</var>, <var data-type="array of BYTE">recvBuffer</var> and
                <var data-type="DWORD">recvLength</var> as arguments.</li>
              <li>Let <var data-type="RESPONSECODE">responseCode</var> be the returned
                <code>RESPONSECODE</code>.</li>
              <li><a data-link-type="dfn|abstract-op" data-type="dfn" href="https://html.spec.whatwg.org/multipage/webappapis.html#queue-a-global-task">Queue a global task</a> on the <a data-link-type="dfn|abstract-op" data-type="dfn" href="https://html.spec.whatwg.org/multipage/webappapis.html#concept-relevant-global">relevant global object</a> of
                <a data-link-type="dfn|abstract-op" data-type="dfn" href="https://webidl.spec.whatwg.org/#this">this</a> using the <a data-link-type="dfn|abstract-op" href="#dfn-smart-card-task-source" class="internalDFN" id="ref-for-dfn-smart-card-task-source-7">smart card task source</a> which performs the
                following steps:
                <ol>
                  <li><a data-link-type="dfn|abstract-op" href="#dfn-clear-the-operationinprogress" class="internalDFN" id="ref-for-dfn-clear-the-operationinprogress-5">Clear the operationInProgress</a> of
                    <a data-link-type="dfn|abstract-op" data-type="dfn" href="https://webidl.spec.whatwg.org/#this">this</a>.<a data-link-type="attribute" data-lt="[[context]]" href="#dfn-context" class="internalDFN" id="ref-for-dfn-context-7"><code>[[context]]</code></a>.</li>
                  <li>If <var data-type="RESPONSECODE">responseCode</var> is not <code>SCARD_S_SUCCESS</code>, <a data-link-type="dfn|abstract-op" data-type="dfn" href="https://webidl.spec.whatwg.org/#reject">reject</a>
                    <var data-type="Promise">promise</var> with an <a data-link-type="dfn|abstract-op" data-type="dfn" href="https://webidl.spec.whatwg.org/#dfn-exception">exception</a>
                    <a data-link-type="idl" href="#dfn-corresponding-5" class="internalDFN" id="ref-for-dfn-corresponding-5-6"><code>corresponding</code></a> to <var data-type="RESPONSECODE">responseCode</var> and abort
                    these steps.</li>
                  <li><a data-link-type="dfn|abstract-op" data-type="dfn" href="https://webidl.spec.whatwg.org/#resolve">Resolve</a> <var data-type="Promise">promise</var> with an <a data-link-type="idl" data-lt="ArrayBuffer" data-type="interface" href="https://webidl.spec.whatwg.org/#idl-ArrayBuffer"><code>ArrayBuffer</code></a> containing
                    the first <var data-type="DWORD">recvLength</var> bytes of <var data-type="array of BYTE">recvBuffer</var>.</li>
                </ol>
              </li>
            </ol>
          </li>
          <li>Return <var data-type="Promise">promise</var>.</li>
        </ol>
        <section data-dfn-for="SmartCardTransmitOptions" id="smartcardtransmitoptions-dictionary"><div class="header-wrapper"><h4 id="x5-2-1-smartcardtransmitoptions-dictionary"><bdi class="secno">5.2.1 </bdi><dfn data-export="" data-dfn-type="dictionary" id="dom-smartcardtransmitoptions" data-idl="dictionary" data-title="SmartCardTransmitOptions" data-dfn-for="" tabindex="0" aria-haspopup="dialog"><code>SmartCardTransmitOptions</code></dfn> dictionary</h4><a class="self-link" href="#smartcardtransmitoptions-dictionary" aria-label="Permalink for Section 5.2.1"></a></div>
          
          <pre class="idl def" id="webidl-49863312"><span class="idlHeader"><a class="self-link" href="#webidl-49863312">WebIDL</a></span><code><span data-idl="" class="idlDictionary" id="idl-def-smartcardtransmitoptions" data-title="SmartCardTransmitOptions">dictionary <a class="internalDFN idlID" data-link-type="dictionary" href="#dom-smartcardtransmitoptions" id="ref-for-dom-smartcardtransmitoptions-2"><code>SmartCardTransmitOptions</code></a> {<span data-idl="" class="idlMember" id="idl-def-smartcardtransmitoptions-protocol" data-title="protocol" data-dfn-for="SmartCardTransmitOptions"><span class="idlType">
  <a data-link-type="idl" href="#dom-smartcardprotocol" class="internalDFN" id="ref-for-dom-smartcardprotocol-6"><code>SmartCardProtocol</code></a></span> <a class="internalDFN idlName" data-link-type="dict-member" href="#dom-smartcardtransmitoptions-protocol" id="ref-for-dom-smartcardtransmitoptions-protocol-3"><code>protocol</code></a>;</span>
};</span></code></pre>
          <dl>
            <dt><dfn data-export="" data-dfn-type="dict-member" id="dom-smartcardtransmitoptions-protocol" data-idl="field" data-title="protocol" data-dfn-for="SmartCardTransmitOptions" data-type="SmartCardProtocol" tabindex="0" aria-haspopup="dialog"><code>protocol</code></dfn> member</dt>
            <dd>The protocol to be used in the transmission.</dd>
          </dl>
        </section>
      </section>
      <section id="starttransaction-method"><div class="header-wrapper"><h3 id="x5-3-starttransaction-method"><bdi class="secno">5.3 </bdi><dfn data-export="" data-dfn-type="method" id="dom-smartcardconnection-starttransaction" data-idl="operation" data-title="startTransaction()" data-dfn-for="SmartCardConnection" data-type="Promise" data-lt="startTransaction()|startTransaction(transaction)|startTransaction(transaction, options)" data-local-lt="SmartCardConnection.startTransaction|SmartCardConnection.startTransaction()|startTransaction" tabindex="0" aria-haspopup="dialog"><code>startTransaction()</code></dfn> method</h3><a class="self-link" href="#starttransaction-method" aria-label="Permalink for Section 5.3"></a></div>
        
        <p>The <a data-link-type="idl" data-lt="startTransaction(transaction, options)" href="#dom-smartcardconnection-starttransaction" class="internalDFN" id="ref-for-dom-smartcardconnection-starttransaction-4"><code>startTransaction</code></a><code>(<var>transaction</var>, <var>options</var>)</code>
        method steps are:</p>
        <ol>
          <li>Let <var data-type="Promise">promise</var> be <a data-link-type="dfn|abstract-op" data-type="dfn" href="https://webidl.spec.whatwg.org/#a-new-promise">a new promise</a>.</li>
          <li>If
            <a data-link-type="dfn|abstract-op" data-type="dfn" href="https://webidl.spec.whatwg.org/#this">this</a>.<a data-link-type="attribute" data-lt="[[context]]" href="#dfn-context" class="internalDFN" id="ref-for-dfn-context-8"><code>[[context]]</code></a>.<a data-link-type="attribute" data-lt="[[operationInProgress]]" href="#dfn-operationinprogress" class="internalDFN" id="ref-for-dfn-operationinprogress-14"><code>[[operationInProgress]]</code></a>
            is <code>true</code>, <a data-link-type="dfn|abstract-op" data-type="dfn" href="https://webidl.spec.whatwg.org/#reject">reject</a> <var data-type="Promise">promise</var> with a "<a data-link-type="idl" data-lt="InvalidStateError" data-type="exception" href="https://webidl.spec.whatwg.org/#invalidstateerror"><code>InvalidStateError</code></a>"
          <a data-link-type="idl" data-lt="DOMException" data-type="interface" href="https://webidl.spec.whatwg.org/#idl-DOMException"><code>DOMException</code></a> and return <var data-type="Promise">promise</var>.</li>
          <li>If <a data-link-type="dfn|abstract-op" data-type="dfn" href="https://webidl.spec.whatwg.org/#this">this</a>.<a data-link-type="attribute" data-lt="[[comm]]" href="#dfn-comm" class="internalDFN" id="ref-for-dfn-comm-8"><code>[[comm]]</code></a> is <code>null</code>, <a data-link-type="dfn|abstract-op" data-type="dfn" href="https://webidl.spec.whatwg.org/#reject">reject</a>
            <var data-type="Promise">promise</var> with a "<a data-link-type="idl" data-lt="InvalidStateError" data-type="exception" href="https://webidl.spec.whatwg.org/#invalidstateerror"><code>InvalidStateError</code></a>" <a data-link-type="idl" data-lt="DOMException" data-type="interface" href="https://webidl.spec.whatwg.org/#idl-DOMException"><code>DOMException</code></a> and return
            <var data-type="Promise">promise</var>.</li>
          <li>If <a data-link-type="dfn|abstract-op" data-type="dfn" href="https://webidl.spec.whatwg.org/#this">this</a>.<a data-link-type="attribute" data-lt="[[transactionState]]" href="#dfn-transactionstate" class="internalDFN" id="ref-for-dfn-transactionstate-1"><code>[[transactionState]]</code></a> is not
            <code>null</code>,  <a data-link-type="dfn|abstract-op" data-type="dfn" href="https://webidl.spec.whatwg.org/#reject">reject</a> <var data-type="Promise">promise</var> with a "<a data-link-type="idl" data-lt="InvalidStateError" data-type="exception" href="https://webidl.spec.whatwg.org/#invalidstateerror"><code>InvalidStateError</code></a>"
            <a data-link-type="idl" data-lt="DOMException" data-type="interface" href="https://webidl.spec.whatwg.org/#idl-DOMException"><code>DOMException</code></a> and return <var data-type="Promise">promise</var>.</li>
          <li>Let <var>signal</var> be an <a data-link-type="idl" data-lt="AbortSignal" data-type="interface" href="https://dom.spec.whatwg.org/#abortsignal"><code>AbortSignal</code></a> set to <code>null</code>.</li>
          <li>If
            <var data-type="SmartCardTransactionOptions">options</var>["<a data-link-type="idl" href="#dom-smartcardtransactionoptions-signal" class="internalDFN" id="ref-for-dom-smartcardtransactionoptions-signal-1"><code>signal</code></a>"]
            <a data-link-type="dfn|abstract-op" data-type="dfn" href="https://infra.spec.whatwg.org/#map-exists">exists</a>, run the following steps:
            <ol>
              <li>If
                <var data-type="SmartCardTransactionOptions">options</var>["<a data-link-type="idl" href="#dom-smartcardtransactionoptions-signal" class="internalDFN" id="ref-for-dom-smartcardtransactionoptions-signal-2"><code>signal</code></a>"]
                is <a data-link-type="dfn|abstract-op" data-type="dfn" href="https://dom.spec.whatwg.org/#abortsignal-aborted">aborted</a>, <a data-link-type="dfn|abstract-op" data-type="dfn" href="https://webidl.spec.whatwg.org/#reject">reject</a> <var data-type="Promise">promise</var> with
                <var data-type="SmartCardTransactionOptions">options</var>["<a data-link-type="idl" href="#dom-smartcardtransactionoptions-signal" class="internalDFN" id="ref-for-dom-smartcardtransactionoptions-signal-3"><code>signal</code></a>"]'s
                <a data-link-type="dfn|abstract-op" data-type="dfn" href="https://dom.spec.whatwg.org/#abortsignal-abort-reason">abort reason</a> and return <var data-type="Promise">promise</var>.</li>
              <li>Set <var>signal</var> to
                <var data-type="SmartCardTransactionOptions">options</var>["<a data-link-type="idl" href="#dom-smartcardtransactionoptions-signal" class="internalDFN" id="ref-for-dom-smartcardtransactionoptions-signal-4"><code>signal</code></a>"].</li>
              <li><a data-link-type="dfn|abstract-op" data-type="dfn" href="https://dom.spec.whatwg.org/#abortsignal-add">Add</a> the <a data-link-type="idl" href="#dfn-cancel" class="internalDFN" id="ref-for-dfn-cancel-1"><code>cancel</code></a>
                algorithm to <var>signal</var>.</li>
            </ol>
          </li>
          <li>Set
            <a data-link-type="dfn|abstract-op" data-type="dfn" href="https://webidl.spec.whatwg.org/#this">this</a>.<a data-link-type="attribute" data-lt="[[context]]" href="#dfn-context" class="internalDFN" id="ref-for-dfn-context-9"><code>[[context]]</code></a>.<a data-link-type="attribute" data-lt="[[operationInProgress]]" href="#dfn-operationinprogress" class="internalDFN" id="ref-for-dfn-operationinprogress-15"><code>[[operationInProgress]]</code></a>
            to <code>true</code>.</li>
          <li>Run the following steps <a data-link-type="dfn|abstract-op" data-type="dfn" href="https://html.spec.whatwg.org/multipage/infrastructure.html#in-parallel">in parallel</a>:
            <ol>
              <li>Call
                <a data-link-type="dfn|abstract-op" data-type="dfn" href="https://webidl.spec.whatwg.org/#this">this</a>.<a data-link-type="attribute" data-lt="[[comm]]" href="#dfn-comm" class="internalDFN" id="ref-for-dfn-comm-9"><code>[[comm]]</code></a>.<code>BeginTransaction()</code>.</li>
              <li>Let <var data-type="RESPONSECODE">responseCode</var> be the returned [<cite><a class="bibref" data-link-type="biblio" href="#bib-pcsc5" title="Interoperability Specification for ICCs and Personal Computer Systems; Part 5. ICC Resource Manager Definition">PCSC5</a></cite>]
                <code>RESPONSECODE</code>.</li>
              <li><a data-link-type="dfn|abstract-op" data-type="dfn" href="https://html.spec.whatwg.org/multipage/webappapis.html#queue-a-global-task">Queue a global task</a> on the <a data-link-type="dfn|abstract-op" data-type="dfn" href="https://html.spec.whatwg.org/multipage/webappapis.html#concept-relevant-global">relevant global object</a> of
                <a data-link-type="dfn|abstract-op" data-type="dfn" href="https://webidl.spec.whatwg.org/#this">this</a> using the <a data-link-type="dfn|abstract-op" href="#dfn-smart-card-task-source" class="internalDFN" id="ref-for-dfn-smart-card-task-source-8">smart card task source</a> to
                <a data-link-type="dfn|abstract-op" href="#dfn-process-the-result-of-a-begintransaction" class="internalDFN" id="ref-for-dfn-process-the-result-of-a-begintransaction-1">process the result of a BeginTransaction</a> with <a data-link-type="dfn|abstract-op" data-type="dfn" href="https://webidl.spec.whatwg.org/#this">this</a>,
                <var data-type="RESPONSECODE">responseCode</var>, <var>signal</var>, <var>transaction</var> and <var data-type="Promise">promise</var>.
              </li>
            </ol>
          </li>
          <li>Return <var data-type="Promise">promise</var>.</li>
        </ol>
        <section data-dfn-for="SmartCardTransactionOptions" id="smartcardtransactionoptions-dictionary"><div class="header-wrapper"><h4 id="x5-3-1-smartcardtransactionoptions-dictionary"><bdi class="secno">5.3.1 </bdi><dfn data-export="" data-dfn-type="dictionary" id="dom-smartcardtransactionoptions" data-idl="dictionary" data-title="SmartCardTransactionOptions" data-dfn-for="" tabindex="0" aria-haspopup="dialog"><code>SmartCardTransactionOptions</code></dfn> dictionary</h4><a class="self-link" href="#smartcardtransactionoptions-dictionary" aria-label="Permalink for Section 5.3.1"></a></div>
          
          <pre class="idl def" id="webidl-2036951561"><span class="idlHeader"><a class="self-link" href="#webidl-2036951561">WebIDL</a></span><code><span data-idl="" class="idlDictionary" id="idl-def-smartcardtransactionoptions" data-title="SmartCardTransactionOptions">dictionary <a class="internalDFN idlID" data-link-type="dictionary" href="#dom-smartcardtransactionoptions" id="ref-for-dom-smartcardtransactionoptions-2"><code>SmartCardTransactionOptions</code></a> {<span data-idl="" class="idlMember" id="idl-def-smartcardtransactionoptions-signal" data-title="signal" data-dfn-for="SmartCardTransactionOptions"><span class="idlType">
  <a data-link-type="idl" data-type="interface" href="https://dom.spec.whatwg.org/#abortsignal">AbortSignal</a></span> <a class="internalDFN idlName" data-link-type="dict-member" href="#dom-smartcardtransactionoptions-signal" id="ref-for-dom-smartcardtransactionoptions-signal-5"><code>signal</code></a>;</span>
};</span></code></pre>

          <dl>
            <dt><dfn data-export="" data-dfn-type="dict-member" id="dom-smartcardtransactionoptions-signal" data-idl="field" data-title="signal" data-dfn-for="SmartCardTransactionOptions" data-type="AbortSignal" tabindex="0" aria-haspopup="dialog"><code>signal</code></dfn> member</dt>
            <dd>When triggered, the platform's [<cite><a class="bibref" data-link-type="biblio" href="#bib-pcsc5" title="Interoperability Specification for ICCs and Personal Computer Systems; Part 5. ICC Resource Manager Definition">PCSC5</a></cite>] Cancel() method is
            called.</dd>
          </dl>
        </section>
        <section id="auxiliary-algorithms-and-definitions-0"><div class="header-wrapper"><h4 id="x5-3-2-auxiliary-algorithms-and-definitions"><bdi class="secno">5.3.2 </bdi>Auxiliary algorithms and definitions</h4><a class="self-link" href="#auxiliary-algorithms-and-definitions-0" aria-label="Permalink for Section 5.3.2"></a></div>
          
          <p>A <dfn id="dfn-transaction-state" tabindex="0" aria-haspopup="dialog" data-dfn-type="dfn">transaction state</dfn> is a <a data-link-type="dfn|abstract-op" data-type="dfn" href="https://infra.spec.whatwg.org/#struct">struct</a> with the following
          <a data-link-type="dfn|abstract-op" data-type="dfn" href="https://infra.spec.whatwg.org/#struct-item">items</a>:</p>
          <table class="simple" data-dfn-for="transaction state">
            <tbody><tr>
              <th>Item
              </th><th>Description (non-normative)
            </th></tr>
              <tr><td><dfn id="dfn-pendingdisposition" tabindex="0" aria-haspopup="dialog" data-dfn-type="dfn">pendingDisposition</dfn></td>
              <td>If set, it means once the ongoing PC/SC operation finishes
                [<cite><a class="bibref" data-link-type="biblio" href="#bib-pcsc5" title="Interoperability Specification for ICCs and Personal Computer Systems; Part 5. ICC Resource Manager Definition">PCSC5</a></cite>] <code>EndTransaction()</code> should be called with this value as the
                <a data-link-type="idl" data-lt="SmartCardDisposition" href="#dom-smartcarddisposition" class="internalDFN" id="ref-for-dom-smartcarddisposition-4"><code>SmartCardDisposition</code></a> parameter.</td>
            </tr>
            <tr>
              <td><dfn id="dfn-pendingexception" tabindex="0" aria-haspopup="dialog" data-dfn-type="dfn">pendingException</dfn></td>
              <td>The exception to be used when rejecting
                <a data-link-type="dfn|abstract-op" href="#dfn-promise" class="internalDFN" id="ref-for-dfn-promise-2">promise</a>.</td>
            </tr>
            <tr>
              <td><dfn id="dfn-promise" tabindex="0" aria-haspopup="dialog" data-dfn-type="dfn">promise</dfn></td>
              <td>The pending <a data-link-type="idl" data-lt="Promise" href="#dfn-promise" class="internalDFN" id="ref-for-dfn-promise-3"><code>Promise</code></a> returned by a
                <a data-link-type="idl" data-lt="startTransaction()" href="#dom-smartcardconnection-starttransaction" class="internalDFN" id="ref-for-dom-smartcardconnection-starttransaction-5"><code>startTransaction</code></a><code>()</code> call.</td>
            </tr>
          </tbody></table>
          <p>To <dfn id="dfn-process-the-result-of-a-begintransaction" tabindex="0" aria-haspopup="dialog" data-dfn-type="dfn">process the result of a BeginTransaction</dfn> given a
          <a data-link-type="idl" data-lt="SmartCardConnection" href="#dom-smartcardconnection" class="internalDFN" id="ref-for-dom-smartcardconnection-6"><code>SmartCardConnection</code></a> <var data-type="SmartCardConnection">connection</var>, a [<cite><a class="bibref" data-link-type="biblio" href="#bib-pcsc5" title="Interoperability Specification for ICCs and Personal Computer Systems; Part 5. ICC Resource Manager Definition">PCSC5</a></cite>]
          <code>RESPONSECODE</code> <var data-type="RESPONSECODE">responseCode</var>, an <a data-link-type="idl" data-lt="AbortSignal" data-type="interface" href="https://dom.spec.whatwg.org/#abortsignal"><code>AbortSignal</code></a>
          <var data-type="AbortSignal">signal</var>, a <a data-link-type="idl" data-lt="SmartCardTransactionCallback" href="#dom-smartcardtransactioncallback" class="internalDFN" id="ref-for-dom-smartcardtransactioncallback-3"><code>SmartCardTransactionCallback</code></a>
          <var data-type="SmartCardTransactionCallback">transaction</var> and a <a data-link-type="idl" data-lt="Promise" href="#dfn-promise" class="internalDFN" id="ref-for-dfn-promise-4"><code>Promise</code></a>
          <var data-type="Promise">promise</var>, perform the following steps:</p>
          <ol>
            <li><a data-link-type="dfn|abstract-op" href="#dfn-clear-the-operationinprogress" class="internalDFN" id="ref-for-dfn-clear-the-operationinprogress-6">Clear the operationInProgress</a> of
              <var data-type="SmartCardConnection">connection</var>.<a data-link-type="attribute" data-lt="[[context]]" href="#dfn-context" class="internalDFN" id="ref-for-dfn-context-10"><code>[[context]]</code></a>.</li>
            <li>Let <var>abortReason</var> be <a data-link-type="idl" data-lt="undefined" data-type="interface" href="https://webidl.spec.whatwg.org/#idl-undefined"><code>undefined</code></a>.</li>
            <li>If <var data-type="AbortSignal">signal</var> is not <code>null</code>:
              <ol>
                <li><a data-link-type="dfn|abstract-op" data-type="dfn" href="https://dom.spec.whatwg.org/#abortsignal-remove">Remove</a> the
                  <a data-link-type="idl" href="#dfn-cancel" class="internalDFN" id="ref-for-dfn-cancel-2"><code>cancel</code></a> algorithm from
                  <var data-type="AbortSignal">signal</var>.</li>
                <li>If <var data-type="AbortSignal">signal</var> is <a data-link-type="dfn|abstract-op" data-type="dfn" href="https://dom.spec.whatwg.org/#abortsignal-aborted">aborted</a> then set
                  <var>abortReason</var> to <var data-type="AbortSignal">signal</var>'s <a data-link-type="dfn|abstract-op" data-type="dfn" href="https://dom.spec.whatwg.org/#abortsignal-abort-reason">abort reason</a>.</li>
              </ol>
            </li>
            <li>If <var data-type="RESPONSECODE">responseCode</var> is not <code>SCARD_S_SUCCESS</code>:
              <ol>
                <li>If <var data-type="RESPONSECODE">responseCode</var> is <code>SCARD_E_CANCELLED</code> and
                  <var>abortReason</var> is not <a data-link-type="idl" data-lt="undefined" data-type="interface" href="https://webidl.spec.whatwg.org/#idl-undefined"><code>undefined</code></a> then <a data-link-type="dfn|abstract-op" data-type="dfn" href="https://webidl.spec.whatwg.org/#reject">reject</a>
                  <var data-type="Promise">promise</var> with <var>abortReason</var>.</li>
                <li>Otherwise, <a data-link-type="dfn|abstract-op" data-type="dfn" href="https://webidl.spec.whatwg.org/#reject">reject</a> <var data-type="Promise">promise</var> with an
                  <a data-link-type="dfn|abstract-op" data-type="dfn" href="https://webidl.spec.whatwg.org/#dfn-exception">exception</a> <a data-link-type="idl" href="#dfn-corresponding-5" class="internalDFN" id="ref-for-dfn-corresponding-5-7"><code>corresponding</code></a> to
                  <var data-type="RESPONSECODE">responseCode</var>.</li>
                <li>Return.</li>
              </ol>
            </li>
            <li>Let <var data-type="transaction state">transactionState</var> be a new <a data-link-type="dfn|abstract-op" href="#dfn-transaction-state" class="internalDFN" id="ref-for-dfn-transaction-state-2">transaction state</a> with its <a data-link-type="dfn|abstract-op" href="#dfn-promise" class="internalDFN" id="ref-for-dfn-promise-5">promise</a> item set to
              <var data-type="Promise">promise</var>.</li>
            <li>Set <var data-type="SmartCardConnection">connection</var>.<a data-link-type="attribute" data-lt="[[transactionState]]" href="#dfn-transactionstate" class="internalDFN" id="ref-for-dfn-transactionstate-2"><code>[[transactionState]]</code></a>
              to <var data-type="transaction state">transactionState</var>.</li>
            <li>Let <var data-type="Promise">callbackPromise</var> be the result of <a data-link-type="dfn|abstract-op" data-type="dfn" href="https://webidl.spec.whatwg.org/#invoke-a-callback-function">invoking</a>
              <var data-type="SmartCardTransactionCallback">transaction</var>.</li>
            <li><a data-link-type="dfn|abstract-op" data-type="dfn" href="https://webidl.spec.whatwg.org/#dfn-perform-steps-once-promise-is-settled">React</a> to <var data-type="Promise">callbackPromise</var>:
              <ul>
                <li>If <var data-type="Promise">callbackPromise</var> was fulfilled with value <var>v</var>
                  then:
                  <ol>
                    <li>Let <var data-type="SmartCardDisposition">disposition</var> be
                      "<a data-link-type="idl" href="#dom-smartcarddisposition-leave" class="internalDFN" id="ref-for-dom-smartcarddisposition-leave-2"><code>leave</code></a>".
                    </li><li>If <var>v</var> is not <a data-link-type="idl" data-lt="undefined" data-type="interface" href="https://webidl.spec.whatwg.org/#idl-undefined"><code>undefined</code></a>, set <var data-type="SmartCardDisposition">disposition</var> to
                      <var>v</var>.</li>
                    <li>If
                      <var data-type="SmartCardConnection">connection</var>.<a data-link-type="attribute" data-lt="[[context]]" href="#dfn-context" class="internalDFN" id="ref-for-dfn-context-11"><code>[[context]]</code></a>.<a data-link-type="attribute" data-lt="[[operationInProgress]]" href="#dfn-operationinprogress" class="internalDFN" id="ref-for-dfn-operationinprogress-16"><code>[[operationInProgress]]</code></a>
                      is <code>true</code>:
                      <ol>
                        <li>Set <var data-type="transaction state">transactionState</var>'s <a data-link-type="dfn|abstract-op" href="#dfn-pendingexception" class="internalDFN" id="ref-for-dfn-pendingexception-1">pendingException</a> to a "<a data-link-type="idl" data-lt="InvalidStateError" data-type="exception" href="https://webidl.spec.whatwg.org/#invalidstateerror"><code>InvalidStateError</code></a>"
                          <a data-link-type="idl" data-lt="DOMException" data-type="interface" href="https://webidl.spec.whatwg.org/#idl-DOMException"><code>DOMException</code></a>.</li>
                        <li>Set
                          <var data-type="transaction state">transactionState</var>'s <a data-link-type="dfn|abstract-op" href="#dfn-pendingdisposition" class="internalDFN" id="ref-for-dfn-pendingdisposition-1">pendingDisposition</a>
                          to <var data-type="SmartCardDisposition">disposition</var>.</li>
                      </ol>
                    </li>
                    <li>Otherwise, <a data-link-type="dfn|abstract-op" href="#dfn-end-the-transaction" class="internalDFN" id="ref-for-dfn-end-the-transaction-1">end the transaction</a> of <var data-type="SmartCardConnection">connection</var> with
                      <var data-type="SmartCardDisposition">disposition</var>.</li>
                  </ol>
                </li>
                <li>If <var data-type="Promise">callbackPromise</var> was rejected with reason <var>r</var>, then:
                  <ol>
                    <li>Set <var data-type="transaction state">transactionState</var>'s <a data-link-type="dfn|abstract-op" href="#dfn-pendingexception" class="internalDFN" id="ref-for-dfn-pendingexception-2">pendingException</a> to <var>r</var>.</li>
                    <li>If
                      <var data-type="SmartCardConnection">connection</var>.<a data-link-type="attribute" data-lt="[[context]]" href="#dfn-context" class="internalDFN" id="ref-for-dfn-context-12"><code>[[context]]</code></a>.<a data-link-type="attribute" data-lt="[[operationInProgress]]" href="#dfn-operationinprogress" class="internalDFN" id="ref-for-dfn-operationinprogress-17"><code>[[operationInProgress]]</code></a>
                      is <code>true</code>, set
                      <var data-type="transaction state">transactionState</var>'s <a data-link-type="dfn|abstract-op" href="#dfn-pendingdisposition" class="internalDFN" id="ref-for-dfn-pendingdisposition-2">pendingDisposition</a> to
                      "<a data-link-type="idl" href="#dom-smartcarddisposition-leave" class="internalDFN" id="ref-for-dom-smartcarddisposition-leave-3"><code>leave</code></a>".</li>
                    <li>Otherwise, <a data-link-type="dfn|abstract-op" href="#dfn-end-the-transaction" class="internalDFN" id="ref-for-dfn-end-the-transaction-2">end the transaction</a> of <var data-type="SmartCardConnection">connection</var> with
                      "<a data-link-type="idl" href="#dom-smartcarddisposition-leave" class="internalDFN" id="ref-for-dom-smartcarddisposition-leave-4"><code>leave</code></a>".</li>
                  </ol>
                </li>
              </ul>
            </li>
          </ol>

          <p>To <dfn id="dfn-end-the-transaction" tabindex="0" aria-haspopup="dialog" data-dfn-type="dfn">end the transaction</dfn> of a <a data-link-type="idl" data-lt="SmartCardConnection" href="#dom-smartcardconnection" class="internalDFN" id="ref-for-dom-smartcardconnection-7"><code>SmartCardConnection</code></a>
          <var data-type="SmartCardConnection">connection</var> with a <a data-link-type="idl" data-lt="SmartCardDisposition" href="#dom-smartcarddisposition" class="internalDFN" id="ref-for-dom-smartcarddisposition-5"><code>SmartCardDisposition</code></a>
          <var data-type="SmartCardDisposition">disposition</var>, perform the following steps:</p>
          <ol>
            <li><a data-link-type="dfn|abstract-op" data-type="dfn" href="https://infra.spec.whatwg.org/#assert">Assert</a>:
              <var data-type="SmartCardConnection">connection</var>.<a data-link-type="attribute" data-lt="[[context]]" href="#dfn-context" class="internalDFN" id="ref-for-dfn-context-13"><code>[[context]]</code></a>.<a data-link-type="attribute" data-lt="[[operationInProgress]]" href="#dfn-operationinprogress" class="internalDFN" id="ref-for-dfn-operationinprogress-18"><code>[[operationInProgress]]</code></a>
              is <code>false</code>.</li>
            <li><a data-link-type="dfn|abstract-op" data-type="dfn" href="https://infra.spec.whatwg.org/#assert">Assert</a>:
              <var data-type="SmartCardConnection">connection</var>.<a data-link-type="attribute" data-lt="[[transactionState]]" href="#dfn-transactionstate" class="internalDFN" id="ref-for-dfn-transactionstate-3"><code>[[transactionState]]</code></a> is not
              <code>null</code>.</li>
            <li><a data-link-type="dfn|abstract-op" data-type="dfn" href="https://infra.spec.whatwg.org/#assert">Assert</a>: <var data-type="SmartCardConnection">connection</var>.<a data-link-type="attribute" data-lt="[[transactionState]]" href="#dfn-transactionstate" class="internalDFN" id="ref-for-dfn-transactionstate-4"><code>[[transactionState]]</code></a>'s
              <a data-link-type="dfn|abstract-op" href="#dfn-pendingdisposition" class="internalDFN" id="ref-for-dfn-pendingdisposition-3">pendingDisposition</a> is <code>null</code>.</li>
            <li>Let <var data-type="Promise">transactionPromise</var> be
              <var data-type="SmartCardConnection">connection</var>.<a data-link-type="attribute" data-lt="[[transactionState]]" href="#dfn-transactionstate" class="internalDFN" id="ref-for-dfn-transactionstate-5"><code>[[transactionState]]</code></a>'s
              <a data-link-type="dfn|abstract-op" href="#dfn-promise" class="internalDFN" id="ref-for-dfn-promise-6">promise</a>.</li>
            <li>If <var data-type="SmartCardConnection">connection</var>.<a data-link-type="attribute" data-lt="[[comm]]" href="#dfn-comm" class="internalDFN" id="ref-for-dfn-comm-10"><code>[[comm]]</code></a> is <code>null</code>:
              <ol>
                <li><a data-link-type="dfn|abstract-op" data-type="dfn" href="https://webidl.spec.whatwg.org/#reject">Reject</a> <var data-type="Promise">transactionPromise</var> with a "<a data-link-type="idl" data-lt="InvalidStateError" data-type="exception" href="https://webidl.spec.whatwg.org/#invalidstateerror"><code>InvalidStateError</code></a>"
                  <a data-link-type="idl" data-lt="DOMException" data-type="interface" href="https://webidl.spec.whatwg.org/#idl-DOMException"><code>DOMException</code></a>.</li>
                <li>Set
                  <var data-type="SmartCardConnection">connection</var>.<a data-link-type="attribute" data-lt="[[transactionState]]" href="#dfn-transactionstate" class="internalDFN" id="ref-for-dfn-transactionstate-6"><code>[[transactionState]]</code></a> to
                  <code>null</code>.</li>
                <li>Return.</li>
              </ol>
            </li>
            <li>Set
              <var data-type="SmartCardConnection">connection</var>.<a data-link-type="attribute" data-lt="[[context]]" href="#dfn-context" class="internalDFN" id="ref-for-dfn-context-14"><code>[[context]]</code></a>.<a data-link-type="attribute" data-lt="[[operationInProgress]]" href="#dfn-operationinprogress" class="internalDFN" id="ref-for-dfn-operationinprogress-19"><code>[[operationInProgress]]</code></a>
              to <code>true</code>.</li>
            <li>Run the following steps <a data-link-type="dfn|abstract-op" data-type="dfn" href="https://html.spec.whatwg.org/multipage/infrastructure.html#in-parallel">in parallel</a>:
              <ol>
                <li>Call
                  <a data-link-type="dfn|abstract-op" data-type="dfn" href="https://webidl.spec.whatwg.org/#this">this</a>.<a data-link-type="attribute" data-lt="[[comm]]" href="#dfn-comm" class="internalDFN" id="ref-for-dfn-comm-11"><code>[[comm]]</code></a>.<code>EndTransaction()</code> with
                  a <code>DWORD</code> corresponding to <var data-type="SmartCardDisposition">disposition</var> as input parameter.</li>
                <li>Let <var data-type="RESPONSECODE">responseCode</var> be the returned [<cite><a class="bibref" data-link-type="biblio" href="#bib-pcsc5" title="Interoperability Specification for ICCs and Personal Computer Systems; Part 5. ICC Resource Manager Definition">PCSC5</a></cite>]
                  <code>RESPONSECODE</code>.</li>
                <li><a data-link-type="dfn|abstract-op" data-type="dfn" href="https://html.spec.whatwg.org/multipage/webappapis.html#queue-a-global-task">Queue a global task</a> on the <a data-link-type="dfn|abstract-op" data-type="dfn" href="https://html.spec.whatwg.org/multipage/webappapis.html#concept-relevant-global">relevant global object</a> of
                  <a data-link-type="dfn|abstract-op" data-type="dfn" href="https://webidl.spec.whatwg.org/#this">this</a> using the <a data-link-type="dfn|abstract-op" href="#dfn-smart-card-task-source" class="internalDFN" id="ref-for-dfn-smart-card-task-source-9">smart card task source</a> which performs
                  the following steps:
                  <ol>
                    <li><a data-link-type="dfn|abstract-op" href="#dfn-clear-the-operationinprogress" class="internalDFN" id="ref-for-dfn-clear-the-operationinprogress-7">Clear the operationInProgress</a> of
                      <var data-type="SmartCardConnection">connection</var>.<a data-link-type="attribute" data-lt="[[context]]" href="#dfn-context" class="internalDFN" id="ref-for-dfn-context-15"><code>[[context]]</code></a>.</li>
                    <li>Let <var>exception</var> be
                      <var data-type="SmartCardConnection">connection</var>.<a data-link-type="attribute" data-lt="[[transactionState]]" href="#dfn-transactionstate" class="internalDFN" id="ref-for-dfn-transactionstate-7"><code>[[transactionState]]</code></a>'s
                      <a data-link-type="dfn|abstract-op" href="#dfn-pendingexception" class="internalDFN" id="ref-for-dfn-pendingexception-3">pendingException</a>.</li>
                    <li>If <var>exception</var> is <code>null</code>, perform the following steps:
                      <ol>
                        <li>If <var data-type="RESPONSECODE">responseCode</var> is <code>SCARD_S_SUCCESS</code>,
                          <a data-link-type="dfn|abstract-op" data-type="dfn" href="https://webidl.spec.whatwg.org/#resolve">resolve</a> <var data-type="Promise">transactionPromise</var>.</li>
                        <li>Otherwise, <a data-link-type="dfn|abstract-op" data-type="dfn" href="https://webidl.spec.whatwg.org/#reject">reject</a> <var data-type="Promise">transactionPromise</var> with an
                          <a data-link-type="dfn|abstract-op" data-type="dfn" href="https://webidl.spec.whatwg.org/#dfn-exception">exception</a> <a data-link-type="idl" href="#dfn-corresponding-5" class="internalDFN" id="ref-for-dfn-corresponding-5-8"><code>corresponding</code></a> to
                          <var data-type="RESPONSECODE">responseCode</var>.</li>
                      </ol>
                    </li>
                    <li>Otherwise, <a data-link-type="dfn|abstract-op" data-type="dfn" href="https://webidl.spec.whatwg.org/#reject">reject</a> <var data-type="Promise">transactionPromise</var> with
                      <var>exception</var>.</li>
                    <li>Set
                      <var data-type="SmartCardConnection">connection</var>.<a data-link-type="attribute" data-lt="[[transactionState]]" href="#dfn-transactionstate" class="internalDFN" id="ref-for-dfn-transactionstate-8"><code>[[transactionState]]</code></a>
                      to <code>null</code>.</li>
                  </ol>
                </li>
              </ol>
            </li>
          </ol>

          <p>To <dfn id="dfn-end-any-settled-transaction" tabindex="0" aria-haspopup="dialog" data-dfn-type="dfn">end any settled transaction</dfn> of a
          <a data-link-type="idl" data-lt="SmartCardConnection" href="#dom-smartcardconnection" class="internalDFN" id="ref-for-dom-smartcardconnection-8"><code>SmartCardConnection</code></a> <var data-type="SmartCardConnection">connection</var>, perform the
          following steps:</p>
          <ol>
            <li>If <var data-type="SmartCardConnection">connection</var>.<a data-link-type="attribute" data-lt="[[transactionState]]" href="#dfn-transactionstate" class="internalDFN" id="ref-for-dfn-transactionstate-9"><code>[[transactionState]]</code></a> is
            <code>null</code>, abort these steps.</li>
            <li>Let <var data-type="SmartCardDisposition">disposition</var> be
              <var data-type="SmartCardConnection">connection</var>.<a data-link-type="attribute" data-lt="[[transactionState]]" href="#dfn-transactionstate" class="internalDFN" id="ref-for-dfn-transactionstate-10"><code>[[transactionState]]</code></a>'s
              <a data-link-type="dfn|abstract-op" href="#dfn-pendingdisposition" class="internalDFN" id="ref-for-dfn-pendingdisposition-4">pendingDisposition</a>.</li>
            <li>If <var data-type="SmartCardDisposition">disposition</var> is <code>null</code>, abort these steps.</li>
            <li>Set <var data-type="SmartCardConnection">connection</var>.<a data-link-type="attribute" data-lt="[[transactionState]]" href="#dfn-transactionstate" class="internalDFN" id="ref-for-dfn-transactionstate-11"><code>[[transactionState]]</code></a>'s
              <a data-link-type="dfn|abstract-op" href="#dfn-pendingdisposition" class="internalDFN" id="ref-for-dfn-pendingdisposition-5">pendingDisposition</a> to <code>null</code>.</li>
            <li><a data-link-type="dfn|abstract-op" href="#dfn-end-the-transaction" class="internalDFN" id="ref-for-dfn-end-the-transaction-3">End the transaction</a> of <var data-type="SmartCardConnection">connection</var> with <var data-type="SmartCardDisposition">disposition</var>.</li>
          </ol>

          <p>To <dfn id="dfn-cancel" tabindex="0" aria-haspopup="dialog" data-dfn-type="dfn">cancel</dfn> outstanding [<cite><a class="bibref" data-link-type="biblio" href="#bib-pcsc5" title="Interoperability Specification for ICCs and Personal Computer Systems; Part 5. ICC Resource Manager Definition">PCSC5</a></cite>] <code>SCARDCOMM</code> operations,
          call <a data-link-type="dfn|abstract-op" data-type="dfn" href="https://webidl.spec.whatwg.org/#this">this</a>.<a data-link-type="attribute" data-lt="[[comm]]" href="#dfn-comm" class="internalDFN" id="ref-for-dfn-comm-12"><code>[[comm]]</code></a>.<code>Cancel()</code>.</p>
        </section>
      </section>
      <section id="status-method"><div class="header-wrapper"><h3 id="x5-4-status-method"><bdi class="secno">5.4 </bdi><dfn data-export="" data-dfn-type="method" id="dom-smartcardconnection-status" data-idl="operation" data-title="status()" data-dfn-for="SmartCardConnection" data-type="Promise" data-lt="status()" data-local-lt="SmartCardConnection.status|SmartCardConnection.status()|status" tabindex="0" aria-haspopup="dialog"><code>status()</code></dfn> method</h3><a class="self-link" href="#status-method" aria-label="Permalink for Section 5.4"></a></div>
        
        <p>The <a data-link-type="idl" data-lt="status()" href="#dom-smartcardconnection-status" class="internalDFN" id="ref-for-dom-smartcardconnection-status-2"><code>status</code></a><code>()</code> method steps are:</p>
        <ol>
          <li>Let <var data-type="Promise">promise</var> be <a data-link-type="dfn|abstract-op" data-type="dfn" href="https://webidl.spec.whatwg.org/#a-new-promise">a new promise</a>.</li>
          <li>If
            <a data-link-type="dfn|abstract-op" data-type="dfn" href="https://webidl.spec.whatwg.org/#this">this</a>.<a data-link-type="attribute" data-lt="[[context]]" href="#dfn-context" class="internalDFN" id="ref-for-dfn-context-16"><code>[[context]]</code></a>.<a data-link-type="attribute" data-lt="[[operationInProgress]]" href="#dfn-operationinprogress" class="internalDFN" id="ref-for-dfn-operationinprogress-20"><code>[[operationInProgress]]</code></a>
            is <code>true</code>, <a data-link-type="dfn|abstract-op" data-type="dfn" href="https://webidl.spec.whatwg.org/#reject">reject</a> <var data-type="Promise">promise</var> with a "<a data-link-type="idl" data-lt="InvalidStateError" data-type="exception" href="https://webidl.spec.whatwg.org/#invalidstateerror"><code>InvalidStateError</code></a>"
          <a data-link-type="idl" data-lt="DOMException" data-type="interface" href="https://webidl.spec.whatwg.org/#idl-DOMException"><code>DOMException</code></a> and return <var data-type="Promise">promise</var>.</li>
          <li>If <a data-link-type="dfn|abstract-op" data-type="dfn" href="https://webidl.spec.whatwg.org/#this">this</a>.<a data-link-type="attribute" data-lt="[[comm]]" href="#dfn-comm" class="internalDFN" id="ref-for-dfn-comm-13"><code>[[comm]]</code></a> is <code>null</code>, <a data-link-type="dfn|abstract-op" data-type="dfn" href="https://webidl.spec.whatwg.org/#reject">reject</a>
            <var data-type="Promise">promise</var> with a "<a data-link-type="idl" data-lt="InvalidStateError" data-type="exception" href="https://webidl.spec.whatwg.org/#invalidstateerror"><code>InvalidStateError</code></a>" <a data-link-type="idl" data-lt="DOMException" data-type="interface" href="https://webidl.spec.whatwg.org/#idl-DOMException"><code>DOMException</code></a> and return
            <var data-type="Promise">promise</var>.</li>
          <li>Set
            <a data-link-type="dfn|abstract-op" data-type="dfn" href="https://webidl.spec.whatwg.org/#this">this</a>.<a data-link-type="attribute" data-lt="[[context]]" href="#dfn-context" class="internalDFN" id="ref-for-dfn-context-17"><code>[[context]]</code></a>.<a data-link-type="attribute" data-lt="[[operationInProgress]]" href="#dfn-operationinprogress" class="internalDFN" id="ref-for-dfn-operationinprogress-21"><code>[[operationInProgress]]</code></a>
            to <code>true</code>.</li>
          <li>Run the following steps <a data-link-type="dfn|abstract-op" data-type="dfn" href="https://html.spec.whatwg.org/multipage/infrastructure.html#in-parallel">in parallel</a>:
            <ol>
              <li>Let <var data-type="array of STR">pcscReader</var> be an empty <code>STR[]</code>.</li>
              <li>Let <var data-type="DWORD">pcscState</var> be a [<cite><a class="bibref" data-link-type="biblio" href="#bib-pcsc5" title="Interoperability Specification for ICCs and Personal Computer Systems; Part 5. ICC Resource Manager Definition">PCSC5</a></cite>] <code>DWORD</code> set to <code>0</code>.</li>
              <li>Let <var data-type="DWORD">activeProtocol</var> be a [<cite><a class="bibref" data-link-type="biblio" href="#bib-pcsc5" title="Interoperability Specification for ICCs and Personal Computer Systems; Part 5. ICC Resource Manager Definition">PCSC5</a></cite>] <code>DWORD</code> set to <code>0</code>.</li>
              <li>Let <var data-type="array of BYTE">pcscAtr</var> be a <code>BYTE[]</code> big enough to hold
                any [<cite><a class="bibref" data-link-type="biblio" href="#bib-iso7186-3" title="Identification cards - Integrated circuit cards; Part 3: Cards with contacts - Electrical interface and transmission protocols">ISO7186-3</a></cite>] Answer To Reset (ATR).</li>
              <li>Call <a data-link-type="dfn|abstract-op" data-type="dfn" href="https://webidl.spec.whatwg.org/#this">this</a>.<a data-link-type="attribute" data-lt="[[comm]]" href="#dfn-comm" class="internalDFN" id="ref-for-dfn-comm-14"><code>[[comm]]</code></a>.<code>Status()</code>
                with <var data-type="array of STR">pcscReader</var>, <var data-type="DWORD">pcscState</var>, <var data-type="DWORD">activeProtocol</var> and <var data-type="array of BYTE">pcscAtr</var> as
                output parameters.</li>
              <li>Let <var data-type="RESPONSECODE">responseCode</var> be the returned
                <code>RESPONSECODE</code>.</li>
              <li><a data-link-type="dfn|abstract-op" data-type="dfn" href="https://html.spec.whatwg.org/multipage/webappapis.html#queue-a-global-task">Queue a global task</a> on the <a data-link-type="dfn|abstract-op" data-type="dfn" href="https://html.spec.whatwg.org/multipage/webappapis.html#concept-relevant-global">relevant global object</a> of
                <a data-link-type="dfn|abstract-op" data-type="dfn" href="https://webidl.spec.whatwg.org/#this">this</a> using the <a data-link-type="dfn|abstract-op" href="#dfn-smart-card-task-source" class="internalDFN" id="ref-for-dfn-smart-card-task-source-10">smart card task source</a> which performs the
                following steps:
                <ol>
                  <li><a data-link-type="dfn|abstract-op" href="#dfn-clear-the-operationinprogress" class="internalDFN" id="ref-for-dfn-clear-the-operationinprogress-8">Clear the operationInProgress</a> of
                    <a data-link-type="dfn|abstract-op" data-type="dfn" href="https://webidl.spec.whatwg.org/#this">this</a>.<a data-link-type="attribute" data-lt="[[context]]" href="#dfn-context" class="internalDFN" id="ref-for-dfn-context-18"><code>[[context]]</code></a>.</li>
                  <li>If <var data-type="RESPONSECODE">responseCode</var> is not <code>SCARD_S_SUCCESS</code>, <a data-link-type="dfn|abstract-op" data-type="dfn" href="https://webidl.spec.whatwg.org/#reject">reject</a>
                    <var data-type="Promise">promise</var> with an <a data-link-type="dfn|abstract-op" data-type="dfn" href="https://webidl.spec.whatwg.org/#dfn-exception">exception</a>
                    <a data-link-type="idl" href="#dfn-corresponding-5" class="internalDFN" id="ref-for-dfn-corresponding-5-9"><code>corresponding</code></a> to <var data-type="RESPONSECODE">responseCode</var> and abort
                    these steps.</li>
                  <li>Let <var data-type="SmartCardConnectionState">state</var> be a
                    <a data-link-type="idl" data-lt="SmartCardConnectionState" href="#dom-smartcardconnectionstate" class="internalDFN" id="ref-for-dom-smartcardconnectionstate-1"><code>SmartCardConnectionState</code></a>
                    <a data-link-type="dfn|abstract-op" href="#dfn-corresponding-4" class="internalDFN" id="ref-for-dfn-corresponding-4-1">corresponding</a> to <var data-type="DWORD">pcscState</var>
                    and <var data-type="DWORD">activeProtocol</var>.</li>
                  <li>If <var data-type="SmartCardConnectionState">state</var> is <a data-link-type="idl" data-lt="undefined" data-type="interface" href="https://webidl.spec.whatwg.org/#idl-undefined"><code>undefined</code></a>, <a data-link-type="dfn|abstract-op" data-type="dfn" href="https://webidl.spec.whatwg.org/#reject">reject</a> <var data-type="Promise">promise</var> with an
                    "<a data-link-type="idl" data-lt="UnknownError" data-type="exception" href="https://webidl.spec.whatwg.org/#unknownerror"><code>UnknownError</code></a>" <a data-link-type="idl" data-lt="DOMException" data-type="interface" href="https://webidl.spec.whatwg.org/#idl-DOMException"><code>DOMException</code></a> and abort these steps.</li>
                  <li>Let <var data-type="SmartCardConnectionStatus">status</var> be a new
                    <a data-link-type="idl" data-lt="SmartCardConnectionStatus" href="#dom-smartcardconnectionstatus" class="internalDFN" id="ref-for-dom-smartcardconnectionstatus-2"><code>SmartCardConnectionStatus</code></a>.</li>
                  <li>Set <var data-type="SmartCardConnectionStatus">status</var>["<a data-link-type="idl" href="#dom-smartcardconnectionstatus-readername" class="internalDFN" id="ref-for-dom-smartcardconnectionstatus-readername-1"><code>readerName</code></a>"]
                    to <var data-type="array of STR">pcscReader</var>.</li>
                  <li>Set <var data-type="SmartCardConnectionStatus">status</var>["<a data-link-type="idl" href="#dom-smartcardconnectionstatus-state" class="internalDFN" id="ref-for-dom-smartcardconnectionstatus-state-1"><code>state</code></a>"]
                    to <var data-type="SmartCardConnectionState">state</var>.</li>
                  <li>Set
                    <var data-type="SmartCardConnectionStatus">status</var>["<a data-link-type="idl" href="#dom-smartcardconnectionstatus-answertoreset" class="internalDFN" id="ref-for-dom-smartcardconnectionstatus-answertoreset-1"><code>answerToReset</code></a>"] to
                    an <a data-link-type="idl" data-lt="ArrayBuffer" data-type="interface" href="https://webidl.spec.whatwg.org/#idl-ArrayBuffer"><code>ArrayBuffer</code></a> with the bytes that were written to
                    <var data-type="array of BYTE">pcscAtr</var>.</li>
                  <li><a data-link-type="dfn|abstract-op" data-type="dfn" href="https://webidl.spec.whatwg.org/#resolve">Resolve</a> <var data-type="Promise">promise</var> with <var data-type="SmartCardConnectionStatus">status</var>.</li>
                </ol>
              </li>
            </ol>
          </li>
          <li>Return <var data-type="Promise">promise</var>.</li>
        </ol>
        <section data-dfn-for="SmartCardConnectionStatus" id="smartcardconnectionstatus-dictionary"><div class="header-wrapper"><h4 id="x5-4-1-smartcardconnectionstatus-dictionary"><bdi class="secno">5.4.1 </bdi><dfn data-export="" data-dfn-type="dictionary" id="dom-smartcardconnectionstatus" data-idl="dictionary" data-title="SmartCardConnectionStatus" data-dfn-for="" tabindex="0" aria-haspopup="dialog"><code>SmartCardConnectionStatus</code></dfn> dictionary</h4><a class="self-link" href="#smartcardconnectionstatus-dictionary" aria-label="Permalink for Section 5.4.1"></a></div>
          
          <pre class="idl def" id="webidl-686619780"><span class="idlHeader"><a class="self-link" href="#webidl-686619780">WebIDL</a></span><code><span data-idl="" class="idlDictionary" id="idl-def-smartcardconnectionstatus" data-title="SmartCardConnectionStatus">dictionary <a class="internalDFN idlID" data-link-type="dictionary" href="#dom-smartcardconnectionstatus" id="ref-for-dom-smartcardconnectionstatus-3"><code>SmartCardConnectionStatus</code></a> {<span data-idl="" class="idlMember" id="idl-def-smartcardconnectionstatus-readername" data-title="readerName" data-dfn-for="SmartCardConnectionStatus">
  required<span class="idlType"> <a data-link-type="idl" data-type="interface" href="https://webidl.spec.whatwg.org/#idl-DOMString">DOMString</a></span> <a class="internalDFN idlName" data-link-type="dict-member" href="#dom-smartcardconnectionstatus-readername" id="ref-for-dom-smartcardconnectionstatus-readername-2"><code>readerName</code></a>;</span><span data-idl="" class="idlMember" id="idl-def-smartcardconnectionstatus-state" data-title="state" data-dfn-for="SmartCardConnectionStatus">
  required<span class="idlType"> <a data-link-type="idl" href="#dom-smartcardconnectionstate" class="internalDFN" id="ref-for-dom-smartcardconnectionstate-2"><code>SmartCardConnectionState</code></a></span> <a class="internalDFN idlName" data-link-type="dict-member" href="#dom-smartcardconnectionstatus-state" id="ref-for-dom-smartcardconnectionstatus-state-2"><code>state</code></a>;</span><span data-idl="" class="idlMember" id="idl-def-smartcardconnectionstatus-answertoreset" data-title="answerToReset" data-dfn-for="SmartCardConnectionStatus"><span class="idlType">
  <a data-link-type="idl" data-type="interface" href="https://webidl.spec.whatwg.org/#idl-ArrayBuffer">ArrayBuffer</a></span> <a class="internalDFN idlName" data-link-type="dict-member" href="#dom-smartcardconnectionstatus-answertoreset" id="ref-for-dom-smartcardconnectionstatus-answertoreset-2"><code>answerToReset</code></a>;</span>
};</span></code></pre>
          <dl>
            <dt><dfn data-export="" data-dfn-type="dict-member" id="dom-smartcardconnectionstatus-readername" data-idl="field" data-title="readerName" data-dfn-for="SmartCardConnectionStatus" data-type="DOMString" tabindex="0" aria-haspopup="dialog"><code>readerName</code></dfn> member</dt>
            <dd>Name of the connected reader.</dd>
            <dt><dfn data-export="" data-dfn-type="dict-member" id="dom-smartcardconnectionstatus-state" data-idl="field" data-title="state" data-dfn-for="SmartCardConnectionStatus" data-type="SmartCardConnectionState" tabindex="0" aria-haspopup="dialog"><code>state</code></dfn> member</dt>
            <dd>Current state of the connection.</dd>
            <dt><dfn data-export="" data-dfn-type="dict-member" id="dom-smartcardconnectionstatus-answertoreset" data-idl="field" data-title="answerToReset" data-dfn-for="SmartCardConnectionStatus" data-type="ArrayBuffer" tabindex="0" aria-haspopup="dialog"><code>answerToReset</code></dfn> member</dt>
            <dd>The answer to reset (ATR) string from the card, if applicable.</dd>
          </dl>
          <section data-dfn-for="SmartCardConnectionState" id="smartcardconnectionstate-enum"><div class="header-wrapper"><h5 id="x5-4-1-1-smartcardconnectionstate-enum"><bdi class="secno">5.4.1.1 </bdi><dfn data-export="" data-dfn-type="enum" id="dom-smartcardconnectionstate" data-idl="enum" data-title="SmartCardConnectionState" data-dfn-for="" tabindex="0" aria-haspopup="dialog"><code>SmartCardConnectionState</code></dfn> enum</h5><a class="self-link" href="#smartcardconnectionstate-enum" aria-label="Permalink for Section 5.4.1.1"></a></div>
            
            <pre class="idl def" id="webidl-698939501"><span class="idlHeader"><a class="self-link" href="#webidl-698939501">WebIDL</a></span><code><span data-idl="" class="idlEnum" id="idl-def-smartcardconnectionstate" data-title="SmartCardConnectionState">enum <a class="internalDFN idlID" data-link-type="enum" href="#dom-smartcardconnectionstate" id="ref-for-dom-smartcardconnectionstate-3"><code>SmartCardConnectionState</code></a> {
  <span class="idlEnumItem">"<a class="internalDFN" data-link-type="enum-value" href="#dom-smartcardconnectionstate-absent" id="ref-for-dom-smartcardconnectionstate-absent-1"><code>absent</code></a>"</span>,
  <span class="idlEnumItem">"<a class="internalDFN" data-link-type="enum-value" href="#dom-smartcardconnectionstate-present" id="ref-for-dom-smartcardconnectionstate-present-1"><code>present</code></a>"</span>,
  <span class="idlEnumItem">"<a class="internalDFN" data-link-type="enum-value" href="#dom-smartcardconnectionstate-swallowed" id="ref-for-dom-smartcardconnectionstate-swallowed-1"><code>swallowed</code></a>"</span>,
  <span class="idlEnumItem">"<a class="internalDFN" data-link-type="enum-value" href="#dom-smartcardconnectionstate-powered" id="ref-for-dom-smartcardconnectionstate-powered-1"><code>powered</code></a>"</span>,
  <span class="idlEnumItem">"<a class="internalDFN" data-link-type="enum-value" href="#dom-smartcardconnectionstate-negotiable" id="ref-for-dom-smartcardconnectionstate-negotiable-1"><code>negotiable</code></a>"</span>,
  <span class="idlEnumItem">"<a class="internalDFN" data-link-type="enum-value" href="#dom-smartcardconnectionstate-t0" id="ref-for-dom-smartcardconnectionstate-t0-1"><code>t0</code></a>"</span>,
  <span class="idlEnumItem">"<a class="internalDFN" data-link-type="enum-value" href="#dom-smartcardconnectionstate-t1" id="ref-for-dom-smartcardconnectionstate-t1-1"><code>t1</code></a>"</span>,
  <span class="idlEnumItem">"<a class="internalDFN" data-link-type="enum-value" href="#dom-smartcardconnectionstate-raw" id="ref-for-dom-smartcardconnectionstate-raw-1"><code>raw</code></a>"</span>
};</span></code></pre>
            <dl>
              <dt><dfn data-export="" data-dfn-type="enum-value" id="dom-smartcardconnectionstate-absent" data-idl="enum-value" data-title="absent" data-dfn-for="SmartCardConnectionState" tabindex="0" aria-haspopup="dialog"><code>absent</code></dfn></dt>
              <dd>There is no card in the reader.</dd>
              <dt><dfn data-export="" data-dfn-type="enum-value" id="dom-smartcardconnectionstate-present" data-idl="enum-value" data-title="present" data-dfn-for="SmartCardConnectionState" tabindex="0" aria-haspopup="dialog"><code>present</code></dfn></dt>
              <dd>There is a card in the reader, but it has not been moved into
                position for use.</dd>
              <dt><dfn data-export="" data-dfn-type="enum-value" id="dom-smartcardconnectionstate-swallowed" data-idl="enum-value" data-title="swallowed" data-dfn-for="SmartCardConnectionState" tabindex="0" aria-haspopup="dialog"><code>swallowed</code></dfn></dt>
              <dd>There is a card in the reader in position for use. The card is
                not powered.</dd>
              <dt><dfn data-export="" data-dfn-type="enum-value" id="dom-smartcardconnectionstate-powered" data-idl="enum-value" data-title="powered" data-dfn-for="SmartCardConnectionState" tabindex="0" aria-haspopup="dialog"><code>powered</code></dfn></dt>
              <dd>Power is being provided to the card, but the reader driver is
                unaware of the mode of the card.</dd>
              <dt><dfn data-export="" data-dfn-type="enum-value" id="dom-smartcardconnectionstate-negotiable" data-idl="enum-value" data-title="negotiable" data-dfn-for="SmartCardConnectionState" tabindex="0" aria-haspopup="dialog"><code>negotiable</code></dfn></dt>
              <dd>The card has been reset and is awaiting PTS (protocol type
                selection) negotiation.</dd>
              <dt><dfn data-export="" data-dfn-type="enum-value" id="dom-smartcardconnectionstate-t0" data-idl="enum-value" data-title="t0" data-dfn-for="SmartCardConnectionState" tabindex="0" aria-haspopup="dialog"><code>t0</code></dfn></dt>
              <dd>The card is in [<cite><a class="bibref" data-link-type="biblio" href="#bib-iso7186-3" title="Identification cards - Integrated circuit cards; Part 3: Cards with contacts - Electrical interface and transmission protocols">ISO7186-3</a></cite>] T=0 protocol mode and a new protocol
                may not be negotiated.</dd>
              <dt><dfn data-export="" data-dfn-type="enum-value" id="dom-smartcardconnectionstate-t1" data-idl="enum-value" data-title="t1" data-dfn-for="SmartCardConnectionState" tabindex="0" aria-haspopup="dialog"><code>t1</code></dfn></dt>
              <dd>The card is in [<cite><a class="bibref" data-link-type="biblio" href="#bib-iso7186-3" title="Identification cards - Integrated circuit cards; Part 3: Cards with contacts - Electrical interface and transmission protocols">ISO7186-3</a></cite>] T=1 protocol mode and a new protocol
                may not be negotiated.</dd>
              <dt><dfn data-export="" data-dfn-type="enum-value" id="dom-smartcardconnectionstate-raw" data-idl="enum-value" data-title="raw" data-dfn-for="SmartCardConnectionState" tabindex="0" aria-haspopup="dialog"><code>raw</code></dfn></dt>
              <dd>The card is in raw protocol mode and a new protocol may not be
                negotiated.</dd>
            </dl>

            <p>Given a [<cite><a class="bibref" data-link-type="biblio" href="#bib-pcsc5" title="Interoperability Specification for ICCs and Personal Computer Systems; Part 5. ICC Resource Manager Definition">PCSC5</a></cite>] <code>DWORD</code> <var data-type="DWORD">pcscState</var> and a <code>DWORD</code>
            <var data-type="DWORD">activeProtocol</var>, a
            <dfn data-dfn-for="SmartCardConnectionState" id="dfn-corresponding-4" tabindex="0" aria-haspopup="dialog" data-dfn-type="dfn">corresponding</dfn>
            <a data-link-type="idl" data-lt="SmartCardConnectionState" href="#dom-smartcardconnectionstate" class="internalDFN" id="ref-for-dom-smartcardconnectionstate-4"><code>SmartCardConnectionState</code></a> is created with the following steps:</p>
            <ol>
              <li>If <var data-type="DWORD">pcscState</var> is [<cite><a class="bibref" data-link-type="biblio" href="#bib-pcsc5" title="Interoperability Specification for ICCs and Personal Computer Systems; Part 5. ICC Resource Manager Definition">PCSC5</a></cite>] <code>SCARD_ABSENT</code>, return
                "<a data-link-type="idl" href="#dom-smartcardconnectionstate-absent" class="internalDFN" id="ref-for-dom-smartcardconnectionstate-absent-2"><code>absent</code></a>".</li>
              <li>If <var data-type="DWORD">pcscState</var> is [<cite><a class="bibref" data-link-type="biblio" href="#bib-pcsc5" title="Interoperability Specification for ICCs and Personal Computer Systems; Part 5. ICC Resource Manager Definition">PCSC5</a></cite>] <code>SCARD_PRESENT</code>, return
                "<a data-link-type="idl" href="#dom-smartcardconnectionstate-present" class="internalDFN" id="ref-for-dom-smartcardconnectionstate-present-2"><code>present</code></a>".</li>
              <li>If <var data-type="DWORD">pcscState</var> is [<cite><a class="bibref" data-link-type="biblio" href="#bib-pcsc5" title="Interoperability Specification for ICCs and Personal Computer Systems; Part 5. ICC Resource Manager Definition">PCSC5</a></cite>] <code>SCARD_SWALLOWED</code>, return
                "<a data-link-type="idl" href="#dom-smartcardconnectionstate-swallowed" class="internalDFN" id="ref-for-dom-smartcardconnectionstate-swallowed-2"><code>swallowed</code></a>".</li>
              <li>If <var data-type="DWORD">pcscState</var> is [<cite><a class="bibref" data-link-type="biblio" href="#bib-pcsc5" title="Interoperability Specification for ICCs and Personal Computer Systems; Part 5. ICC Resource Manager Definition">PCSC5</a></cite>] <code>SCARD_POWERED</code>, return
                "<a data-link-type="idl" href="#dom-smartcardconnectionstate-powered" class="internalDFN" id="ref-for-dom-smartcardconnectionstate-powered-2"><code>powered</code></a>".</li>
              <li>If <var data-type="DWORD">pcscState</var> is [<cite><a class="bibref" data-link-type="biblio" href="#bib-pcsc5" title="Interoperability Specification for ICCs and Personal Computer Systems; Part 5. ICC Resource Manager Definition">PCSC5</a></cite>] <code>SCARD_NEGOTIABLE</code>, return
                "<a data-link-type="idl" href="#dom-smartcardconnectionstate-negotiable" class="internalDFN" id="ref-for-dom-smartcardconnectionstate-negotiable-2"><code>negotiable</code></a>".</li>
              <li>If <var data-type="DWORD">pcscState</var> is [<cite><a class="bibref" data-link-type="biblio" href="#bib-pcsc5" title="Interoperability Specification for ICCs and Personal Computer Systems; Part 5. ICC Resource Manager Definition">PCSC5</a></cite>] <code>SCARD_SPECIFIC</code>, perform the
                following steps:
                <ol>
                  <li>If <var data-type="DWORD">activeProtocol</var> is [<cite><a class="bibref" data-link-type="biblio" href="#bib-pcsc5" title="Interoperability Specification for ICCs and Personal Computer Systems; Part 5. ICC Resource Manager Definition">PCSC5</a></cite>] <code>SCARD_PROTOCOL_T0</code>,
                    return "<a data-link-type="idl" href="#dom-smartcardconnectionstate-t0" class="internalDFN" id="ref-for-dom-smartcardconnectionstate-t0-2"><code>t0</code></a>".</li>
                  <li>If <var data-type="DWORD">activeProtocol</var> is [<cite><a class="bibref" data-link-type="biblio" href="#bib-pcsc5" title="Interoperability Specification for ICCs and Personal Computer Systems; Part 5. ICC Resource Manager Definition">PCSC5</a></cite>] <code>SCARD_PROTOCOL_T1</code>,
                    return "<a data-link-type="idl" href="#dom-smartcardconnectionstate-t1" class="internalDFN" id="ref-for-dom-smartcardconnectionstate-t1-2"><code>t1</code></a>".</li>
                  <li>If <var data-type="DWORD">activeProtocol</var> is [<cite><a class="bibref" data-link-type="biblio" href="#bib-pcsc5" title="Interoperability Specification for ICCs and Personal Computer Systems; Part 5. ICC Resource Manager Definition">PCSC5</a></cite>] <code>SCARD_PROTOCOL_RAW</code>,
                    return "<a data-link-type="idl" href="#dom-smartcardconnectionstate-raw" class="internalDFN" id="ref-for-dom-smartcardconnectionstate-raw-2"><code>raw</code></a>".</li>
                </ol>
              </li>
              <li>Return <a data-link-type="idl" data-lt="undefined" data-type="interface" href="https://webidl.spec.whatwg.org/#idl-undefined"><code>undefined</code></a>.</li>
            </ol>
          </section>
        </section>
      </section>
      <section id="control-method"><div class="header-wrapper"><h3 id="x5-5-control-method"><bdi class="secno">5.5 </bdi><dfn data-export="" data-dfn-type="method" id="dom-smartcardconnection-control" data-idl="operation" data-title="control()" data-dfn-for="SmartCardConnection" data-type="Promise" data-lt="control()|control(controlCode, data)" data-local-lt="SmartCardConnection.control|SmartCardConnection.control()|control" tabindex="0" aria-haspopup="dialog"><code>control()</code></dfn> method</h3><a class="self-link" href="#control-method" aria-label="Permalink for Section 5.5"></a></div>
        
        <p>Direct communication with the reader device. Sends vendor-specific
        commands. The returned <a data-link-type="idl" data-lt="Promise" href="#dfn-promise" class="internalDFN" id="ref-for-dfn-promise-7"><code>Promise</code></a> might contain output data, if applicable
        for the given control code. Otherwise the returned buffer will be
        empty.</p>
        <div class="issue" id="issue-container-number-1"><div role="heading" class="issue-title marker" id="h-issue" aria-level="4"><span>Issue 1</span></div><div class="">Write an algorithm for this method.</div></div>
      </section>
      <section id="getattribute-method"><div class="header-wrapper"><h3 id="x5-6-getattribute-method"><bdi class="secno">5.6 </bdi><dfn data-export="" data-dfn-type="method" id="dom-smartcardconnection-getattribute" data-idl="operation" data-title="getAttribute()" data-dfn-for="SmartCardConnection" data-type="Promise" data-lt="getAttribute()|getAttribute(tag)" data-local-lt="SmartCardConnection.getAttribute|SmartCardConnection.getAttribute()|getAttribute" tabindex="0" aria-haspopup="dialog"><code>getAttribute()</code></dfn> method</h3><a class="self-link" href="#getattribute-method" aria-label="Permalink for Section 5.6"></a></div>
        
        <p>Queries a card reader's attribute or capability value, given its tag.</p>
        <div class="issue" id="issue-container-number-2"><div role="heading" class="issue-title marker" id="h-issue-0" aria-level="4"><span>Issue 2</span></div><div class="">Write an algorithm for this method.</div></div>
      </section>
      <section id="setattribute-method"><div class="header-wrapper"><h3 id="x5-7-setattribute-method"><bdi class="secno">5.7 </bdi><dfn data-export="" data-dfn-type="method" id="dom-smartcardconnection-setattribute" data-idl="operation" data-title="setAttribute()" data-dfn-for="SmartCardConnection" data-type="Promise" data-lt="setAttribute()|setAttribute(tag, value)" data-local-lt="SmartCardConnection.setAttribute|SmartCardConnection.setAttribute()|setAttribute" tabindex="0" aria-haspopup="dialog"><code>setAttribute()</code></dfn> method</h3><a class="self-link" href="#setattribute-method" aria-label="Permalink for Section 5.7"></a></div>
        
        <p>Sets a card reader's attribute or capability.</p>
        <div class="issue" id="issue-container-number-3"><div role="heading" class="issue-title marker" id="h-issue-1" aria-level="4"><span>Issue 3</span></div><div class="">Write an algorithm for this method.</div></div>
      </section>
    </section>

    <section data-dfn-for="SmartCardError" id="smartcarderror-interface"><div class="header-wrapper"><h2 id="x6-smartcarderror-interface"><bdi class="secno">6. </bdi><dfn data-export="" data-dfn-type="interface" id="dom-smartcarderror" data-idl="interface" data-title="SmartCardError" data-dfn-for="" tabindex="0" aria-haspopup="dialog"><code>SmartCardError</code></dfn> interface</h2><a class="self-link" href="#smartcarderror-interface" aria-label="Permalink for Section 6."></a></div>
      
      <pre class="idl def" id="webidl-1271376181"><span class="idlHeader"><a class="self-link" href="#webidl-1271376181">WebIDL</a></span><code><span data-idl="" class="idlInterface" id="idl-def-smartcarderror" data-title="SmartCardError">[<span class="extAttr"><a data-type="extended-attribute" href="https://webidl.spec.whatwg.org/#Exposed">Exposed</a>=(DedicatedWorker, SharedWorker, Window)</span>, <span class="extAttr"><a data-type="extended-attribute" href="https://html.spec.whatwg.org/multipage/structured-data.html#serializable">Serializable</a></span>]
interface <a class="internalDFN idlID" data-link-type="interface" href="#dom-smartcarderror" id="ref-for-dom-smartcarderror-1"><code>SmartCardError</code></a> : <span class="idlSuperclass"><a data-link-type="idl" data-type="interface" href="https://webidl.spec.whatwg.org/#idl-DOMException">DOMException</a></span> {<span data-idl="" class="idlConstructor" id="idl-def-smartcarderror-constructor-message-options" data-title="constructor" data-dfn-for="SmartCardError">
  <dfn data-export="" data-dfn-type="constructor" id="dom-smartcarderror-constructor" data-idl="constructor" data-title="constructor" data-dfn-for="SmartCardError" data-lt="constructor()|constructor(options)|constructor(options, message)" data-local-lt="SmartCardError.constructor|SmartCardError.constructor()|constructor" tabindex="0" aria-haspopup="dialog"><code>constructor</code></dfn>(optional<span class="idlType"> <a data-link-type="idl" data-type="interface" href="https://webidl.spec.whatwg.org/#idl-DOMString">DOMString</a></span> <span class="idlParamName">message</span> = "",<span class="idlType"> <a data-link-type="idl" href="#dom-smartcarderroroptions" class="internalDFN" id="ref-for-dom-smartcarderroroptions-1"><code>SmartCardErrorOptions</code></a></span> <span class="idlParamName">options</span>);</span><span data-idl="" class="idlAttribute" id="idl-def-smartcarderror-responsecode" data-title="responseCode" data-dfn-for="SmartCardError">
  readonly attribute<span class="idlType"> <a data-link-type="idl" href="#dom-smartcardresponsecode" class="internalDFN" id="ref-for-dom-smartcardresponsecode-1"><code>SmartCardResponseCode</code></a></span> <a class="internalDFN idlName" data-link-type="attribute" href="#dom-smartcarderror-responsecode" id="ref-for-dom-smartcarderror-responsecode-1"><code>responseCode</code></a>;</span>
};</span></code></pre>
      <p>The <dfn data-export="" data-dfn-type="attribute" id="dom-smartcarderror-responsecode" data-idl="attribute" data-title="responseCode" data-dfn-for="SmartCardError" data-type="SmartCardResponseCode" data-lt="responseCode" data-local-lt="SmartCardError.responseCode" tabindex="0" aria-haspopup="dialog"><code>responseCode</code></dfn> attribute is the error or warning response
      code returned by the related [<cite><a class="bibref" data-link-type="biblio" href="#bib-pcsc5" title="Interoperability Specification for ICCs and Personal Computer Systems; Part 5. ICC Resource Manager Definition">PCSC5</a></cite>] method.</p>
      <p>Given a [<cite><a class="bibref" data-link-type="biblio" href="#bib-pcsc5" title="Interoperability Specification for ICCs and Personal Computer Systems; Part 5. ICC Resource Manager Definition">PCSC5</a></cite>] <code>RESPONSECODE</code> different from <code>SCARD_S_SUCCESS</code>, a
      <dfn data-dfn-for="SmartCardError" id="dfn-corresponding-5" tabindex="0" aria-haspopup="dialog" data-dfn-type="dfn">corresponding</dfn> <a data-link-type="dfn|abstract-op" data-type="dfn" href="https://webidl.spec.whatwg.org/#dfn-exception">exception</a> is
      created with the following steps:</p>
      <div class="note" role="note" id="issue-container-generatedID-5"><div role="heading" class="note-title marker" id="h-note-5" aria-level="3"><span>Note</span><span class="issue-label">: Unspecified response codes</span></div><aside class="">
        <p>The following <code>RESPONSECODE</code>s are not part of [<cite><a class="bibref" data-link-type="biblio" href="#bib-pcsc5" title="Interoperability Specification for ICCs and Personal Computer Systems; Part 5. ICC Resource Manager Definition">PCSC5</a></cite>] but are still
        considered in this specification as existing PC/SC
        implementations use them:</p>
        <ul>
          <li><code>SCARD_E_SERVER_TOO_BUSY</code></li>
          <li><code>SCARD_E_SERVICE_STOPPED</code></li>
          <li><code>SCARD_P_SHUTDOWN</code></li>
        </ul>
      </aside></div>
      <ol>
        <li>Let <var data-type="RESPONSECODE">pcscCode</var> be that <code>RESPONSECODE</code>.</li>
        <li>If <var data-type="RESPONSECODE">pcscCode</var> is <code>SCARD_E_NO_SERVICE</code>, return a <a data-link-type="dfn|abstract-op" data-type="dfn" href="https://webidl.spec.whatwg.org/#new">new</a>
          "<a data-link-type="idl" href="#dom-smartcardresponsecode-no-service" class="internalDFN" id="ref-for-dom-smartcardresponsecode-no-service-1"><code>no-service</code></a>" <a data-link-type="idl" data-lt="SmartCardError" href="#dom-smartcarderror" class="internalDFN" id="ref-for-dom-smartcarderror-2"><code>SmartCardError</code></a>.
          <div class="note" role="note" id="issue-container-generatedID-6"><div role="heading" class="note-title marker" id="h-note-6" aria-level="3"><span>Note</span><span class="issue-label">: Creating SmartCardError instances</span></div><aside class="">
            <p>In statements such as:</p>
            <blockquote><a data-link-type="dfn|abstract-op" data-type="dfn" href="https://webidl.spec.whatwg.org/#new">new</a> "<a data-link-type="idl" href="#dom-smartcardresponsecode-no-service" class="internalDFN" id="ref-for-dom-smartcardresponsecode-no-service-2"><code>no-service</code></a>"
              <a data-link-type="idl" data-lt="SmartCardError" href="#dom-smartcarderror" class="internalDFN" id="ref-for-dom-smartcarderror-3"><code>SmartCardError</code></a></blockquote>
            <p>What is meant, more exactly, is:</p>
            <blockquote><a data-link-type="dfn|abstract-op" data-type="dfn" href="https://webidl.spec.whatwg.org/#new">new</a> <a data-link-type="idl" data-lt="SmartCardError" href="#dom-smartcarderror" class="internalDFN" id="ref-for-dom-smartcarderror-4"><code>SmartCardError</code></a> where
              <a data-link-type="idl" href="#dom-smartcarderror-responsecode" class="internalDFN" id="ref-for-dom-smartcarderror-responsecode-2"><code>responseCode</code></a> is set to
              "<a data-link-type="idl" href="#dom-smartcardresponsecode-no-service" class="internalDFN" id="ref-for-dom-smartcardresponsecode-no-service-3"><code>no-service</code></a>"</blockquote>
          </aside></div>
        </li>
        <li>If <var data-type="RESPONSECODE">pcscCode</var> is <code>SCARD_E_NO_SMARTCARD</code>, return a <a data-link-type="dfn|abstract-op" data-type="dfn" href="https://webidl.spec.whatwg.org/#new">new</a>
          "<a data-link-type="idl" href="#dom-smartcardresponsecode-no-smartcard" class="internalDFN" id="ref-for-dom-smartcardresponsecode-no-smartcard-1"><code>no-smartcard</code></a>" <a data-link-type="idl" data-lt="SmartCardError" href="#dom-smartcarderror" class="internalDFN" id="ref-for-dom-smartcarderror-5"><code>SmartCardError</code></a>.</li>
        <li>If <var data-type="RESPONSECODE">pcscCode</var> is <code>SCARD_E_NOT_READY</code>, return a <a data-link-type="dfn|abstract-op" data-type="dfn" href="https://webidl.spec.whatwg.org/#new">new</a>
          "<a data-link-type="idl" href="#dom-smartcardresponsecode-not-ready" class="internalDFN" id="ref-for-dom-smartcardresponsecode-not-ready-1"><code>not-ready</code></a>" <a data-link-type="idl" data-lt="SmartCardError" href="#dom-smartcarderror" class="internalDFN" id="ref-for-dom-smartcarderror-6"><code>SmartCardError</code></a>.</li>
        <li>If <var data-type="RESPONSECODE">pcscCode</var> is <code>SCARD_E_NOT_TRANSACTED</code>, return a <a data-link-type="dfn|abstract-op" data-type="dfn" href="https://webidl.spec.whatwg.org/#new">new</a>
          "<a data-link-type="idl" href="#dom-smartcardresponsecode-not-transacted" class="internalDFN" id="ref-for-dom-smartcardresponsecode-not-transacted-1"><code>not-transacted</code></a>" <a data-link-type="idl" data-lt="SmartCardError" href="#dom-smartcarderror" class="internalDFN" id="ref-for-dom-smartcarderror-7"><code>SmartCardError</code></a>.</li>
        <li>If <var data-type="RESPONSECODE">pcscCode</var> is <code>SCARD_E_PROTO_MISMATCH</code>, return a <a data-link-type="dfn|abstract-op" data-type="dfn" href="https://webidl.spec.whatwg.org/#new">new</a>
          "<a data-link-type="idl" href="#dom-smartcardresponsecode-proto-mismatch" class="internalDFN" id="ref-for-dom-smartcardresponsecode-proto-mismatch-1"><code>proto-mismatch</code></a>" <a data-link-type="idl" data-lt="SmartCardError" href="#dom-smartcarderror" class="internalDFN" id="ref-for-dom-smartcarderror-8"><code>SmartCardError</code></a>.</li>
        <li>If <var data-type="RESPONSECODE">pcscCode</var> is <code>SCARD_E_READER_UNAVAILABLE</code>, return a <a data-link-type="dfn|abstract-op" data-type="dfn" href="https://webidl.spec.whatwg.org/#new">new</a>
          "<a data-link-type="idl" href="#dom-smartcardresponsecode-reader-unavailable" class="internalDFN" id="ref-for-dom-smartcardresponsecode-reader-unavailable-1"><code>reader-unavailable</code></a>"
          <a data-link-type="idl" data-lt="SmartCardError" href="#dom-smartcarderror" class="internalDFN" id="ref-for-dom-smartcarderror-9"><code>SmartCardError</code></a>.</li>
        <li>If <var data-type="RESPONSECODE">pcscCode</var> is <code>SCARD_W_REMOVED_CARD</code>, return a <a data-link-type="dfn|abstract-op" data-type="dfn" href="https://webidl.spec.whatwg.org/#new">new</a>
          "<a data-link-type="idl" href="#dom-smartcardresponsecode-removed-card" class="internalDFN" id="ref-for-dom-smartcardresponsecode-removed-card-1"><code>removed-card</code></a>" <a data-link-type="idl" data-lt="SmartCardError" href="#dom-smartcarderror" class="internalDFN" id="ref-for-dom-smartcarderror-10"><code>SmartCardError</code></a>.</li>
        <li>If <var data-type="RESPONSECODE">pcscCode</var> is <code>SCARD_W_RESET_CARD</code>, return a <a data-link-type="dfn|abstract-op" data-type="dfn" href="https://webidl.spec.whatwg.org/#new">new</a>
          "<a data-link-type="idl" href="#dom-smartcardresponsecode-reset-card" class="internalDFN" id="ref-for-dom-smartcardresponsecode-reset-card-1"><code>reset-card</code></a>" <a data-link-type="idl" data-lt="SmartCardError" href="#dom-smartcarderror" class="internalDFN" id="ref-for-dom-smartcarderror-11"><code>SmartCardError</code></a>.</li>
        <li>If <var data-type="RESPONSECODE">pcscCode</var> is <code>SCARD_E_SERVER_TOO_BUSY</code>, return a <a data-link-type="dfn|abstract-op" data-type="dfn" href="https://webidl.spec.whatwg.org/#new">new</a>
          "<a data-link-type="idl" href="#dom-smartcardresponsecode-server-too-busy" class="internalDFN" id="ref-for-dom-smartcardresponsecode-server-too-busy-1"><code>server-too-busy</code></a>" <a data-link-type="idl" data-lt="SmartCardError" href="#dom-smartcarderror" class="internalDFN" id="ref-for-dom-smartcarderror-12"><code>SmartCardError</code></a>.</li>
        <li>If <var data-type="RESPONSECODE">pcscCode</var> is <code>SCARD_E_SHARING_VIOLATION</code>, return a <a data-link-type="dfn|abstract-op" data-type="dfn" href="https://webidl.spec.whatwg.org/#new">new</a>
          "<a data-link-type="idl" href="#dom-smartcardresponsecode-sharing-violation" class="internalDFN" id="ref-for-dom-smartcardresponsecode-sharing-violation-1"><code>sharing-violation</code></a>" <a data-link-type="idl" data-lt="SmartCardError" href="#dom-smartcarderror" class="internalDFN" id="ref-for-dom-smartcarderror-13"><code>SmartCardError</code></a>.</li>
        <li>If <var data-type="RESPONSECODE">pcscCode</var> is <code>SCARD_E_SYSTEM_CANCELLED</code>, return a <a data-link-type="dfn|abstract-op" data-type="dfn" href="https://webidl.spec.whatwg.org/#new">new</a>
          "<a data-link-type="idl" href="#dom-smartcardresponsecode-system-cancelled" class="internalDFN" id="ref-for-dom-smartcardresponsecode-system-cancelled-1"><code>system-cancelled</code></a>" <a data-link-type="idl" data-lt="SmartCardError" href="#dom-smartcarderror" class="internalDFN" id="ref-for-dom-smartcarderror-14"><code>SmartCardError</code></a>.</li>
        <li>If <var data-type="RESPONSECODE">pcscCode</var> is <code>SCARD_E_UNKNOWN_READER</code>, return a <a data-link-type="dfn|abstract-op" data-type="dfn" href="https://webidl.spec.whatwg.org/#new">new</a>
          "<a data-link-type="idl" href="#dom-smartcardresponsecode-unknown-reader" class="internalDFN" id="ref-for-dom-smartcardresponsecode-unknown-reader-1"><code>unknown-reader</code></a>" <a data-link-type="idl" data-lt="SmartCardError" href="#dom-smartcarderror" class="internalDFN" id="ref-for-dom-smartcarderror-15"><code>SmartCardError</code></a>.</li>
        <li>If <var data-type="RESPONSECODE">pcscCode</var> is <code>SCARD_W_UNPOWERED_CARD</code>, return a <a data-link-type="dfn|abstract-op" data-type="dfn" href="https://webidl.spec.whatwg.org/#new">new</a>
          "<a data-link-type="idl" href="#dom-smartcardresponsecode-unpowered-card" class="internalDFN" id="ref-for-dom-smartcardresponsecode-unpowered-card-1"><code>unpowered-card</code></a>" <a data-link-type="idl" data-lt="SmartCardError" href="#dom-smartcarderror" class="internalDFN" id="ref-for-dom-smartcarderror-16"><code>SmartCardError</code></a>.</li>
        <li>If <var data-type="RESPONSECODE">pcscCode</var> is <code>SCARD_W_UNRESPONSIVE_CARD</code>, return a <a data-link-type="dfn|abstract-op" data-type="dfn" href="https://webidl.spec.whatwg.org/#new">new</a>
          "<a data-link-type="idl" href="#dom-smartcardresponsecode-unresponsive-card" class="internalDFN" id="ref-for-dom-smartcardresponsecode-unresponsive-card-1"><code>unresponsive-card</code></a>" <a data-link-type="idl" data-lt="SmartCardError" href="#dom-smartcarderror" class="internalDFN" id="ref-for-dom-smartcarderror-17"><code>SmartCardError</code></a>.</li>
        <li>If <var data-type="RESPONSECODE">pcscCode</var> is <code>SCARD_W_UNSUPPORTED_CARD</code>, return a <a data-link-type="dfn|abstract-op" data-type="dfn" href="https://webidl.spec.whatwg.org/#new">new</a>
          "<a data-link-type="idl" href="#dom-smartcardresponsecode-unsupported-card" class="internalDFN" id="ref-for-dom-smartcardresponsecode-unsupported-card-1"><code>unsupported-card</code></a>" <a data-link-type="idl" data-lt="SmartCardError" href="#dom-smartcarderror" class="internalDFN" id="ref-for-dom-smartcarderror-18"><code>SmartCardError</code></a>.</li>
        <li>If <var data-type="RESPONSECODE">pcscCode</var> is <code>SCARD_E_UNSUPPORTED_FEATURE</code>, return a <a data-link-type="dfn|abstract-op" data-type="dfn" href="https://webidl.spec.whatwg.org/#new">new</a>
          "<a data-link-type="idl" href="#dom-smartcardresponsecode-unsupported-feature" class="internalDFN" id="ref-for-dom-smartcardresponsecode-unsupported-feature-1"><code>unsupported-feature</code></a>"
          <a data-link-type="idl" data-lt="SmartCardError" href="#dom-smartcarderror" class="internalDFN" id="ref-for-dom-smartcarderror-19"><code>SmartCardError</code></a>.</li>
        <li>If <var data-type="RESPONSECODE">pcscCode</var> is <code>SCARD_E_INVALID_PARAMETER</code>, return a <a data-link-type="dfn|abstract-op" data-type="dfn" href="https://webidl.spec.whatwg.org/#new">new</a>
          <a data-link-type="idl" data-lt="TypeError" data-type="exception" href="https://webidl.spec.whatwg.org/#exceptiondef-typeerror"><code>TypeError</code></a>.</li>
        <li>If <var data-type="RESPONSECODE">pcscCode</var> is <code>SCARD_E_INVALID_HANDLE</code>, return a <a data-link-type="dfn|abstract-op" data-type="dfn" href="https://webidl.spec.whatwg.org/#new">new</a>
          "<a data-link-type="idl" data-lt="InvalidStateError" data-type="exception" href="https://webidl.spec.whatwg.org/#invalidstateerror"><code>InvalidStateError</code></a>" <a data-link-type="idl" data-lt="DOMException" data-type="interface" href="https://webidl.spec.whatwg.org/#idl-DOMException"><code>DOMException</code></a>.</li>
        <li>If <var data-type="RESPONSECODE">pcscCode</var> is <code>SCARD_E_SERVICE_STOPPED</code>, return a <a data-link-type="dfn|abstract-op" data-type="dfn" href="https://webidl.spec.whatwg.org/#new">new</a>
          "<a data-link-type="idl" data-lt="InvalidStateError" data-type="exception" href="https://webidl.spec.whatwg.org/#invalidstateerror"><code>InvalidStateError</code></a>" <a data-link-type="idl" data-lt="DOMException" data-type="interface" href="https://webidl.spec.whatwg.org/#idl-DOMException"><code>DOMException</code></a>.</li>
        <li>If <var data-type="RESPONSECODE">pcscCode</var> is <code>SCARD_P_SHUTDOWN</code>, return a <a data-link-type="dfn|abstract-op" data-type="dfn" href="https://webidl.spec.whatwg.org/#new">new</a>
          "<a data-link-type="idl" data-lt="AbortError" data-type="exception" href="https://webidl.spec.whatwg.org/#aborterror"><code>AbortError</code></a>" <a data-link-type="idl" data-lt="DOMException" data-type="interface" href="https://webidl.spec.whatwg.org/#idl-DOMException"><code>DOMException</code></a>.</li>
        <li>Otherwise return a <a data-link-type="dfn|abstract-op" data-type="dfn" href="https://webidl.spec.whatwg.org/#new">new</a> "<a data-link-type="idl" data-lt="UnknownError" data-type="exception" href="https://webidl.spec.whatwg.org/#unknownerror"><code>UnknownError</code></a>" <a data-link-type="idl" data-lt="DOMException" data-type="interface" href="https://webidl.spec.whatwg.org/#idl-DOMException"><code>DOMException</code></a>.</li>
      </ol>
      <section data-dfn-for="SmartCardErrorOptions" id="smartcarderroroptions-dictionary"><div class="header-wrapper"><h3 id="x6-1-smartcarderroroptions-dictionary"><bdi class="secno">6.1 </bdi><dfn data-export="" data-dfn-type="dictionary" id="dom-smartcarderroroptions" data-idl="dictionary" data-title="SmartCardErrorOptions" data-dfn-for="" tabindex="0" aria-haspopup="dialog"><code>SmartCardErrorOptions</code></dfn> dictionary</h3><a class="self-link" href="#smartcarderroroptions-dictionary" aria-label="Permalink for Section 6.1"></a></div>
        
        <pre class="idl def" id="webidl-42336405"><span class="idlHeader"><a class="self-link" href="#webidl-42336405">WebIDL</a></span><code><span data-idl="" class="idlDictionary" id="idl-def-smartcarderroroptions" data-title="SmartCardErrorOptions">dictionary <a class="internalDFN idlID" data-link-type="dictionary" href="#dom-smartcarderroroptions" id="ref-for-dom-smartcarderroroptions-2"><code>SmartCardErrorOptions</code></a> {<span data-idl="" class="idlMember" id="idl-def-smartcarderroroptions-responsecode" data-title="responseCode" data-dfn-for="SmartCardErrorOptions">
  required<span class="idlType"> <a data-link-type="idl" href="#dom-smartcardresponsecode" class="internalDFN" id="ref-for-dom-smartcardresponsecode-2"><code>SmartCardResponseCode</code></a></span> <a class="internalDFN idlName" data-link-type="dict-member" href="#dom-smartcarderroroptions-responsecode" id="ref-for-dom-smartcarderroroptions-responsecode-1"><code>responseCode</code></a>;</span>
};</span></code></pre>
        <p>The <dfn data-export="" data-dfn-type="dict-member" id="dom-smartcarderroroptions-responsecode" data-idl="field" data-title="responseCode" data-dfn-for="SmartCardErrorOptions" data-type="SmartCardResponseCode" tabindex="0" aria-haspopup="dialog"><code>responseCode</code></dfn> member is the value for <a data-link-type="idl" data-lt="SmartCardError" href="#dom-smartcarderror" class="internalDFN" id="ref-for-dom-smartcarderror-20"><code>SmartCardError</code></a>'s
        <a data-link-type="idl" href="#dom-smartcarderror-responsecode" class="internalDFN" id="ref-for-dom-smartcarderror-responsecode-3"><code>responseCode</code></a> attribute.</p>
      </section>
      <section data-dfn-for="SmartCardResponseCode" id="smartcardresponsecode-enum"><div class="header-wrapper"><h3 id="x6-2-smartcardresponsecode-enum"><bdi class="secno">6.2 </bdi><dfn data-export="" data-dfn-type="enum" id="dom-smartcardresponsecode" data-idl="enum" data-title="SmartCardResponseCode" data-dfn-for="" tabindex="0" aria-haspopup="dialog"><code>SmartCardResponseCode</code></dfn> enum</h3><a class="self-link" href="#smartcardresponsecode-enum" aria-label="Permalink for Section 6.2"></a></div>
        
        <pre class="idl def" id="webidl-1071113654"><span class="idlHeader"><a class="self-link" href="#webidl-1071113654">WebIDL</a></span><code><span data-idl="" class="idlEnum" id="idl-def-smartcardresponsecode" data-title="SmartCardResponseCode">enum <a class="internalDFN idlID" data-link-type="enum" href="#dom-smartcardresponsecode" id="ref-for-dom-smartcardresponsecode-3"><code>SmartCardResponseCode</code></a> {
  <span class="idlEnumItem">"<a class="internalDFN" data-link-type="enum-value" href="#dom-smartcardresponsecode-no-service" id="ref-for-dom-smartcardresponsecode-no-service-4"><code>no-service</code></a>"</span>,
  <span class="idlEnumItem">"<a class="internalDFN" data-link-type="enum-value" href="#dom-smartcardresponsecode-no-smartcard" id="ref-for-dom-smartcardresponsecode-no-smartcard-2"><code>no-smartcard</code></a>"</span>,
  <span class="idlEnumItem">"<a class="internalDFN" data-link-type="enum-value" href="#dom-smartcardresponsecode-not-ready" id="ref-for-dom-smartcardresponsecode-not-ready-2"><code>not-ready</code></a>"</span>,
  <span class="idlEnumItem">"<a class="internalDFN" data-link-type="enum-value" href="#dom-smartcardresponsecode-not-transacted" id="ref-for-dom-smartcardresponsecode-not-transacted-2"><code>not-transacted</code></a>"</span>,
  <span class="idlEnumItem">"<a class="internalDFN" data-link-type="enum-value" href="#dom-smartcardresponsecode-proto-mismatch" id="ref-for-dom-smartcardresponsecode-proto-mismatch-2"><code>proto-mismatch</code></a>"</span>,
  <span class="idlEnumItem">"<a class="internalDFN" data-link-type="enum-value" href="#dom-smartcardresponsecode-reader-unavailable" id="ref-for-dom-smartcardresponsecode-reader-unavailable-2"><code>reader-unavailable</code></a>"</span>,
  <span class="idlEnumItem">"<a class="internalDFN" data-link-type="enum-value" href="#dom-smartcardresponsecode-removed-card" id="ref-for-dom-smartcardresponsecode-removed-card-2"><code>removed-card</code></a>"</span>,
  <span class="idlEnumItem">"<a class="internalDFN" data-link-type="enum-value" href="#dom-smartcardresponsecode-reset-card" id="ref-for-dom-smartcardresponsecode-reset-card-2"><code>reset-card</code></a>"</span>,
  <span class="idlEnumItem">"<a class="internalDFN" data-link-type="enum-value" href="#dom-smartcardresponsecode-server-too-busy" id="ref-for-dom-smartcardresponsecode-server-too-busy-2"><code>server-too-busy</code></a>"</span>,
  <span class="idlEnumItem">"<a class="internalDFN" data-link-type="enum-value" href="#dom-smartcardresponsecode-sharing-violation" id="ref-for-dom-smartcardresponsecode-sharing-violation-2"><code>sharing-violation</code></a>"</span>,
  <span class="idlEnumItem">"<a class="internalDFN" data-link-type="enum-value" href="#dom-smartcardresponsecode-system-cancelled" id="ref-for-dom-smartcardresponsecode-system-cancelled-2"><code>system-cancelled</code></a>"</span>,
  <span class="idlEnumItem">"<a class="internalDFN" data-link-type="enum-value" href="#dom-smartcardresponsecode-unknown-reader" id="ref-for-dom-smartcardresponsecode-unknown-reader-2"><code>unknown-reader</code></a>"</span>,
  <span class="idlEnumItem">"<a class="internalDFN" data-link-type="enum-value" href="#dom-smartcardresponsecode-unpowered-card" id="ref-for-dom-smartcardresponsecode-unpowered-card-2"><code>unpowered-card</code></a>"</span>,
  <span class="idlEnumItem">"<a class="internalDFN" data-link-type="enum-value" href="#dom-smartcardresponsecode-unresponsive-card" id="ref-for-dom-smartcardresponsecode-unresponsive-card-2"><code>unresponsive-card</code></a>"</span>,
  <span class="idlEnumItem">"<a class="internalDFN" data-link-type="enum-value" href="#dom-smartcardresponsecode-unsupported-card" id="ref-for-dom-smartcardresponsecode-unsupported-card-2"><code>unsupported-card</code></a>"</span>,
  <span class="idlEnumItem">"<a class="internalDFN" data-link-type="enum-value" href="#dom-smartcardresponsecode-unsupported-feature" id="ref-for-dom-smartcardresponsecode-unsupported-feature-2"><code>unsupported-feature</code></a>"</span>
};</span></code></pre>
        <dl>
          <dt><dfn data-export="" data-dfn-type="enum-value" id="dom-smartcardresponsecode-no-service" data-idl="enum-value" data-title="no-service" data-dfn-for="SmartCardResponseCode" tabindex="0" aria-haspopup="dialog"><code>no-service</code></dfn></dt>
          <dd>SCARD_E_NO_SERVICE in the [<cite><a class="bibref" data-link-type="biblio" href="#bib-pcsc5" title="Interoperability Specification for ICCs and Personal Computer Systems; Part 5. ICC Resource Manager Definition">PCSC5</a></cite>] spec.</dd>
          <dt><dfn data-export="" data-dfn-type="enum-value" id="dom-smartcardresponsecode-no-smartcard" data-idl="enum-value" data-title="no-smartcard" data-dfn-for="SmartCardResponseCode" tabindex="0" aria-haspopup="dialog"><code>no-smartcard</code></dfn></dt>
          <dd>SCARD_E_NO_SMARTCARD in the [<cite><a class="bibref" data-link-type="biblio" href="#bib-pcsc5" title="Interoperability Specification for ICCs and Personal Computer Systems; Part 5. ICC Resource Manager Definition">PCSC5</a></cite>] spec.</dd>
          <dt><dfn data-export="" data-dfn-type="enum-value" id="dom-smartcardresponsecode-not-ready" data-idl="enum-value" data-title="not-ready" data-dfn-for="SmartCardResponseCode" tabindex="0" aria-haspopup="dialog"><code>not-ready</code></dfn></dt>
          <dd>SCARD_E_NOT_READY in the [<cite><a class="bibref" data-link-type="biblio" href="#bib-pcsc5" title="Interoperability Specification for ICCs and Personal Computer Systems; Part 5. ICC Resource Manager Definition">PCSC5</a></cite>] spec.</dd>
          <dt><dfn data-export="" data-dfn-type="enum-value" id="dom-smartcardresponsecode-not-transacted" data-idl="enum-value" data-title="not-transacted" data-dfn-for="SmartCardResponseCode" tabindex="0" aria-haspopup="dialog"><code>not-transacted</code></dfn></dt>
          <dd>SCARD_E_NOT_TRANSACTED in the [<cite><a class="bibref" data-link-type="biblio" href="#bib-pcsc5" title="Interoperability Specification for ICCs and Personal Computer Systems; Part 5. ICC Resource Manager Definition">PCSC5</a></cite>] spec.</dd>
          <dt><dfn data-export="" data-dfn-type="enum-value" id="dom-smartcardresponsecode-proto-mismatch" data-idl="enum-value" data-title="proto-mismatch" data-dfn-for="SmartCardResponseCode" tabindex="0" aria-haspopup="dialog"><code>proto-mismatch</code></dfn></dt>
          <dd>SCARD_E_PROTO_MISMATCH in the [<cite><a class="bibref" data-link-type="biblio" href="#bib-pcsc5" title="Interoperability Specification for ICCs and Personal Computer Systems; Part 5. ICC Resource Manager Definition">PCSC5</a></cite>] spec.</dd>
          <dt><dfn data-export="" data-dfn-type="enum-value" id="dom-smartcardresponsecode-reader-unavailable" data-idl="enum-value" data-title="reader-unavailable" data-dfn-for="SmartCardResponseCode" tabindex="0" aria-haspopup="dialog"><code>reader-unavailable</code></dfn></dt>
          <dd>SCARD_E_READER_UNAVAILABLE in the [<cite><a class="bibref" data-link-type="biblio" href="#bib-pcsc5" title="Interoperability Specification for ICCs and Personal Computer Systems; Part 5. ICC Resource Manager Definition">PCSC5</a></cite>] spec.</dd>
          <dt><dfn data-export="" data-dfn-type="enum-value" id="dom-smartcardresponsecode-removed-card" data-idl="enum-value" data-title="removed-card" data-dfn-for="SmartCardResponseCode" tabindex="0" aria-haspopup="dialog"><code>removed-card</code></dfn></dt>
          <dd>SCARD_W_REMOVED_CARD in the [<cite><a class="bibref" data-link-type="biblio" href="#bib-pcsc5" title="Interoperability Specification for ICCs and Personal Computer Systems; Part 5. ICC Resource Manager Definition">PCSC5</a></cite>] spec.</dd>
          <dt><dfn data-export="" data-dfn-type="enum-value" id="dom-smartcardresponsecode-reset-card" data-idl="enum-value" data-title="reset-card" data-dfn-for="SmartCardResponseCode" tabindex="0" aria-haspopup="dialog"><code>reset-card</code></dfn></dt>
          <dd>SCARD_W_RESET_CARD in the [<cite><a class="bibref" data-link-type="biblio" href="#bib-pcsc5" title="Interoperability Specification for ICCs and Personal Computer Systems; Part 5. ICC Resource Manager Definition">PCSC5</a></cite>] spec.</dd>
          <dt><dfn data-export="" data-dfn-type="enum-value" id="dom-smartcardresponsecode-server-too-busy" data-idl="enum-value" data-title="server-too-busy" data-dfn-for="SmartCardResponseCode" tabindex="0" aria-haspopup="dialog"><code>server-too-busy</code></dfn></dt>
          <dd>The smart card resource manager is too busy to complete this operation.</dd>
          <dt><dfn data-export="" data-dfn-type="enum-value" id="dom-smartcardresponsecode-sharing-violation" data-idl="enum-value" data-title="sharing-violation" data-dfn-for="SmartCardResponseCode" tabindex="0" aria-haspopup="dialog"><code>sharing-violation</code></dfn></dt>
          <dd>SCARD_E_SHARING_VIOLATION in the [<cite><a class="bibref" data-link-type="biblio" href="#bib-pcsc5" title="Interoperability Specification for ICCs and Personal Computer Systems; Part 5. ICC Resource Manager Definition">PCSC5</a></cite>] spec.</dd>
          <dt><dfn data-export="" data-dfn-type="enum-value" id="dom-smartcardresponsecode-system-cancelled" data-idl="enum-value" data-title="system-cancelled" data-dfn-for="SmartCardResponseCode" tabindex="0" aria-haspopup="dialog"><code>system-cancelled</code></dfn></dt>
          <dd>SCARD_E_SYSTEM_CANCELLED in the [<cite><a class="bibref" data-link-type="biblio" href="#bib-pcsc5" title="Interoperability Specification for ICCs and Personal Computer Systems; Part 5. ICC Resource Manager Definition">PCSC5</a></cite>] spec.</dd>
          <dt><dfn data-export="" data-dfn-type="enum-value" id="dom-smartcardresponsecode-unknown-reader" data-idl="enum-value" data-title="unknown-reader" data-dfn-for="SmartCardResponseCode" tabindex="0" aria-haspopup="dialog"><code>unknown-reader</code></dfn></dt>
          <dd>SCARD_E_UNKNOWN_READER in the [<cite><a class="bibref" data-link-type="biblio" href="#bib-pcsc5" title="Interoperability Specification for ICCs and Personal Computer Systems; Part 5. ICC Resource Manager Definition">PCSC5</a></cite>] spec.</dd>
          <dt><dfn data-export="" data-dfn-type="enum-value" id="dom-smartcardresponsecode-unpowered-card" data-idl="enum-value" data-title="unpowered-card" data-dfn-for="SmartCardResponseCode" tabindex="0" aria-haspopup="dialog"><code>unpowered-card</code></dfn></dt>
          <dd>SCARD_W_UNPOWERED_CARD in the [<cite><a class="bibref" data-link-type="biblio" href="#bib-pcsc5" title="Interoperability Specification for ICCs and Personal Computer Systems; Part 5. ICC Resource Manager Definition">PCSC5</a></cite>] spec.</dd>
          <dt><dfn data-export="" data-dfn-type="enum-value" id="dom-smartcardresponsecode-unresponsive-card" data-idl="enum-value" data-title="unresponsive-card" data-dfn-for="SmartCardResponseCode" tabindex="0" aria-haspopup="dialog"><code>unresponsive-card</code></dfn></dt>
          <dd>SCARD_W_UNRESPONSIVE_CARD in the [<cite><a class="bibref" data-link-type="biblio" href="#bib-pcsc5" title="Interoperability Specification for ICCs and Personal Computer Systems; Part 5. ICC Resource Manager Definition">PCSC5</a></cite>] spec.</dd>
          <dt><dfn data-export="" data-dfn-type="enum-value" id="dom-smartcardresponsecode-unsupported-card" data-idl="enum-value" data-title="unsupported-card" data-dfn-for="SmartCardResponseCode" tabindex="0" aria-haspopup="dialog"><code>unsupported-card</code></dfn></dt>
          <dd>SCARD_W_UNSUPPORTED_CARD in the [<cite><a class="bibref" data-link-type="biblio" href="#bib-pcsc5" title="Interoperability Specification for ICCs and Personal Computer Systems; Part 5. ICC Resource Manager Definition">PCSC5</a></cite>] spec.</dd>
          <dt><dfn data-export="" data-dfn-type="enum-value" id="dom-smartcardresponsecode-unsupported-feature" data-idl="enum-value" data-title="unsupported-feature" data-dfn-for="SmartCardResponseCode" tabindex="0" aria-haspopup="dialog"><code>unsupported-feature</code></dfn></dt>
          <dd>SCARD_E_UNSUPPORTED_FEATURE in the [<cite><a class="bibref" data-link-type="biblio" href="#bib-pcsc5" title="Interoperability Specification for ICCs and Personal Computer Systems; Part 5. ICC Resource Manager Definition">PCSC5</a></cite>] spec.</dd>
        </dl>
      </section>
    </section>
    <section id="integrations"><div class="header-wrapper"><h2 id="x7-integrations"><bdi class="secno">7. </bdi>Integrations</h2><a class="self-link" href="#integrations" aria-label="Permalink for Section 7."></a></div>
      

      <section id="permissions-policy"><div class="header-wrapper"><h3 id="x7-1-permissions-policy"><bdi class="secno">7.1 </bdi>Permissions Policy</h3><a class="self-link" href="#permissions-policy" aria-label="Permalink for Section 7.1"></a></div>
        

        <p>This specification defines a feature that controls whether the
        methods exposed by the <a data-link-type="idl" href="#dom-navigator-smartcard" class="internalDFN" id="ref-for-dom-navigator-smartcard-4"><code>smartCard</code></a> attribute on the
        <a data-link-type="idl" data-lt="Navigator" data-type="interface" href="https://html.spec.whatwg.org/multipage/system-state.html#navigator"><code>Navigator</code></a> object may be used.</p>

        <p>The feature name for this feature is
        "<dfn data-dfn-for="policy-controlled feature" id="dfn-smart-card" tabindex="0" aria-haspopup="dialog" data-dfn-type="dfn">smart-card</dfn>".</p>

        <p>The <a data-link-type="dfn|abstract-op" data-type="dfn" href="https://www.w3.org/TR/permissions-policy-1/#policy-controlled-feature-default-allowlist">default allowlist</a> for this feature
        is <code>'self'</code>.</p>
      </section>
    </section>
    <section id="conformance"><div class="header-wrapper"><h2 id="x8-conformance"><bdi class="secno">8. </bdi>Conformance</h2><a class="self-link" href="#conformance" aria-label="Permalink for Section 8."></a></div><p>As well as sections marked as non-normative, all authoring guidelines, diagrams, examples, and notes in this specification are non-normative. Everything else in this specification is normative.</p>
      
    </section>
  

<section id="references" class="appendix"><div class="header-wrapper"><h2 id="a-references"><bdi class="secno">A. </bdi>References</h2><a class="self-link" href="#references" aria-label="Permalink for Appendix A."></a></div><section id="normative-references"><div class="header-wrapper"><h3 id="a-1-normative-references"><bdi class="secno">A.1 </bdi>Normative references</h3><a class="self-link" href="#normative-references" aria-label="Permalink for Appendix A.1"></a></div>
    
    <dl class="bibliography"><dt id="bib-dom">[dom]</dt><dd>
      <a href="https://dom.spec.whatwg.org/"><cite>DOM Standard</cite></a>. Anne van Kesteren.  WHATWG. Living Standard. URL: <a href="https://dom.spec.whatwg.org/">https://dom.spec.whatwg.org/</a>
    </dd><dt id="bib-hr-time-3">[hr-time-3]</dt><dd>
      <a href="https://www.w3.org/TR/hr-time-3/"><cite>High Resolution Time</cite></a>. Yoav Weiss.  W3C. 19 July 2023. W3C Working Draft. URL: <a href="https://www.w3.org/TR/hr-time-3/">https://www.w3.org/TR/hr-time-3/</a>
    </dd><dt id="bib-html">[html]</dt><dd>
      <a href="https://html.spec.whatwg.org/multipage/"><cite>HTML Standard</cite></a>. Anne van Kesteren; Domenic Denicola; Ian Hickson; Philip Jägenstedt; Simon Pieters.  WHATWG. Living Standard. URL: <a href="https://html.spec.whatwg.org/multipage/">https://html.spec.whatwg.org/multipage/</a>
    </dd><dt id="bib-infra">[infra]</dt><dd>
      <a href="https://infra.spec.whatwg.org/"><cite>Infra Standard</cite></a>. Anne van Kesteren; Domenic Denicola.  WHATWG. Living Standard. URL: <a href="https://infra.spec.whatwg.org/">https://infra.spec.whatwg.org/</a>
    </dd><dt id="bib-iso7186-3">[ISO7186-3]</dt><dd>
      <a href="https://www.iso.org/standard/38770.html"><cite>Identification cards - Integrated circuit cards; Part 3: Cards with contacts - Electrical interface and transmission protocols</cite></a>.  ISO/IEC. 1 November 2006. Published. URL: <a href="https://www.iso.org/standard/38770.html">https://www.iso.org/standard/38770.html</a>
    </dd><dt id="bib-pcsc5">[PCSC5]</dt><dd>
      <a href="https://pcscworkgroup.com/Download/Specifications/pcsc5_v2.01.01.pdf"><cite>Interoperability Specification for ICCs and Personal Computer Systems; Part 5. ICC Resource Manager Definition</cite></a>.  PC/SC Workgroup. 30 September 2005. Published. URL: <a href="https://pcscworkgroup.com/Download/Specifications/pcsc5_v2.01.01.pdf">https://pcscworkgroup.com/Download/Specifications/pcsc5_v2.01.01.pdf</a>
    </dd><dt id="bib-permissions-policy">[permissions-policy]</dt><dd>
      <a href="https://www.w3.org/TR/permissions-policy-1/"><cite>Permissions Policy</cite></a>. Ian Clelland.  W3C. 17 July 2023. W3C Working Draft. URL: <a href="https://www.w3.org/TR/permissions-policy-1/">https://www.w3.org/TR/permissions-policy-1/</a>
    </dd><dt id="bib-webidl">[WEBIDL]</dt><dd>
      <a href="https://webidl.spec.whatwg.org/"><cite>Web IDL Standard</cite></a>. Edgar Chen; Timothy Gu.  WHATWG. Living Standard. URL: <a href="https://webidl.spec.whatwg.org/">https://webidl.spec.whatwg.org/</a>
    </dd></dl>
  </section></section><p role="navigation" id="back-to-top">
    <a href="#title"><abbr title="Back to Top">↑</abbr></a>
  </p><div class="dfn-panel" hidden="" role="dialog" aria-modal="true" id="dfn-panel-for-dom-navigator-smartcard" aria-label="Links in this document to definition: smartCard">
      <span class="caret"></span>
      <div>
        <a class="self-link" href="#dom-navigator-smartcard" aria-label="Permalink for definition: smartCard. Activate to close this dialog.">Permalink</a>
        <span class="marker dfn-exported" title="Definition can be referenced by other specifications">exported</span> <a class="marker idl-block" title="Jump to IDL declaration" href="#webidl-189720844">IDL</a>
      </div>
      <p><b>Referenced in:</b></p>
      <ul>
    <li>
      <a href="#ref-for-dom-navigator-smartcard-1" title="§ 1. Extensions to the Navigator interface">§ 1. Extensions to the Navigator interface</a> 
    </li><li>
      <a href="#ref-for-dom-navigator-smartcard-2" title="§ 1.1 smartCard attribute">§ 1.1 smartCard attribute</a> 
    </li><li>
      <a href="#ref-for-dom-navigator-smartcard-3" title="§ 2.1 smartCard attribute">§ 2.1 smartCard attribute</a> 
    </li><li>
      <a href="#ref-for-dom-navigator-smartcard-4" title="§ 7.1 Permissions Policy">§ 7.1 Permissions Policy</a> 
    </li>
  </ul>
    </div><div class="dfn-panel" hidden="" role="dialog" aria-modal="true" id="dfn-panel-for-dom-workernavigator-smartcard" aria-label="Links in this document to definition: smartCard">
      <span class="caret"></span>
      <div>
        <a class="self-link" href="#dom-workernavigator-smartcard" aria-label="Permalink for definition: smartCard. Activate to close this dialog.">Permalink</a>
        <span class="marker dfn-exported" title="Definition can be referenced by other specifications">exported</span> <a class="marker idl-block" title="Jump to IDL declaration" href="#webidl-1770504677">IDL</a>
      </div>
      <p><b>Referenced in:</b></p>
      <ul>
    <li>
      <a href="#ref-for-dom-workernavigator-smartcard-1" title="§ 2. Extensions to the WorkerNavigator interface">§ 2. Extensions to the WorkerNavigator interface</a> 
    </li>
  </ul>
    </div><div class="dfn-panel" hidden="" role="dialog" aria-modal="true" id="dfn-panel-for-dom-smartcardresourcemanager" aria-label="Links in this document to definition: SmartCardResourceManager">
      <span class="caret"></span>
      <div>
        <a class="self-link" href="#dom-smartcardresourcemanager" aria-label="Permalink for definition: SmartCardResourceManager. Activate to close this dialog.">Permalink</a>
        <span class="marker dfn-exported" title="Definition can be referenced by other specifications">exported</span> <a class="marker idl-block" title="Jump to IDL declaration" href="#webidl-786097493">IDL</a>
      </div>
      <p><b>Referenced in:</b></p>
      <ul>
    <li>
      <a href="#ref-for-dom-smartcardresourcemanager-1" title="§ 1. Extensions to the Navigator interface">§ 1. Extensions to the Navigator interface</a> 
    </li><li>
      <a href="#ref-for-dom-smartcardresourcemanager-2" title="§ 1.1 smartCard attribute">§ 1.1 smartCard attribute</a> 
    </li><li>
      <a href="#ref-for-dom-smartcardresourcemanager-3" title="§ 2. Extensions to the WorkerNavigator interface">§ 2. Extensions to the WorkerNavigator interface</a> 
    </li><li>
      <a href="#ref-for-dom-smartcardresourcemanager-4" title="§ 2.1 smartCard attribute">§ 2.1 smartCard attribute</a> 
    </li><li>
      <a href="#ref-for-dom-smartcardresourcemanager-5" title="§ 3. SmartCardResourceManager interface">§ 3. SmartCardResourceManager interface</a> 
    </li>
  </ul>
    </div><div class="dfn-panel" hidden="" role="dialog" aria-modal="true" id="dfn-panel-for-dfn-smart-card-task-source" aria-label="Links in this document to definition: smart card task source">
      <span class="caret"></span>
      <div>
        <a class="self-link" href="#dfn-smart-card-task-source" aria-label="Permalink for definition: smart card task source. Activate to close this dialog.">Permalink</a>
         
      </div>
      <p><b>Referenced in:</b></p>
      <ul>
    <li>
      <a href="#ref-for-dfn-smart-card-task-source-1" title="§ 3.1 establishContext() method">§ 3.1 establishContext() method</a> <a href="#ref-for-dfn-smart-card-task-source-2" title="Reference 2">(2)</a> 
    </li><li>
      <a href="#ref-for-dfn-smart-card-task-source-3" title="§ 4.1 listReaders() method">§ 4.1 listReaders() method</a> 
    </li><li>
      <a href="#ref-for-dfn-smart-card-task-source-4" title="§ 4.2 getStatusChange() method">§ 4.2 getStatusChange() method</a> 
    </li><li>
      <a href="#ref-for-dfn-smart-card-task-source-5" title="§ 4.3 connect() method">§ 4.3 connect() method</a> 
    </li><li>
      <a href="#ref-for-dfn-smart-card-task-source-6" title="§ 5.1 disconnect() method">§ 5.1 disconnect() method</a> 
    </li><li>
      <a href="#ref-for-dfn-smart-card-task-source-7" title="§ 5.2 transmit() method">§ 5.2 transmit() method</a> 
    </li><li>
      <a href="#ref-for-dfn-smart-card-task-source-8" title="§ 5.3 startTransaction() method">§ 5.3 startTransaction() method</a> 
    </li><li>
      <a href="#ref-for-dfn-smart-card-task-source-9" title="§ 5.3.2 Auxiliary algorithms and definitions">§ 5.3.2 Auxiliary algorithms and definitions</a> 
    </li><li>
      <a href="#ref-for-dfn-smart-card-task-source-10" title="§ 5.4 status() method">§ 5.4 status() method</a> 
    </li>
  </ul>
    </div><div class="dfn-panel" hidden="" role="dialog" aria-modal="true" id="dfn-panel-for-dom-smartcardresourcemanager-establishcontext" aria-label="Links in this document to definition: establishContext()">
      <span class="caret"></span>
      <div>
        <a class="self-link" href="#dom-smartcardresourcemanager-establishcontext" aria-label="Permalink for definition: establishContext(). Activate to close this dialog.">Permalink</a>
        <span class="marker dfn-exported" title="Definition can be referenced by other specifications">exported</span> <a class="marker idl-block" title="Jump to IDL declaration" href="#webidl-786097493">IDL</a>
      </div>
      <p><b>Referenced in:</b></p>
      <ul>
    <li>
      <a href="#ref-for-dom-smartcardresourcemanager-establishcontext-1" title="§ 3. SmartCardResourceManager interface">§ 3. SmartCardResourceManager interface</a> 
    </li><li>
      <a href="#ref-for-dom-smartcardresourcemanager-establishcontext-2" title="§ 3.1 establishContext() method">§ 3.1 establishContext() method</a> 
    </li>
  </ul>
    </div><div class="dfn-panel" hidden="" role="dialog" aria-modal="true" id="dfn-panel-for-dom-smartcardcontext" aria-label="Links in this document to definition: SmartCardContext">
      <span class="caret"></span>
      <div>
        <a class="self-link" href="#dom-smartcardcontext" aria-label="Permalink for definition: SmartCardContext. Activate to close this dialog.">Permalink</a>
        <span class="marker dfn-exported" title="Definition can be referenced by other specifications">exported</span> <a class="marker idl-block" title="Jump to IDL declaration" href="#webidl-1022524311">IDL</a>
      </div>
      <p><b>Referenced in:</b></p>
      <ul>
    <li>
      <a href="#ref-for-dom-smartcardcontext-1" title="§ 3. SmartCardResourceManager interface">§ 3. SmartCardResourceManager interface</a> 
    </li><li>
      <a href="#ref-for-dom-smartcardcontext-2" title="§ 3.1 establishContext() method">§ 3.1 establishContext() method</a> 
    </li><li>
      <a href="#ref-for-dom-smartcardcontext-3" title="§ 4. SmartCardContext interface">§ 4. SmartCardContext interface</a> <a href="#ref-for-dom-smartcardcontext-4" title="Reference 2">(2)</a> 
    </li><li>
      <a href="#ref-for-dom-smartcardcontext-5" title="§ 4.4 Auxiliary algorithms and definitions">§ 4.4 Auxiliary algorithms and definitions</a> 
    </li><li>
      <a href="#ref-for-dom-smartcardcontext-6" title="§ 5. SmartCardConnection interface">§ 5. SmartCardConnection interface</a> 
    </li>
  </ul>
    </div><div class="dfn-panel" hidden="" role="dialog" aria-modal="true" id="dfn-panel-for-dfn-resourcemanager" aria-label="Links in this document to definition: [[resourceManager]]">
      <span class="caret"></span>
      <div>
        <a class="self-link" href="#dfn-resourcemanager" aria-label="Permalink for definition: [[resourceManager]]. Activate to close this dialog.">Permalink</a>
         
      </div>
      <p><b>Referenced in:</b></p>
      <ul>
    <li>
      <a href="#ref-for-dfn-resourcemanager-1" title="§ 3.1 establishContext() method">§ 3.1 establishContext() method</a> 
    </li><li>
      <a href="#ref-for-dfn-resourcemanager-2" title="§ 4.1 listReaders() method">§ 4.1 listReaders() method</a> 
    </li><li>
      <a href="#ref-for-dfn-resourcemanager-3" title="§ 4.2 getStatusChange() method">§ 4.2 getStatusChange() method</a> 
    </li><li>
      <a href="#ref-for-dfn-resourcemanager-4" title="§ 4.3 connect() method">§ 4.3 connect() method</a> 
    </li>
  </ul>
    </div><div class="dfn-panel" hidden="" role="dialog" aria-modal="true" id="dfn-panel-for-dfn-operationinprogress" aria-label="Links in this document to definition: [[operationInProgress]]">
      <span class="caret"></span>
      <div>
        <a class="self-link" href="#dfn-operationinprogress" aria-label="Permalink for definition: [[operationInProgress]]. Activate to close this dialog.">Permalink</a>
         
      </div>
      <p><b>Referenced in:</b></p>
      <ul>
    <li>
      <a href="#ref-for-dfn-operationinprogress-1" title="§ 4.1 listReaders() method">§ 4.1 listReaders() method</a> <a href="#ref-for-dfn-operationinprogress-2" title="Reference 2">(2)</a> 
    </li><li>
      <a href="#ref-for-dfn-operationinprogress-3" title="§ 4.2 getStatusChange() method">§ 4.2 getStatusChange() method</a> <a href="#ref-for-dfn-operationinprogress-4" title="Reference 2">(2)</a> 
    </li><li>
      <a href="#ref-for-dfn-operationinprogress-5" title="§ 4.3 connect() method">§ 4.3 connect() method</a> <a href="#ref-for-dfn-operationinprogress-6" title="Reference 2">(2)</a> 
    </li><li>
      <a href="#ref-for-dfn-operationinprogress-7" title="§ 4.4 Auxiliary algorithms and definitions">§ 4.4 Auxiliary algorithms and definitions</a> <a href="#ref-for-dfn-operationinprogress-8" title="Reference 2">(2)</a> <a href="#ref-for-dfn-operationinprogress-9" title="Reference 3">(3)</a> 
    </li><li>
      <a href="#ref-for-dfn-operationinprogress-10" title="§ 5.1 disconnect() method">§ 5.1 disconnect() method</a> <a href="#ref-for-dfn-operationinprogress-11" title="Reference 2">(2)</a> 
    </li><li>
      <a href="#ref-for-dfn-operationinprogress-12" title="§ 5.2 transmit() method">§ 5.2 transmit() method</a> <a href="#ref-for-dfn-operationinprogress-13" title="Reference 2">(2)</a> 
    </li><li>
      <a href="#ref-for-dfn-operationinprogress-14" title="§ 5.3 startTransaction() method">§ 5.3 startTransaction() method</a> <a href="#ref-for-dfn-operationinprogress-15" title="Reference 2">(2)</a> 
    </li><li>
      <a href="#ref-for-dfn-operationinprogress-16" title="§ 5.3.2 Auxiliary algorithms and definitions">§ 5.3.2 Auxiliary algorithms and definitions</a> <a href="#ref-for-dfn-operationinprogress-17" title="Reference 2">(2)</a> <a href="#ref-for-dfn-operationinprogress-18" title="Reference 3">(3)</a> <a href="#ref-for-dfn-operationinprogress-19" title="Reference 4">(4)</a> 
    </li><li>
      <a href="#ref-for-dfn-operationinprogress-20" title="§ 5.4 status() method">§ 5.4 status() method</a> <a href="#ref-for-dfn-operationinprogress-21" title="Reference 2">(2)</a> 
    </li>
  </ul>
    </div><div class="dfn-panel" hidden="" role="dialog" aria-modal="true" id="dfn-panel-for-dfn-connections" aria-label="Links in this document to definition: [[connections]]">
      <span class="caret"></span>
      <div>
        <a class="self-link" href="#dfn-connections" aria-label="Permalink for definition: [[connections]]. Activate to close this dialog.">Permalink</a>
         
      </div>
      <p><b>Referenced in:</b></p>
      <ul>
    <li>
      <a href="#ref-for-dfn-connections-1" title="§ 4.3 connect() method">§ 4.3 connect() method</a> 
    </li><li>
      <a href="#ref-for-dfn-connections-2" title="§ 4.4 Auxiliary algorithms and definitions">§ 4.4 Auxiliary algorithms and definitions</a> 
    </li>
  </ul>
    </div><div class="dfn-panel" hidden="" role="dialog" aria-modal="true" id="dfn-panel-for-dfn-tracker" aria-label="Links in this document to definition: [[tracker]]">
      <span class="caret"></span>
      <div>
        <a class="self-link" href="#dfn-tracker" aria-label="Permalink for definition: [[tracker]]. Activate to close this dialog.">Permalink</a>
         
      </div>
      <p><b>Referenced in:</b></p>
      <ul>
    <li>
      <a href="#ref-for-dfn-tracker-1" title="§ 4.2 getStatusChange() method">§ 4.2 getStatusChange() method</a> <a href="#ref-for-dfn-tracker-2" title="Reference 2">(2)</a> <a href="#ref-for-dfn-tracker-3" title="Reference 3">(3)</a> 
    </li><li>
      <a href="#ref-for-dfn-tracker-4" title="§ 4.4 Auxiliary algorithms and definitions">§ 4.4 Auxiliary algorithms and definitions</a> 
    </li>
  </ul>
    </div><div class="dfn-panel" hidden="" role="dialog" aria-modal="true" id="dfn-panel-for-dfn-signal" aria-label="Links in this document to definition: [[signal]]">
      <span class="caret"></span>
      <div>
        <a class="self-link" href="#dfn-signal" aria-label="Permalink for definition: [[signal]]. Activate to close this dialog.">Permalink</a>
         
      </div>
      <p><b>Referenced in:</b></p>
      <ul>
    <li>
      <a href="#ref-for-dfn-signal-1" title="§ 4.2 getStatusChange() method">§ 4.2 getStatusChange() method</a> <a href="#ref-for-dfn-signal-2" title="Reference 2">(2)</a> <a href="#ref-for-dfn-signal-3" title="Reference 3">(3)</a> <a href="#ref-for-dfn-signal-4" title="Reference 4">(4)</a> <a href="#ref-for-dfn-signal-5" title="Reference 5">(5)</a> <a href="#ref-for-dfn-signal-6" title="Reference 6">(6)</a> 
    </li>
  </ul>
    </div><div class="dfn-panel" hidden="" role="dialog" aria-modal="true" id="dfn-panel-for-dom-smartcardcontext-listreaders" aria-label="Links in this document to definition: listReaders()">
      <span class="caret"></span>
      <div>
        <a class="self-link" href="#dom-smartcardcontext-listreaders" aria-label="Permalink for definition: listReaders(). Activate to close this dialog.">Permalink</a>
        <span class="marker dfn-exported" title="Definition can be referenced by other specifications">exported</span> <a class="marker idl-block" title="Jump to IDL declaration" href="#webidl-1022524311">IDL</a>
      </div>
      <p><b>Referenced in:</b></p>
      <ul>
    <li>
      <a href="#ref-for-dom-smartcardcontext-listreaders-1" title="§ 4. SmartCardContext interface">§ 4. SmartCardContext interface</a> 
    </li><li>
      <a href="#ref-for-dom-smartcardcontext-listreaders-2" title="§ 4.1 listReaders() method">§ 4.1 listReaders() method</a> 
    </li>
  </ul>
    </div><div class="dfn-panel" hidden="" role="dialog" aria-modal="true" id="dfn-panel-for-dom-smartcardcontext-getstatuschange" aria-label="Links in this document to definition: getStatusChange()">
      <span class="caret"></span>
      <div>
        <a class="self-link" href="#dom-smartcardcontext-getstatuschange" aria-label="Permalink for definition: getStatusChange(). Activate to close this dialog.">Permalink</a>
        <span class="marker dfn-exported" title="Definition can be referenced by other specifications">exported</span> <a class="marker idl-block" title="Jump to IDL declaration" href="#webidl-1022524311">IDL</a>
      </div>
      <p><b>Referenced in:</b></p>
      <ul>
    <li>
      <a href="#ref-for-dom-smartcardcontext-getstatuschange-1" title="§ 4. SmartCardContext interface">§ 4. SmartCardContext interface</a> <a href="#ref-for-dom-smartcardcontext-getstatuschange-2" title="Reference 2">(2)</a> 
    </li><li>
      <a href="#ref-for-dom-smartcardcontext-getstatuschange-3" title="§ 4.2 getStatusChange() method">§ 4.2 getStatusChange() method</a> 
    </li>
  </ul>
    </div><div class="dfn-panel" hidden="" role="dialog" aria-modal="true" id="dfn-panel-for-dom-smartcardreaderstatein" aria-label="Links in this document to definition: SmartCardReaderStateIn">
      <span class="caret"></span>
      <div>
        <a class="self-link" href="#dom-smartcardreaderstatein" aria-label="Permalink for definition: SmartCardReaderStateIn. Activate to close this dialog.">Permalink</a>
        <span class="marker dfn-exported" title="Definition can be referenced by other specifications">exported</span> <a class="marker idl-block" title="Jump to IDL declaration" href="#webidl-1648599769">IDL</a>
      </div>
      <p><b>Referenced in:</b></p>
      <ul>
    <li>
      <a href="#ref-for-dom-smartcardreaderstatein-1" title="§ 4. SmartCardContext interface">§ 4. SmartCardContext interface</a> 
    </li><li>
      <a href="#ref-for-dom-smartcardreaderstatein-2" title="§ 4.2.1 SmartCardReaderStateIn dictionary">§ 4.2.1 SmartCardReaderStateIn dictionary</a> <a href="#ref-for-dom-smartcardreaderstatein-3" title="Reference 2">(2)</a> 
    </li>
  </ul>
    </div><div class="dfn-panel" hidden="" role="dialog" aria-modal="true" id="dfn-panel-for-dom-smartcardreaderstatein-readername" aria-label="Links in this document to definition: readerName">
      <span class="caret"></span>
      <div>
        <a class="self-link" href="#dom-smartcardreaderstatein-readername" aria-label="Permalink for definition: readerName. Activate to close this dialog.">Permalink</a>
        <span class="marker dfn-exported" title="Definition can be referenced by other specifications">exported</span> <a class="marker idl-block" title="Jump to IDL declaration" href="#webidl-1648599769">IDL</a>
      </div>
      <p><b>Referenced in:</b></p>
      <ul>
    <li>
      <a href="#ref-for-dom-smartcardreaderstatein-readername-1" title="§ 4.2.1 SmartCardReaderStateIn dictionary">§ 4.2.1 SmartCardReaderStateIn dictionary</a> <a href="#ref-for-dom-smartcardreaderstatein-readername-2" title="Reference 2">(2)</a> 
    </li>
  </ul>
    </div><div class="dfn-panel" hidden="" role="dialog" aria-modal="true" id="dfn-panel-for-dom-smartcardreaderstatein-currentstate" aria-label="Links in this document to definition: currentState">
      <span class="caret"></span>
      <div>
        <a class="self-link" href="#dom-smartcardreaderstatein-currentstate" aria-label="Permalink for definition: currentState. Activate to close this dialog.">Permalink</a>
        <span class="marker dfn-exported" title="Definition can be referenced by other specifications">exported</span> <a class="marker idl-block" title="Jump to IDL declaration" href="#webidl-1648599769">IDL</a>
      </div>
      <p><b>Referenced in:</b></p>
      <ul>
    <li>
      <a href="#ref-for-dom-smartcardreaderstatein-currentstate-1" title="§ 4.2.1 SmartCardReaderStateIn dictionary">§ 4.2.1 SmartCardReaderStateIn dictionary</a> <a href="#ref-for-dom-smartcardreaderstatein-currentstate-2" title="Reference 2">(2)</a> 
    </li>
  </ul>
    </div><div class="dfn-panel" hidden="" role="dialog" aria-modal="true" id="dfn-panel-for-dom-smartcardreaderstatein-currentcount" aria-label="Links in this document to definition: currentCount">
      <span class="caret"></span>
      <div>
        <a class="self-link" href="#dom-smartcardreaderstatein-currentcount" aria-label="Permalink for definition: currentCount. Activate to close this dialog.">Permalink</a>
        <span class="marker dfn-exported" title="Definition can be referenced by other specifications">exported</span> <a class="marker idl-block" title="Jump to IDL declaration" href="#webidl-1648599769">IDL</a>
      </div>
      <p><b>Referenced in:</b></p>
      <ul>
    <li>
      <a href="#ref-for-dom-smartcardreaderstatein-currentcount-1" title="§ 4.2.1 SmartCardReaderStateIn dictionary">§ 4.2.1 SmartCardReaderStateIn dictionary</a> <a href="#ref-for-dom-smartcardreaderstatein-currentcount-2" title="Reference 2">(2)</a> 
    </li>
  </ul>
    </div><div class="dfn-panel" hidden="" role="dialog" aria-modal="true" id="dfn-panel-for-dfn-corresponding" aria-label="Links in this document to definition: corresponding">
      <span class="caret"></span>
      <div>
        <a class="self-link" href="#dfn-corresponding" aria-label="Permalink for definition: corresponding. Activate to close this dialog.">Permalink</a>
         
      </div>
      <p><b>Referenced in:</b></p>
      <ul>
    <li>
      <a href="#ref-for-dfn-corresponding-1" title="§ 4.2 getStatusChange() method">§ 4.2 getStatusChange() method</a> 
    </li>
  </ul>
    </div><div class="dfn-panel" hidden="" role="dialog" aria-modal="true" id="dfn-panel-for-dom-smartcardreaderstateflagsin" aria-label="Links in this document to definition: SmartCardReaderStateFlagsIn">
      <span class="caret"></span>
      <div>
        <a class="self-link" href="#dom-smartcardreaderstateflagsin" aria-label="Permalink for definition: SmartCardReaderStateFlagsIn. Activate to close this dialog.">Permalink</a>
        <span class="marker dfn-exported" title="Definition can be referenced by other specifications">exported</span> <a class="marker idl-block" title="Jump to IDL declaration" href="#webidl-1383660250">IDL</a>
      </div>
      <p><b>Referenced in:</b></p>
      <ul>
    <li>
      <a href="#ref-for-dom-smartcardreaderstateflagsin-1" title="§ 4.2.1 SmartCardReaderStateIn dictionary">§ 4.2.1 SmartCardReaderStateIn dictionary</a> 
    </li><li>
      <a href="#ref-for-dom-smartcardreaderstateflagsin-2" title="§ 4.2.1.1 SmartCardReaderStateFlagsIn dictionary">§ 4.2.1.1 SmartCardReaderStateFlagsIn dictionary</a> <a href="#ref-for-dom-smartcardreaderstateflagsin-3" title="Reference 2">(2)</a> <a href="#ref-for-dom-smartcardreaderstateflagsin-4" title="Reference 3">(3)</a> 
    </li>
  </ul>
    </div><div class="dfn-panel" hidden="" role="dialog" aria-modal="true" id="dfn-panel-for-dom-smartcardreaderstateflagsin-unaware" aria-label="Links in this document to definition: unaware">
      <span class="caret"></span>
      <div>
        <a class="self-link" href="#dom-smartcardreaderstateflagsin-unaware" aria-label="Permalink for definition: unaware. Activate to close this dialog.">Permalink</a>
        <span class="marker dfn-exported" title="Definition can be referenced by other specifications">exported</span> <a class="marker idl-block" title="Jump to IDL declaration" href="#webidl-1383660250">IDL</a>
      </div>
      <p><b>Referenced in:</b></p>
      <ul>
    <li>
      <a href="#ref-for-dom-smartcardreaderstateflagsin-unaware-1" title="§ 4.2.1.1 SmartCardReaderStateFlagsIn dictionary">§ 4.2.1.1 SmartCardReaderStateFlagsIn dictionary</a> <a href="#ref-for-dom-smartcardreaderstateflagsin-unaware-2" title="Reference 2">(2)</a> 
    </li>
  </ul>
    </div><div class="dfn-panel" hidden="" role="dialog" aria-modal="true" id="dfn-panel-for-dom-smartcardreaderstateflagsin-ignore" aria-label="Links in this document to definition: ignore">
      <span class="caret"></span>
      <div>
        <a class="self-link" href="#dom-smartcardreaderstateflagsin-ignore" aria-label="Permalink for definition: ignore. Activate to close this dialog.">Permalink</a>
        <span class="marker dfn-exported" title="Definition can be referenced by other specifications">exported</span> <a class="marker idl-block" title="Jump to IDL declaration" href="#webidl-1383660250">IDL</a>
      </div>
      <p><b>Referenced in:</b></p>
      <ul>
    <li>
      <a href="#ref-for-dom-smartcardreaderstateflagsin-ignore-1" title="§ 4.2.1.1 SmartCardReaderStateFlagsIn dictionary">§ 4.2.1.1 SmartCardReaderStateFlagsIn dictionary</a> <a href="#ref-for-dom-smartcardreaderstateflagsin-ignore-2" title="Reference 2">(2)</a> 
    </li>
  </ul>
    </div><div class="dfn-panel" hidden="" role="dialog" aria-modal="true" id="dfn-panel-for-dom-smartcardreaderstateflagsin-unavailable" aria-label="Links in this document to definition: unavailable">
      <span class="caret"></span>
      <div>
        <a class="self-link" href="#dom-smartcardreaderstateflagsin-unavailable" aria-label="Permalink for definition: unavailable. Activate to close this dialog.">Permalink</a>
        <span class="marker dfn-exported" title="Definition can be referenced by other specifications">exported</span> <a class="marker idl-block" title="Jump to IDL declaration" href="#webidl-1383660250">IDL</a>
      </div>
      <p><b>Referenced in:</b></p>
      <ul>
    <li>
      <a href="#ref-for-dom-smartcardreaderstateflagsin-unavailable-1" title="§ 4.2.1.1 SmartCardReaderStateFlagsIn dictionary">§ 4.2.1.1 SmartCardReaderStateFlagsIn dictionary</a> <a href="#ref-for-dom-smartcardreaderstateflagsin-unavailable-2" title="Reference 2">(2)</a> 
    </li>
  </ul>
    </div><div class="dfn-panel" hidden="" role="dialog" aria-modal="true" id="dfn-panel-for-dom-smartcardreaderstateflagsin-empty" aria-label="Links in this document to definition: empty">
      <span class="caret"></span>
      <div>
        <a class="self-link" href="#dom-smartcardreaderstateflagsin-empty" aria-label="Permalink for definition: empty. Activate to close this dialog.">Permalink</a>
        <span class="marker dfn-exported" title="Definition can be referenced by other specifications">exported</span> <a class="marker idl-block" title="Jump to IDL declaration" href="#webidl-1383660250">IDL</a>
      </div>
      <p><b>Referenced in:</b></p>
      <ul>
    <li>
      <a href="#ref-for-dom-smartcardreaderstateflagsin-empty-1" title="§ 4.2.1.1 SmartCardReaderStateFlagsIn dictionary">§ 4.2.1.1 SmartCardReaderStateFlagsIn dictionary</a> <a href="#ref-for-dom-smartcardreaderstateflagsin-empty-2" title="Reference 2">(2)</a> 
    </li>
  </ul>
    </div><div class="dfn-panel" hidden="" role="dialog" aria-modal="true" id="dfn-panel-for-dom-smartcardreaderstateflagsin-present" aria-label="Links in this document to definition: present">
      <span class="caret"></span>
      <div>
        <a class="self-link" href="#dom-smartcardreaderstateflagsin-present" aria-label="Permalink for definition: present. Activate to close this dialog.">Permalink</a>
        <span class="marker dfn-exported" title="Definition can be referenced by other specifications">exported</span> <a class="marker idl-block" title="Jump to IDL declaration" href="#webidl-1383660250">IDL</a>
      </div>
      <p><b>Referenced in:</b></p>
      <ul>
    <li>
      <a href="#ref-for-dom-smartcardreaderstateflagsin-present-1" title="§ 4.2.1.1 SmartCardReaderStateFlagsIn dictionary">§ 4.2.1.1 SmartCardReaderStateFlagsIn dictionary</a> <a href="#ref-for-dom-smartcardreaderstateflagsin-present-2" title="Reference 2">(2)</a> 
    </li>
  </ul>
    </div><div class="dfn-panel" hidden="" role="dialog" aria-modal="true" id="dfn-panel-for-dom-smartcardreaderstateflagsin-exclusive" aria-label="Links in this document to definition: exclusive">
      <span class="caret"></span>
      <div>
        <a class="self-link" href="#dom-smartcardreaderstateflagsin-exclusive" aria-label="Permalink for definition: exclusive. Activate to close this dialog.">Permalink</a>
        <span class="marker dfn-exported" title="Definition can be referenced by other specifications">exported</span> <a class="marker idl-block" title="Jump to IDL declaration" href="#webidl-1383660250">IDL</a>
      </div>
      <p><b>Referenced in:</b></p>
      <ul>
    <li>
      <a href="#ref-for-dom-smartcardreaderstateflagsin-exclusive-1" title="§ 4.2.1.1 SmartCardReaderStateFlagsIn dictionary">§ 4.2.1.1 SmartCardReaderStateFlagsIn dictionary</a> <a href="#ref-for-dom-smartcardreaderstateflagsin-exclusive-2" title="Reference 2">(2)</a> 
    </li>
  </ul>
    </div><div class="dfn-panel" hidden="" role="dialog" aria-modal="true" id="dfn-panel-for-dom-smartcardreaderstateflagsin-inuse" aria-label="Links in this document to definition: inuse">
      <span class="caret"></span>
      <div>
        <a class="self-link" href="#dom-smartcardreaderstateflagsin-inuse" aria-label="Permalink for definition: inuse. Activate to close this dialog.">Permalink</a>
        <span class="marker dfn-exported" title="Definition can be referenced by other specifications">exported</span> <a class="marker idl-block" title="Jump to IDL declaration" href="#webidl-1383660250">IDL</a>
      </div>
      <p><b>Referenced in:</b></p>
      <ul>
    <li>
      <a href="#ref-for-dom-smartcardreaderstateflagsin-inuse-1" title="§ 4.2.1.1 SmartCardReaderStateFlagsIn dictionary">§ 4.2.1.1 SmartCardReaderStateFlagsIn dictionary</a> <a href="#ref-for-dom-smartcardreaderstateflagsin-inuse-2" title="Reference 2">(2)</a> 
    </li>
  </ul>
    </div><div class="dfn-panel" hidden="" role="dialog" aria-modal="true" id="dfn-panel-for-dom-smartcardreaderstateflagsin-mute" aria-label="Links in this document to definition: mute">
      <span class="caret"></span>
      <div>
        <a class="self-link" href="#dom-smartcardreaderstateflagsin-mute" aria-label="Permalink for definition: mute. Activate to close this dialog.">Permalink</a>
        <span class="marker dfn-exported" title="Definition can be referenced by other specifications">exported</span> <a class="marker idl-block" title="Jump to IDL declaration" href="#webidl-1383660250">IDL</a>
      </div>
      <p><b>Referenced in:</b></p>
      <ul>
    <li>
      <a href="#ref-for-dom-smartcardreaderstateflagsin-mute-1" title="§ 4.2.1.1 SmartCardReaderStateFlagsIn dictionary">§ 4.2.1.1 SmartCardReaderStateFlagsIn dictionary</a> <a href="#ref-for-dom-smartcardreaderstateflagsin-mute-2" title="Reference 2">(2)</a> 
    </li>
  </ul>
    </div><div class="dfn-panel" hidden="" role="dialog" aria-modal="true" id="dfn-panel-for-dfn-corresponding-0" aria-label="Links in this document to definition: corresponding">
      <span class="caret"></span>
      <div>
        <a class="self-link" href="#dfn-corresponding-0" aria-label="Permalink for definition: corresponding. Activate to close this dialog.">Permalink</a>
         
      </div>
      <p><b>Referenced in:</b></p>
      <ul>
    <li>
      <a href="#ref-for-dfn-corresponding-0-1" title="§ 4.2.1 SmartCardReaderStateIn dictionary">§ 4.2.1 SmartCardReaderStateIn dictionary</a> 
    </li>
  </ul>
    </div><div class="dfn-panel" hidden="" role="dialog" aria-modal="true" id="dfn-panel-for-dom-smartcardreaderstateout" aria-label="Links in this document to definition: SmartCardReaderStateOut">
      <span class="caret"></span>
      <div>
        <a class="self-link" href="#dom-smartcardreaderstateout" aria-label="Permalink for definition: SmartCardReaderStateOut. Activate to close this dialog.">Permalink</a>
        <span class="marker dfn-exported" title="Definition can be referenced by other specifications">exported</span> <a class="marker idl-block" title="Jump to IDL declaration" href="#webidl-889475000">IDL</a>
      </div>
      <p><b>Referenced in:</b></p>
      <ul>
    <li>
      <a href="#ref-for-dom-smartcardreaderstateout-1" title="§ 4. SmartCardContext interface">§ 4. SmartCardContext interface</a> 
    </li><li>
      <a href="#ref-for-dom-smartcardreaderstateout-2" title="§ 4.2 getStatusChange() method">§ 4.2 getStatusChange() method</a> 
    </li><li>
      <a href="#ref-for-dom-smartcardreaderstateout-3" title="§ 4.2.2 SmartCardReaderStateOut dictionary">§ 4.2.2 SmartCardReaderStateOut dictionary</a> <a href="#ref-for-dom-smartcardreaderstateout-4" title="Reference 2">(2)</a> <a href="#ref-for-dom-smartcardreaderstateout-5" title="Reference 3">(3)</a> <a href="#ref-for-dom-smartcardreaderstateout-6" title="Reference 4">(4)</a> 
    </li>
  </ul>
    </div><div class="dfn-panel" hidden="" role="dialog" aria-modal="true" id="dfn-panel-for-dom-smartcardreaderstateout-readername" aria-label="Links in this document to definition: readerName">
      <span class="caret"></span>
      <div>
        <a class="self-link" href="#dom-smartcardreaderstateout-readername" aria-label="Permalink for definition: readerName. Activate to close this dialog.">Permalink</a>
        <span class="marker dfn-exported" title="Definition can be referenced by other specifications">exported</span> <a class="marker idl-block" title="Jump to IDL declaration" href="#webidl-889475000">IDL</a>
      </div>
      <p><b>Referenced in:</b></p>
      <ul>
    <li>
      <a href="#ref-for-dom-smartcardreaderstateout-readername-1" title="§ 4.2.2 SmartCardReaderStateOut dictionary">§ 4.2.2 SmartCardReaderStateOut dictionary</a> <a href="#ref-for-dom-smartcardreaderstateout-readername-2" title="Reference 2">(2)</a> 
    </li>
  </ul>
    </div><div class="dfn-panel" hidden="" role="dialog" aria-modal="true" id="dfn-panel-for-dom-smartcardreaderstateout-eventstate" aria-label="Links in this document to definition: eventState">
      <span class="caret"></span>
      <div>
        <a class="self-link" href="#dom-smartcardreaderstateout-eventstate" aria-label="Permalink for definition: eventState. Activate to close this dialog.">Permalink</a>
        <span class="marker dfn-exported" title="Definition can be referenced by other specifications">exported</span> <a class="marker idl-block" title="Jump to IDL declaration" href="#webidl-889475000">IDL</a>
      </div>
      <p><b>Referenced in:</b></p>
      <ul>
    <li>
      <a href="#ref-for-dom-smartcardreaderstateout-eventstate-1" title="§ 4.2.2 SmartCardReaderStateOut dictionary">§ 4.2.2 SmartCardReaderStateOut dictionary</a> <a href="#ref-for-dom-smartcardreaderstateout-eventstate-2" title="Reference 2">(2)</a> 
    </li>
  </ul>
    </div><div class="dfn-panel" hidden="" role="dialog" aria-modal="true" id="dfn-panel-for-dom-smartcardreaderstateout-eventcount" aria-label="Links in this document to definition: eventCount">
      <span class="caret"></span>
      <div>
        <a class="self-link" href="#dom-smartcardreaderstateout-eventcount" aria-label="Permalink for definition: eventCount. Activate to close this dialog.">Permalink</a>
        <span class="marker dfn-exported" title="Definition can be referenced by other specifications">exported</span> <a class="marker idl-block" title="Jump to IDL declaration" href="#webidl-889475000">IDL</a>
      </div>
      <p><b>Referenced in:</b></p>
      <ul>
    <li>
      <a href="#ref-for-dom-smartcardreaderstateout-eventcount-1" title="§ 4.2.2 SmartCardReaderStateOut dictionary">§ 4.2.2 SmartCardReaderStateOut dictionary</a> <a href="#ref-for-dom-smartcardreaderstateout-eventcount-2" title="Reference 2">(2)</a> <a href="#ref-for-dom-smartcardreaderstateout-eventcount-3" title="Reference 3">(3)</a> 
    </li>
  </ul>
    </div><div class="dfn-panel" hidden="" role="dialog" aria-modal="true" id="dfn-panel-for-dom-smartcardreaderstateout-answertoreset" aria-label="Links in this document to definition: answerToReset">
      <span class="caret"></span>
      <div>
        <a class="self-link" href="#dom-smartcardreaderstateout-answertoreset" aria-label="Permalink for definition: answerToReset. Activate to close this dialog.">Permalink</a>
        <span class="marker dfn-exported" title="Definition can be referenced by other specifications">exported</span> <a class="marker idl-block" title="Jump to IDL declaration" href="#webidl-889475000">IDL</a>
      </div>
      <p><b>Referenced in:</b></p>
      <ul>
    <li>
      <a href="#ref-for-dom-smartcardreaderstateout-answertoreset-1" title="§ 4.2.2 SmartCardReaderStateOut dictionary">§ 4.2.2 SmartCardReaderStateOut dictionary</a> <a href="#ref-for-dom-smartcardreaderstateout-answertoreset-2" title="Reference 2">(2)</a> 
    </li>
  </ul>
    </div><div class="dfn-panel" hidden="" role="dialog" aria-modal="true" id="dfn-panel-for-dfn-corresponding-1" aria-label="Links in this document to definition: corresponding">
      <span class="caret"></span>
      <div>
        <a class="self-link" href="#dfn-corresponding-1" aria-label="Permalink for definition: corresponding. Activate to close this dialog.">Permalink</a>
         
      </div>
      <p><b>Referenced in:</b></p>
      <ul>
    <li>
      <a href="#ref-for-dfn-corresponding-1-1" title="§ 4.2 getStatusChange() method">§ 4.2 getStatusChange() method</a> 
    </li>
  </ul>
    </div><div class="dfn-panel" hidden="" role="dialog" aria-modal="true" id="dfn-panel-for-dom-smartcardreaderstateflagsout" aria-label="Links in this document to definition: SmartCardReaderStateFlagsOut">
      <span class="caret"></span>
      <div>
        <a class="self-link" href="#dom-smartcardreaderstateflagsout" aria-label="Permalink for definition: SmartCardReaderStateFlagsOut. Activate to close this dialog.">Permalink</a>
        <span class="marker dfn-exported" title="Definition can be referenced by other specifications">exported</span> <a class="marker idl-block" title="Jump to IDL declaration" href="#webidl-1736043475">IDL</a>
      </div>
      <p><b>Referenced in:</b></p>
      <ul>
    <li>
      <a href="#ref-for-dom-smartcardreaderstateflagsout-1" title="§ 4.2.2 SmartCardReaderStateOut dictionary">§ 4.2.2 SmartCardReaderStateOut dictionary</a> <a href="#ref-for-dom-smartcardreaderstateflagsout-2" title="Reference 2">(2)</a> 
    </li><li>
      <a href="#ref-for-dom-smartcardreaderstateflagsout-3" title="§ 4.2.2.1 SmartCardReaderStateFlagsOut dictionary">§ 4.2.2.1 SmartCardReaderStateFlagsOut dictionary</a> <a href="#ref-for-dom-smartcardreaderstateflagsout-4" title="Reference 2">(2)</a> <a href="#ref-for-dom-smartcardreaderstateflagsout-5" title="Reference 3">(3)</a> 
    </li>
  </ul>
    </div><div class="dfn-panel" hidden="" role="dialog" aria-modal="true" id="dfn-panel-for-dom-smartcardreaderstateflagsout-ignore" aria-label="Links in this document to definition: ignore">
      <span class="caret"></span>
      <div>
        <a class="self-link" href="#dom-smartcardreaderstateflagsout-ignore" aria-label="Permalink for definition: ignore. Activate to close this dialog.">Permalink</a>
        <span class="marker dfn-exported" title="Definition can be referenced by other specifications">exported</span> <a class="marker idl-block" title="Jump to IDL declaration" href="#webidl-1736043475">IDL</a>
      </div>
      <p><b>Referenced in:</b></p>
      <ul>
    <li>
      <a href="#ref-for-dom-smartcardreaderstateflagsout-ignore-1" title="§ 4.2.2.1 SmartCardReaderStateFlagsOut dictionary">§ 4.2.2.1 SmartCardReaderStateFlagsOut dictionary</a> <a href="#ref-for-dom-smartcardreaderstateflagsout-ignore-2" title="Reference 2">(2)</a> 
    </li>
  </ul>
    </div><div class="dfn-panel" hidden="" role="dialog" aria-modal="true" id="dfn-panel-for-dom-smartcardreaderstateflagsout-changed" aria-label="Links in this document to definition: changed">
      <span class="caret"></span>
      <div>
        <a class="self-link" href="#dom-smartcardreaderstateflagsout-changed" aria-label="Permalink for definition: changed. Activate to close this dialog.">Permalink</a>
        <span class="marker dfn-exported" title="Definition can be referenced by other specifications">exported</span> <a class="marker idl-block" title="Jump to IDL declaration" href="#webidl-1736043475">IDL</a>
      </div>
      <p><b>Referenced in:</b></p>
      <ul>
    <li>
      <a href="#ref-for-dom-smartcardreaderstateflagsout-changed-1" title="§ 4.2.2.1 SmartCardReaderStateFlagsOut dictionary">§ 4.2.2.1 SmartCardReaderStateFlagsOut dictionary</a> <a href="#ref-for-dom-smartcardreaderstateflagsout-changed-2" title="Reference 2">(2)</a> 
    </li>
  </ul>
    </div><div class="dfn-panel" hidden="" role="dialog" aria-modal="true" id="dfn-panel-for-dom-smartcardreaderstateflagsout-unavailable" aria-label="Links in this document to definition: unavailable">
      <span class="caret"></span>
      <div>
        <a class="self-link" href="#dom-smartcardreaderstateflagsout-unavailable" aria-label="Permalink for definition: unavailable. Activate to close this dialog.">Permalink</a>
        <span class="marker dfn-exported" title="Definition can be referenced by other specifications">exported</span> <a class="marker idl-block" title="Jump to IDL declaration" href="#webidl-1736043475">IDL</a>
      </div>
      <p><b>Referenced in:</b></p>
      <ul>
    <li>
      <a href="#ref-for-dom-smartcardreaderstateflagsout-unavailable-1" title="§ 4.2.2.1 SmartCardReaderStateFlagsOut dictionary">§ 4.2.2.1 SmartCardReaderStateFlagsOut dictionary</a> <a href="#ref-for-dom-smartcardreaderstateflagsout-unavailable-2" title="Reference 2">(2)</a> 
    </li>
  </ul>
    </div><div class="dfn-panel" hidden="" role="dialog" aria-modal="true" id="dfn-panel-for-dom-smartcardreaderstateflagsout-unknown" aria-label="Links in this document to definition: unknown">
      <span class="caret"></span>
      <div>
        <a class="self-link" href="#dom-smartcardreaderstateflagsout-unknown" aria-label="Permalink for definition: unknown. Activate to close this dialog.">Permalink</a>
        <span class="marker dfn-exported" title="Definition can be referenced by other specifications">exported</span> <a class="marker idl-block" title="Jump to IDL declaration" href="#webidl-1736043475">IDL</a>
      </div>
      <p><b>Referenced in:</b></p>
      <ul>
    <li>
      <a href="#ref-for-dom-smartcardreaderstateflagsout-unknown-1" title="§ 4.2.2.1 SmartCardReaderStateFlagsOut dictionary">§ 4.2.2.1 SmartCardReaderStateFlagsOut dictionary</a> <a href="#ref-for-dom-smartcardreaderstateflagsout-unknown-2" title="Reference 2">(2)</a> 
    </li>
  </ul>
    </div><div class="dfn-panel" hidden="" role="dialog" aria-modal="true" id="dfn-panel-for-dom-smartcardreaderstateflagsout-empty" aria-label="Links in this document to definition: empty">
      <span class="caret"></span>
      <div>
        <a class="self-link" href="#dom-smartcardreaderstateflagsout-empty" aria-label="Permalink for definition: empty. Activate to close this dialog.">Permalink</a>
        <span class="marker dfn-exported" title="Definition can be referenced by other specifications">exported</span> <a class="marker idl-block" title="Jump to IDL declaration" href="#webidl-1736043475">IDL</a>
      </div>
      <p><b>Referenced in:</b></p>
      <ul>
    <li>
      <a href="#ref-for-dom-smartcardreaderstateflagsout-empty-1" title="§ 4.2.2.1 SmartCardReaderStateFlagsOut dictionary">§ 4.2.2.1 SmartCardReaderStateFlagsOut dictionary</a> <a href="#ref-for-dom-smartcardreaderstateflagsout-empty-2" title="Reference 2">(2)</a> 
    </li>
  </ul>
    </div><div class="dfn-panel" hidden="" role="dialog" aria-modal="true" id="dfn-panel-for-dom-smartcardreaderstateflagsout-present" aria-label="Links in this document to definition: present">
      <span class="caret"></span>
      <div>
        <a class="self-link" href="#dom-smartcardreaderstateflagsout-present" aria-label="Permalink for definition: present. Activate to close this dialog.">Permalink</a>
        <span class="marker dfn-exported" title="Definition can be referenced by other specifications">exported</span> <a class="marker idl-block" title="Jump to IDL declaration" href="#webidl-1736043475">IDL</a>
      </div>
      <p><b>Referenced in:</b></p>
      <ul>
    <li>
      <a href="#ref-for-dom-smartcardreaderstateflagsout-present-1" title="§ 4.2.2.1 SmartCardReaderStateFlagsOut dictionary">§ 4.2.2.1 SmartCardReaderStateFlagsOut dictionary</a> <a href="#ref-for-dom-smartcardreaderstateflagsout-present-2" title="Reference 2">(2)</a> 
    </li>
  </ul>
    </div><div class="dfn-panel" hidden="" role="dialog" aria-modal="true" id="dfn-panel-for-dom-smartcardreaderstateflagsout-exclusive" aria-label="Links in this document to definition: exclusive">
      <span class="caret"></span>
      <div>
        <a class="self-link" href="#dom-smartcardreaderstateflagsout-exclusive" aria-label="Permalink for definition: exclusive. Activate to close this dialog.">Permalink</a>
        <span class="marker dfn-exported" title="Definition can be referenced by other specifications">exported</span> <a class="marker idl-block" title="Jump to IDL declaration" href="#webidl-1736043475">IDL</a>
      </div>
      <p><b>Referenced in:</b></p>
      <ul>
    <li>
      <a href="#ref-for-dom-smartcardreaderstateflagsout-exclusive-1" title="§ 4.2.2.1 SmartCardReaderStateFlagsOut dictionary">§ 4.2.2.1 SmartCardReaderStateFlagsOut dictionary</a> <a href="#ref-for-dom-smartcardreaderstateflagsout-exclusive-2" title="Reference 2">(2)</a> 
    </li>
  </ul>
    </div><div class="dfn-panel" hidden="" role="dialog" aria-modal="true" id="dfn-panel-for-dom-smartcardreaderstateflagsout-inuse" aria-label="Links in this document to definition: inuse">
      <span class="caret"></span>
      <div>
        <a class="self-link" href="#dom-smartcardreaderstateflagsout-inuse" aria-label="Permalink for definition: inuse. Activate to close this dialog.">Permalink</a>
        <span class="marker dfn-exported" title="Definition can be referenced by other specifications">exported</span> <a class="marker idl-block" title="Jump to IDL declaration" href="#webidl-1736043475">IDL</a>
      </div>
      <p><b>Referenced in:</b></p>
      <ul>
    <li>
      <a href="#ref-for-dom-smartcardreaderstateflagsout-inuse-1" title="§ 4.2.2.1 SmartCardReaderStateFlagsOut dictionary">§ 4.2.2.1 SmartCardReaderStateFlagsOut dictionary</a> <a href="#ref-for-dom-smartcardreaderstateflagsout-inuse-2" title="Reference 2">(2)</a> 
    </li>
  </ul>
    </div><div class="dfn-panel" hidden="" role="dialog" aria-modal="true" id="dfn-panel-for-dom-smartcardreaderstateflagsout-mute" aria-label="Links in this document to definition: mute">
      <span class="caret"></span>
      <div>
        <a class="self-link" href="#dom-smartcardreaderstateflagsout-mute" aria-label="Permalink for definition: mute. Activate to close this dialog.">Permalink</a>
        <span class="marker dfn-exported" title="Definition can be referenced by other specifications">exported</span> <a class="marker idl-block" title="Jump to IDL declaration" href="#webidl-1736043475">IDL</a>
      </div>
      <p><b>Referenced in:</b></p>
      <ul>
    <li>
      <a href="#ref-for-dom-smartcardreaderstateflagsout-mute-1" title="§ 4.2.2.1 SmartCardReaderStateFlagsOut dictionary">§ 4.2.2.1 SmartCardReaderStateFlagsOut dictionary</a> <a href="#ref-for-dom-smartcardreaderstateflagsout-mute-2" title="Reference 2">(2)</a> 
    </li>
  </ul>
    </div><div class="dfn-panel" hidden="" role="dialog" aria-modal="true" id="dfn-panel-for-dfn-corresponding-2" aria-label="Links in this document to definition: corresponding">
      <span class="caret"></span>
      <div>
        <a class="self-link" href="#dfn-corresponding-2" aria-label="Permalink for definition: corresponding. Activate to close this dialog.">Permalink</a>
         
      </div>
      <p><b>Referenced in:</b></p>
      <ul>
    <li>
      <a href="#ref-for-dfn-corresponding-2-1" title="§ 4.2.2 SmartCardReaderStateOut dictionary">§ 4.2.2 SmartCardReaderStateOut dictionary</a> 
    </li>
  </ul>
    </div><div class="dfn-panel" hidden="" role="dialog" aria-modal="true" id="dfn-panel-for-dom-smartcardgetstatuschangeoptions" aria-label="Links in this document to definition: SmartCardGetStatusChangeOptions">
      <span class="caret"></span>
      <div>
        <a class="self-link" href="#dom-smartcardgetstatuschangeoptions" aria-label="Permalink for definition: SmartCardGetStatusChangeOptions. Activate to close this dialog.">Permalink</a>
        <span class="marker dfn-exported" title="Definition can be referenced by other specifications">exported</span> <a class="marker idl-block" title="Jump to IDL declaration" href="#webidl-837952189">IDL</a>
      </div>
      <p><b>Referenced in:</b></p>
      <ul>
    <li>
      <a href="#ref-for-dom-smartcardgetstatuschangeoptions-1" title="§ 4. SmartCardContext interface">§ 4. SmartCardContext interface</a> 
    </li><li>
      <a href="#ref-for-dom-smartcardgetstatuschangeoptions-2" title="§ 4.2.3 SmartCardGetStatusChangeOptions dictionary">§ 4.2.3 SmartCardGetStatusChangeOptions dictionary</a> 
    </li>
  </ul>
    </div><div class="dfn-panel" hidden="" role="dialog" aria-modal="true" id="dfn-panel-for-dom-smartcardgetstatuschangeoptions-timeout" aria-label="Links in this document to definition: timeout">
      <span class="caret"></span>
      <div>
        <a class="self-link" href="#dom-smartcardgetstatuschangeoptions-timeout" aria-label="Permalink for definition: timeout. Activate to close this dialog.">Permalink</a>
        <span class="marker dfn-exported" title="Definition can be referenced by other specifications">exported</span> <a class="marker idl-block" title="Jump to IDL declaration" href="#webidl-837952189">IDL</a>
      </div>
      <p><b>Referenced in:</b></p>
      <ul>
    <li>
      <a href="#ref-for-dom-smartcardgetstatuschangeoptions-timeout-1" title="§ 4.2 getStatusChange() method">§ 4.2 getStatusChange() method</a> <a href="#ref-for-dom-smartcardgetstatuschangeoptions-timeout-2" title="Reference 2">(2)</a> 
    </li><li>
      <a href="#ref-for-dom-smartcardgetstatuschangeoptions-timeout-3" title="§ 4.2.3 SmartCardGetStatusChangeOptions dictionary">§ 4.2.3 SmartCardGetStatusChangeOptions dictionary</a> 
    </li>
  </ul>
    </div><div class="dfn-panel" hidden="" role="dialog" aria-modal="true" id="dfn-panel-for-dom-smartcardgetstatuschangeoptions-signal" aria-label="Links in this document to definition: signal">
      <span class="caret"></span>
      <div>
        <a class="self-link" href="#dom-smartcardgetstatuschangeoptions-signal" aria-label="Permalink for definition: signal. Activate to close this dialog.">Permalink</a>
        <span class="marker dfn-exported" title="Definition can be referenced by other specifications">exported</span> <a class="marker idl-block" title="Jump to IDL declaration" href="#webidl-837952189">IDL</a>
      </div>
      <p><b>Referenced in:</b></p>
      <ul>
    <li>
      <a href="#ref-for-dom-smartcardgetstatuschangeoptions-signal-1" title="§ 4.2 getStatusChange() method">§ 4.2 getStatusChange() method</a> <a href="#ref-for-dom-smartcardgetstatuschangeoptions-signal-2" title="Reference 2">(2)</a> 
    </li><li>
      <a href="#ref-for-dom-smartcardgetstatuschangeoptions-signal-3" title="§ 4.2.3 SmartCardGetStatusChangeOptions dictionary">§ 4.2.3 SmartCardGetStatusChangeOptions dictionary</a> 
    </li>
  </ul>
    </div><div class="dfn-panel" hidden="" role="dialog" aria-modal="true" id="dfn-panel-for-dom-smartcardcontext-connect" aria-label="Links in this document to definition: connect()">
      <span class="caret"></span>
      <div>
        <a class="self-link" href="#dom-smartcardcontext-connect" aria-label="Permalink for definition: connect(). Activate to close this dialog.">Permalink</a>
        <span class="marker dfn-exported" title="Definition can be referenced by other specifications">exported</span> <a class="marker idl-block" title="Jump to IDL declaration" href="#webidl-1022524311">IDL</a>
      </div>
      <p><b>Referenced in:</b></p>
      <ul>
    <li>
      <a href="#ref-for-dom-smartcardcontext-connect-1" title="§ 4. SmartCardContext interface">§ 4. SmartCardContext interface</a> 
    </li><li>
      <a href="#ref-for-dom-smartcardcontext-connect-2" title="§ 4.3 connect() method">§ 4.3 connect() method</a> 
    </li>
  </ul>
    </div><div class="dfn-panel" hidden="" role="dialog" aria-modal="true" id="dfn-panel-for-dom-smartcardprotocol" aria-label="Links in this document to definition: SmartCardProtocol">
      <span class="caret"></span>
      <div>
        <a class="self-link" href="#dom-smartcardprotocol" aria-label="Permalink for definition: SmartCardProtocol. Activate to close this dialog.">Permalink</a>
        <span class="marker dfn-exported" title="Definition can be referenced by other specifications">exported</span> <a class="marker idl-block" title="Jump to IDL declaration" href="#webidl-117544486">IDL</a>
      </div>
      <p><b>Referenced in:</b></p>
      <ul>
    <li>
      <a href="#ref-for-dom-smartcardprotocol-1" title="§ 4.3 connect() method">§ 4.3 connect() method</a> 
    </li><li>
      <a href="#ref-for-dom-smartcardprotocol-2" title="§ 4.3.1 SmartCardProtocol enum">§ 4.3.1 SmartCardProtocol enum</a> <a href="#ref-for-dom-smartcardprotocol-3" title="Reference 2">(2)</a> 
    </li><li>
      <a href="#ref-for-dom-smartcardprotocol-4" title="§ 4.3.2 SmartCardConnectResult dictionary">§ 4.3.2 SmartCardConnectResult dictionary</a> 
    </li><li>
      <a href="#ref-for-dom-smartcardprotocol-5" title="§ 4.3.4 SmartCardConnectOptions enum">§ 4.3.4 SmartCardConnectOptions enum</a> 
    </li><li>
      <a href="#ref-for-dom-smartcardprotocol-6" title="§ 5.2.1 SmartCardTransmitOptions dictionary">§ 5.2.1 SmartCardTransmitOptions dictionary</a> 
    </li>
  </ul>
    </div><div class="dfn-panel" hidden="" role="dialog" aria-modal="true" id="dfn-panel-for-dom-smartcardprotocol-raw" aria-label="Links in this document to definition: raw">
      <span class="caret"></span>
      <div>
        <a class="self-link" href="#dom-smartcardprotocol-raw" aria-label="Permalink for definition: raw. Activate to close this dialog.">Permalink</a>
        <span class="marker dfn-exported" title="Definition can be referenced by other specifications">exported</span> <a class="marker idl-block" title="Jump to IDL declaration" href="#webidl-117544486">IDL</a>
      </div>
      <p><b>Referenced in:</b></p>
      <ul>
    <li>
      <a href="#ref-for-dom-smartcardprotocol-raw-1" title="§ 4.3.1 SmartCardProtocol enum">§ 4.3.1 SmartCardProtocol enum</a> 
    </li>
  </ul>
    </div><div class="dfn-panel" hidden="" role="dialog" aria-modal="true" id="dfn-panel-for-dom-smartcardprotocol-t0" aria-label="Links in this document to definition: t0">
      <span class="caret"></span>
      <div>
        <a class="self-link" href="#dom-smartcardprotocol-t0" aria-label="Permalink for definition: t0. Activate to close this dialog.">Permalink</a>
        <span class="marker dfn-exported" title="Definition can be referenced by other specifications">exported</span> <a class="marker idl-block" title="Jump to IDL declaration" href="#webidl-117544486">IDL</a>
      </div>
      <p><b>Referenced in:</b></p>
      <ul>
    <li>
      <a href="#ref-for-dom-smartcardprotocol-t0-1" title="§ 4.3.1 SmartCardProtocol enum">§ 4.3.1 SmartCardProtocol enum</a> 
    </li>
  </ul>
    </div><div class="dfn-panel" hidden="" role="dialog" aria-modal="true" id="dfn-panel-for-dom-smartcardprotocol-t1" aria-label="Links in this document to definition: t1">
      <span class="caret"></span>
      <div>
        <a class="self-link" href="#dom-smartcardprotocol-t1" aria-label="Permalink for definition: t1. Activate to close this dialog.">Permalink</a>
        <span class="marker dfn-exported" title="Definition can be referenced by other specifications">exported</span> <a class="marker idl-block" title="Jump to IDL declaration" href="#webidl-117544486">IDL</a>
      </div>
      <p><b>Referenced in:</b></p>
      <ul>
    <li>
      <a href="#ref-for-dom-smartcardprotocol-t1-1" title="§ 4.3.1 SmartCardProtocol enum">§ 4.3.1 SmartCardProtocol enum</a> 
    </li>
  </ul>
    </div><div class="dfn-panel" hidden="" role="dialog" aria-modal="true" id="dfn-panel-for-dfn-valid-protocol-value" aria-label="Links in this document to definition: valid protocol value">
      <span class="caret"></span>
      <div>
        <a class="self-link" href="#dfn-valid-protocol-value" aria-label="Permalink for definition: valid protocol value. Activate to close this dialog.">Permalink</a>
         
      </div>
      <p><b>Referenced in:</b></p>
      <ul>
    <li>
      <a href="#ref-for-dfn-valid-protocol-value-1" title="§ 4.3 connect() method">§ 4.3 connect() method</a> 
    </li><li>
      <a href="#ref-for-dfn-valid-protocol-value-2" title="§ 5.2 transmit() method">§ 5.2 transmit() method</a> 
    </li>
  </ul>
    </div><div class="dfn-panel" hidden="" role="dialog" aria-modal="true" id="dfn-panel-for-dfn-corresponding-flags" aria-label="Links in this document to definition: corresponding flags">
      <span class="caret"></span>
      <div>
        <a class="self-link" href="#dfn-corresponding-flags" aria-label="Permalink for definition: corresponding flags. Activate to close this dialog.">Permalink</a>
         
      </div>
      <p><b>Referenced in:</b></p>
      <ul>
    <li>
      <a href="#ref-for-dfn-corresponding-flags-1" title="§ 4.3 connect() method">§ 4.3 connect() method</a> 
    </li>
  </ul>
    </div><div class="dfn-panel" hidden="" role="dialog" aria-modal="true" id="dfn-panel-for-dom-smartcardconnectresult" aria-label="Links in this document to definition: SmartCardConnectResult">
      <span class="caret"></span>
      <div>
        <a class="self-link" href="#dom-smartcardconnectresult" aria-label="Permalink for definition: SmartCardConnectResult. Activate to close this dialog.">Permalink</a>
        <span class="marker dfn-exported" title="Definition can be referenced by other specifications">exported</span> <a class="marker idl-block" title="Jump to IDL declaration" href="#webidl-1926512656">IDL</a>
      </div>
      <p><b>Referenced in:</b></p>
      <ul>
    <li>
      <a href="#ref-for-dom-smartcardconnectresult-1" title="§ 4. SmartCardContext interface">§ 4. SmartCardContext interface</a> 
    </li><li>
      <a href="#ref-for-dom-smartcardconnectresult-2" title="§ 4.3 connect() method">§ 4.3 connect() method</a> 
    </li><li>
      <a href="#ref-for-dom-smartcardconnectresult-3" title="§ 4.3.2 SmartCardConnectResult dictionary">§ 4.3.2 SmartCardConnectResult dictionary</a> 
    </li>
  </ul>
    </div><div class="dfn-panel" hidden="" role="dialog" aria-modal="true" id="dfn-panel-for-dom-smartcardconnectresult-connection" aria-label="Links in this document to definition: connection">
      <span class="caret"></span>
      <div>
        <a class="self-link" href="#dom-smartcardconnectresult-connection" aria-label="Permalink for definition: connection. Activate to close this dialog.">Permalink</a>
        <span class="marker dfn-exported" title="Definition can be referenced by other specifications">exported</span> <a class="marker idl-block" title="Jump to IDL declaration" href="#webidl-1926512656">IDL</a>
      </div>
      <p><b>Referenced in:</b></p>
      <ul>
    <li>
      <a href="#ref-for-dom-smartcardconnectresult-connection-1" title="§ 4.3 connect() method">§ 4.3 connect() method</a> 
    </li><li>
      <a href="#ref-for-dom-smartcardconnectresult-connection-2" title="§ 4.3.2 SmartCardConnectResult dictionary">§ 4.3.2 SmartCardConnectResult dictionary</a> 
    </li>
  </ul>
    </div><div class="dfn-panel" hidden="" role="dialog" aria-modal="true" id="dfn-panel-for-dom-smartcardconnectresult-activeprotocol" aria-label="Links in this document to definition: activeProtocol">
      <span class="caret"></span>
      <div>
        <a class="self-link" href="#dom-smartcardconnectresult-activeprotocol" aria-label="Permalink for definition: activeProtocol. Activate to close this dialog.">Permalink</a>
        <span class="marker dfn-exported" title="Definition can be referenced by other specifications">exported</span> <a class="marker idl-block" title="Jump to IDL declaration" href="#webidl-1926512656">IDL</a>
      </div>
      <p><b>Referenced in:</b></p>
      <ul>
    <li>
      <a href="#ref-for-dom-smartcardconnectresult-activeprotocol-1" title="§ 4.3 connect() method">§ 4.3 connect() method</a> 
    </li><li>
      <a href="#ref-for-dom-smartcardconnectresult-activeprotocol-2" title="§ 4.3.2 SmartCardConnectResult dictionary">§ 4.3.2 SmartCardConnectResult dictionary</a> 
    </li>
  </ul>
    </div><div class="dfn-panel" hidden="" role="dialog" aria-modal="true" id="dfn-panel-for-dom-smartcardaccessmode" aria-label="Links in this document to definition: SmartCardAccessMode">
      <span class="caret"></span>
      <div>
        <a class="self-link" href="#dom-smartcardaccessmode" aria-label="Permalink for definition: SmartCardAccessMode. Activate to close this dialog.">Permalink</a>
        <span class="marker dfn-exported" title="Definition can be referenced by other specifications">exported</span> <a class="marker idl-block" title="Jump to IDL declaration" href="#webidl-1539609472">IDL</a>
      </div>
      <p><b>Referenced in:</b></p>
      <ul>
    <li>
      <a href="#ref-for-dom-smartcardaccessmode-1" title="§ 4. SmartCardContext interface">§ 4. SmartCardContext interface</a> 
    </li><li>
      <a href="#ref-for-dom-smartcardaccessmode-2" title="§ 4.3.3 SmartCardAccessMode enum">§ 4.3.3 SmartCardAccessMode enum</a> <a href="#ref-for-dom-smartcardaccessmode-3" title="Reference 2">(2)</a> 
    </li>
  </ul>
    </div><div class="dfn-panel" hidden="" role="dialog" aria-modal="true" id="dfn-panel-for-dom-smartcardaccessmode-shared" aria-label="Links in this document to definition: shared">
      <span class="caret"></span>
      <div>
        <a class="self-link" href="#dom-smartcardaccessmode-shared" aria-label="Permalink for definition: shared. Activate to close this dialog.">Permalink</a>
        <span class="marker dfn-exported" title="Definition can be referenced by other specifications">exported</span> <a class="marker idl-block" title="Jump to IDL declaration" href="#webidl-1539609472">IDL</a>
      </div>
      <p><b>Referenced in:</b></p>
      <ul>
    <li>
      <a href="#ref-for-dom-smartcardaccessmode-shared-1" title="§ 4.3.3 SmartCardAccessMode enum">§ 4.3.3 SmartCardAccessMode enum</a> <a href="#ref-for-dom-smartcardaccessmode-shared-2" title="Reference 2">(2)</a> 
    </li>
  </ul>
    </div><div class="dfn-panel" hidden="" role="dialog" aria-modal="true" id="dfn-panel-for-dom-smartcardaccessmode-exclusive" aria-label="Links in this document to definition: exclusive">
      <span class="caret"></span>
      <div>
        <a class="self-link" href="#dom-smartcardaccessmode-exclusive" aria-label="Permalink for definition: exclusive. Activate to close this dialog.">Permalink</a>
        <span class="marker dfn-exported" title="Definition can be referenced by other specifications">exported</span> <a class="marker idl-block" title="Jump to IDL declaration" href="#webidl-1539609472">IDL</a>
      </div>
      <p><b>Referenced in:</b></p>
      <ul>
    <li>
      <a href="#ref-for-dom-smartcardaccessmode-exclusive-1" title="§ 4.3.3 SmartCardAccessMode enum">§ 4.3.3 SmartCardAccessMode enum</a> <a href="#ref-for-dom-smartcardaccessmode-exclusive-2" title="Reference 2">(2)</a> 
    </li>
  </ul>
    </div><div class="dfn-panel" hidden="" role="dialog" aria-modal="true" id="dfn-panel-for-dom-smartcardaccessmode-direct" aria-label="Links in this document to definition: direct">
      <span class="caret"></span>
      <div>
        <a class="self-link" href="#dom-smartcardaccessmode-direct" aria-label="Permalink for definition: direct. Activate to close this dialog.">Permalink</a>
        <span class="marker dfn-exported" title="Definition can be referenced by other specifications">exported</span> <a class="marker idl-block" title="Jump to IDL declaration" href="#webidl-1539609472">IDL</a>
      </div>
      <p><b>Referenced in:</b></p>
      <ul>
    <li>
      <a href="#ref-for-dom-smartcardaccessmode-direct-1" title="§ 4.3.3 SmartCardAccessMode enum">§ 4.3.3 SmartCardAccessMode enum</a> <a href="#ref-for-dom-smartcardaccessmode-direct-2" title="Reference 2">(2)</a> 
    </li>
  </ul>
    </div><div class="dfn-panel" hidden="" role="dialog" aria-modal="true" id="dfn-panel-for-dfn-corresponding-3" aria-label="Links in this document to definition: corresponding">
      <span class="caret"></span>
      <div>
        <a class="self-link" href="#dfn-corresponding-3" aria-label="Permalink for definition: corresponding. Activate to close this dialog.">Permalink</a>
         
      </div>
      <p><b>Referenced in:</b></p>
      <ul>
    <li>
      <a href="#ref-for-dfn-corresponding-3-1" title="§ 4.3 connect() method">§ 4.3 connect() method</a> 
    </li>
  </ul>
    </div><div class="dfn-panel" hidden="" role="dialog" aria-modal="true" id="dfn-panel-for-dom-smartcardconnectoptions" aria-label="Links in this document to definition: SmartCardConnectOptions">
      <span class="caret"></span>
      <div>
        <a class="self-link" href="#dom-smartcardconnectoptions" aria-label="Permalink for definition: SmartCardConnectOptions. Activate to close this dialog.">Permalink</a>
        <span class="marker dfn-exported" title="Definition can be referenced by other specifications">exported</span> <a class="marker idl-block" title="Jump to IDL declaration" href="#webidl-1051047671">IDL</a>
      </div>
      <p><b>Referenced in:</b></p>
      <ul>
    <li>
      <a href="#ref-for-dom-smartcardconnectoptions-1" title="§ 4. SmartCardContext interface">§ 4. SmartCardContext interface</a> 
    </li><li>
      <a href="#ref-for-dom-smartcardconnectoptions-2" title="§ 4.3.4 SmartCardConnectOptions enum">§ 4.3.4 SmartCardConnectOptions enum</a> 
    </li>
  </ul>
    </div><div class="dfn-panel" hidden="" role="dialog" aria-modal="true" id="dfn-panel-for-dom-smartcardconnectoptions-preferredprotocols" aria-label="Links in this document to definition: preferredProtocols">
      <span class="caret"></span>
      <div>
        <a class="self-link" href="#dom-smartcardconnectoptions-preferredprotocols" aria-label="Permalink for definition: preferredProtocols. Activate to close this dialog.">Permalink</a>
        <span class="marker dfn-exported" title="Definition can be referenced by other specifications">exported</span> <a class="marker idl-block" title="Jump to IDL declaration" href="#webidl-1051047671">IDL</a>
      </div>
      <p><b>Referenced in:</b></p>
      <ul>
    <li>
      <a href="#ref-for-dom-smartcardconnectoptions-preferredprotocols-1" title="§ 4.3 connect() method">§ 4.3 connect() method</a> 
    </li><li>
      <a href="#ref-for-dom-smartcardconnectoptions-preferredprotocols-2" title="§ 4.3.4 SmartCardConnectOptions enum">§ 4.3.4 SmartCardConnectOptions enum</a> 
    </li>
  </ul>
    </div><div class="dfn-panel" hidden="" role="dialog" aria-modal="true" id="dfn-panel-for-dfn-clear-the-operationinprogress" aria-label="Links in this document to definition: clear the operationInProgress">
      <span class="caret"></span>
      <div>
        <a class="self-link" href="#dfn-clear-the-operationinprogress" aria-label="Permalink for definition: clear the operationInProgress. Activate to close this dialog.">Permalink</a>
         
      </div>
      <p><b>Referenced in:</b></p>
      <ul>
    <li>
      <a href="#ref-for-dfn-clear-the-operationinprogress-1" title="§ 4.1 listReaders() method">§ 4.1 listReaders() method</a> 
    </li><li>
      <a href="#ref-for-dfn-clear-the-operationinprogress-2" title="§ 4.2 getStatusChange() method">§ 4.2 getStatusChange() method</a> 
    </li><li>
      <a href="#ref-for-dfn-clear-the-operationinprogress-3" title="§ 4.3 connect() method">§ 4.3 connect() method</a> 
    </li><li>
      <a href="#ref-for-dfn-clear-the-operationinprogress-4" title="§ 5.1 disconnect() method">§ 5.1 disconnect() method</a> 
    </li><li>
      <a href="#ref-for-dfn-clear-the-operationinprogress-5" title="§ 5.2 transmit() method">§ 5.2 transmit() method</a> 
    </li><li>
      <a href="#ref-for-dfn-clear-the-operationinprogress-6" title="§ 5.3.2 Auxiliary algorithms and definitions">§ 5.3.2 Auxiliary algorithms and definitions</a> <a href="#ref-for-dfn-clear-the-operationinprogress-7" title="Reference 2">(2)</a> 
    </li><li>
      <a href="#ref-for-dfn-clear-the-operationinprogress-8" title="§ 5.4 status() method">§ 5.4 status() method</a> 
    </li>
  </ul>
    </div><div class="dfn-panel" hidden="" role="dialog" aria-modal="true" id="dfn-panel-for-dfn-cancel-the-outstanding-getstatuschange" aria-label="Links in this document to definition: cancel the outstanding GetStatusChange">
      <span class="caret"></span>
      <div>
        <a class="self-link" href="#dfn-cancel-the-outstanding-getstatuschange" aria-label="Permalink for definition: cancel the outstanding GetStatusChange. Activate to close this dialog.">Permalink</a>
         
      </div>
      <p><b>Referenced in:</b></p>
      <ul>
    <li>
      <a href="#ref-for-dfn-cancel-the-outstanding-getstatuschange-1" title="§ 4.2 getStatusChange() method">§ 4.2 getStatusChange() method</a> <a href="#ref-for-dfn-cancel-the-outstanding-getstatuschange-2" title="Reference 2">(2)</a> 
    </li>
  </ul>
    </div><div class="dfn-panel" hidden="" role="dialog" aria-modal="true" id="dfn-panel-for-dfn-high-word" aria-label="Links in this document to definition: high word">
      <span class="caret"></span>
      <div>
        <a class="self-link" href="#dfn-high-word" aria-label="Permalink for definition: high word. Activate to close this dialog.">Permalink</a>
         
      </div>
      <p><b>Referenced in:</b></p>
      <ul>
    <li>
      <a href="#ref-for-dfn-high-word-1" title="§ 4.2.2 SmartCardReaderStateOut dictionary">§ 4.2.2 SmartCardReaderStateOut dictionary</a> 
    </li>
  </ul>
    </div><div class="dfn-panel" hidden="" role="dialog" aria-modal="true" id="dfn-panel-for-dfn-set-the-high-word" aria-label="Links in this document to definition: set the high word">
      <span class="caret"></span>
      <div>
        <a class="self-link" href="#dfn-set-the-high-word" aria-label="Permalink for definition: set the high word. Activate to close this dialog.">Permalink</a>
         
      </div>
      <p><b>Referenced in:</b></p>
      <ul>
    <li>
      <a href="#ref-for-dfn-set-the-high-word-1" title="§ 4.2.1 SmartCardReaderStateIn dictionary">§ 4.2.1 SmartCardReaderStateIn dictionary</a> 
    </li>
  </ul>
    </div><div class="dfn-panel" hidden="" role="dialog" aria-modal="true" id="dfn-panel-for-dfn-add-a-flag" aria-label="Links in this document to definition: add a flag">
      <span class="caret"></span>
      <div>
        <a class="self-link" href="#dfn-add-a-flag" aria-label="Permalink for definition: add a flag. Activate to close this dialog.">Permalink</a>
         
      </div>
      <p><b>Referenced in:</b></p>
      <ul>
    <li>
      <a href="#ref-for-dfn-add-a-flag-1" title="§ 4.2.1.1 SmartCardReaderStateFlagsIn dictionary">§ 4.2.1.1 SmartCardReaderStateFlagsIn dictionary</a> <a href="#ref-for-dfn-add-a-flag-2" title="Reference 2">(2)</a> <a href="#ref-for-dfn-add-a-flag-3" title="Reference 3">(3)</a> <a href="#ref-for-dfn-add-a-flag-4" title="Reference 4">(4)</a> <a href="#ref-for-dfn-add-a-flag-5" title="Reference 5">(5)</a> <a href="#ref-for-dfn-add-a-flag-6" title="Reference 6">(6)</a> <a href="#ref-for-dfn-add-a-flag-7" title="Reference 7">(7)</a> <a href="#ref-for-dfn-add-a-flag-8" title="Reference 8">(8)</a> 
    </li><li>
      <a href="#ref-for-dfn-add-a-flag-9" title="§ 4.3.1 SmartCardProtocol enum">§ 4.3.1 SmartCardProtocol enum</a> 
    </li>
  </ul>
    </div><div class="dfn-panel" hidden="" role="dialog" aria-modal="true" id="dfn-panel-for-dfn-has-a-flag" aria-label="Links in this document to definition: has a flag">
      <span class="caret"></span>
      <div>
        <a class="self-link" href="#dfn-has-a-flag" aria-label="Permalink for definition: has a flag. Activate to close this dialog.">Permalink</a>
         
      </div>
      <p><b>Referenced in:</b></p>
      <ul>
    <li>
      <a href="#ref-for-dfn-has-a-flag-1" title="§ 4.2.2.1 SmartCardReaderStateFlagsOut dictionary">§ 4.2.2.1 SmartCardReaderStateFlagsOut dictionary</a> <a href="#ref-for-dfn-has-a-flag-2" title="Reference 2">(2)</a> <a href="#ref-for-dfn-has-a-flag-3" title="Reference 3">(3)</a> <a href="#ref-for-dfn-has-a-flag-4" title="Reference 4">(4)</a> <a href="#ref-for-dfn-has-a-flag-5" title="Reference 5">(5)</a> <a href="#ref-for-dfn-has-a-flag-6" title="Reference 6">(6)</a> <a href="#ref-for-dfn-has-a-flag-7" title="Reference 7">(7)</a> <a href="#ref-for-dfn-has-a-flag-8" title="Reference 8">(8)</a> <a href="#ref-for-dfn-has-a-flag-9" title="Reference 9">(9)</a> 
    </li>
  </ul>
    </div><div class="dfn-panel" hidden="" role="dialog" aria-modal="true" id="dfn-panel-for-dom-smartcardconnection" aria-label="Links in this document to definition: SmartCardConnection">
      <span class="caret"></span>
      <div>
        <a class="self-link" href="#dom-smartcardconnection" aria-label="Permalink for definition: SmartCardConnection. Activate to close this dialog.">Permalink</a>
        <span class="marker dfn-exported" title="Definition can be referenced by other specifications">exported</span> <a class="marker idl-block" title="Jump to IDL declaration" href="#webidl-1329487962">IDL</a>
      </div>
      <p><b>Referenced in:</b></p>
      <ul>
    <li>
      <a href="#ref-for-dom-smartcardconnection-1" title="§ 4. SmartCardContext interface">§ 4. SmartCardContext interface</a> 
    </li><li>
      <a href="#ref-for-dom-smartcardconnection-2" title="§ 4.3 connect() method">§ 4.3 connect() method</a> 
    </li><li>
      <a href="#ref-for-dom-smartcardconnection-3" title="§ 4.3.2 SmartCardConnectResult dictionary">§ 4.3.2 SmartCardConnectResult dictionary</a> 
    </li><li>
      <a href="#ref-for-dom-smartcardconnection-4" title="§ 5. SmartCardConnection interface">§ 5. SmartCardConnection interface</a> <a href="#ref-for-dom-smartcardconnection-5" title="Reference 2">(2)</a> 
    </li><li>
      <a href="#ref-for-dom-smartcardconnection-6" title="§ 5.3.2 Auxiliary algorithms and definitions">§ 5.3.2 Auxiliary algorithms and definitions</a> <a href="#ref-for-dom-smartcardconnection-7" title="Reference 2">(2)</a> <a href="#ref-for-dom-smartcardconnection-8" title="Reference 3">(3)</a> 
    </li>
  </ul>
    </div><div class="dfn-panel" hidden="" role="dialog" aria-modal="true" id="dfn-panel-for-dom-smartcardtransactioncallback" aria-label="Links in this document to definition: SmartCardTransactionCallback">
      <span class="caret"></span>
      <div>
        <a class="self-link" href="#dom-smartcardtransactioncallback" aria-label="Permalink for definition: SmartCardTransactionCallback. Activate to close this dialog.">Permalink</a>
        <span class="marker dfn-exported" title="Definition can be referenced by other specifications">exported</span> 
      </div>
      <p><b>Referenced in:</b></p>
      <ul>
    <li>
      <a href="#ref-for-dom-smartcardtransactioncallback-1" title="§ 4.4 Auxiliary algorithms and definitions">§ 4.4 Auxiliary algorithms and definitions</a> 
    </li><li>
      <a href="#ref-for-dom-smartcardtransactioncallback-2" title="§ 5. SmartCardConnection interface">§ 5. SmartCardConnection interface</a> 
    </li><li>
      <a href="#ref-for-dom-smartcardtransactioncallback-3" title="§ 5.3.2 Auxiliary algorithms and definitions">§ 5.3.2 Auxiliary algorithms and definitions</a> 
    </li>
  </ul>
    </div><div class="dfn-panel" hidden="" role="dialog" aria-modal="true" id="dfn-panel-for-dfn-comm" aria-label="Links in this document to definition: [[comm]]">
      <span class="caret"></span>
      <div>
        <a class="self-link" href="#dfn-comm" aria-label="Permalink for definition: [[comm]]. Activate to close this dialog.">Permalink</a>
         
      </div>
      <p><b>Referenced in:</b></p>
      <ul>
    <li>
      <a href="#ref-for-dfn-comm-1" title="§ 4.3 connect() method">§ 4.3 connect() method</a> 
    </li><li>
      <a href="#ref-for-dfn-comm-2" title="§ 5.1 disconnect() method">§ 5.1 disconnect() method</a> <a href="#ref-for-dfn-comm-3" title="Reference 2">(2)</a> <a href="#ref-for-dfn-comm-4" title="Reference 3">(3)</a> <a href="#ref-for-dfn-comm-5" title="Reference 4">(4)</a> 
    </li><li>
      <a href="#ref-for-dfn-comm-6" title="§ 5.2 transmit() method">§ 5.2 transmit() method</a> <a href="#ref-for-dfn-comm-7" title="Reference 2">(2)</a> 
    </li><li>
      <a href="#ref-for-dfn-comm-8" title="§ 5.3 startTransaction() method">§ 5.3 startTransaction() method</a> <a href="#ref-for-dfn-comm-9" title="Reference 2">(2)</a> 
    </li><li>
      <a href="#ref-for-dfn-comm-10" title="§ 5.3.2 Auxiliary algorithms and definitions">§ 5.3.2 Auxiliary algorithms and definitions</a> <a href="#ref-for-dfn-comm-11" title="Reference 2">(2)</a> <a href="#ref-for-dfn-comm-12" title="Reference 3">(3)</a> 
    </li><li>
      <a href="#ref-for-dfn-comm-13" title="§ 5.4 status() method">§ 5.4 status() method</a> <a href="#ref-for-dfn-comm-14" title="Reference 2">(2)</a> 
    </li>
  </ul>
    </div><div class="dfn-panel" hidden="" role="dialog" aria-modal="true" id="dfn-panel-for-dfn-context" aria-label="Links in this document to definition: [[context]]">
      <span class="caret"></span>
      <div>
        <a class="self-link" href="#dfn-context" aria-label="Permalink for definition: [[context]]. Activate to close this dialog.">Permalink</a>
         
      </div>
      <p><b>Referenced in:</b></p>
      <ul>
    <li>
      <a href="#ref-for-dfn-context-1" title="§ 4.3 connect() method">§ 4.3 connect() method</a> 
    </li><li>
      <a href="#ref-for-dfn-context-2" title="§ 5.1 disconnect() method">§ 5.1 disconnect() method</a> <a href="#ref-for-dfn-context-3" title="Reference 2">(2)</a> <a href="#ref-for-dfn-context-4" title="Reference 3">(3)</a> 
    </li><li>
      <a href="#ref-for-dfn-context-5" title="§ 5.2 transmit() method">§ 5.2 transmit() method</a> <a href="#ref-for-dfn-context-6" title="Reference 2">(2)</a> <a href="#ref-for-dfn-context-7" title="Reference 3">(3)</a> 
    </li><li>
      <a href="#ref-for-dfn-context-8" title="§ 5.3 startTransaction() method">§ 5.3 startTransaction() method</a> <a href="#ref-for-dfn-context-9" title="Reference 2">(2)</a> 
    </li><li>
      <a href="#ref-for-dfn-context-10" title="§ 5.3.2 Auxiliary algorithms and definitions">§ 5.3.2 Auxiliary algorithms and definitions</a> <a href="#ref-for-dfn-context-11" title="Reference 2">(2)</a> <a href="#ref-for-dfn-context-12" title="Reference 3">(3)</a> <a href="#ref-for-dfn-context-13" title="Reference 4">(4)</a> <a href="#ref-for-dfn-context-14" title="Reference 5">(5)</a> <a href="#ref-for-dfn-context-15" title="Reference 6">(6)</a> 
    </li><li>
      <a href="#ref-for-dfn-context-16" title="§ 5.4 status() method">§ 5.4 status() method</a> <a href="#ref-for-dfn-context-17" title="Reference 2">(2)</a> <a href="#ref-for-dfn-context-18" title="Reference 3">(3)</a> 
    </li>
  </ul>
    </div><div class="dfn-panel" hidden="" role="dialog" aria-modal="true" id="dfn-panel-for-dfn-activeprotocol" aria-label="Links in this document to definition: [[activeProtocol]]">
      <span class="caret"></span>
      <div>
        <a class="self-link" href="#dfn-activeprotocol" aria-label="Permalink for definition: [[activeProtocol]]. Activate to close this dialog.">Permalink</a>
         
      </div>
      <p><b>Referenced in:</b></p>
      <ul>
    <li>
      <a href="#ref-for-dfn-activeprotocol-1" title="§ 4.3 connect() method">§ 4.3 connect() method</a> 
    </li><li>
      <a href="#ref-for-dfn-activeprotocol-2" title="§ 5.2 transmit() method">§ 5.2 transmit() method</a> <a href="#ref-for-dfn-activeprotocol-3" title="Reference 2">(2)</a> 
    </li>
  </ul>
    </div><div class="dfn-panel" hidden="" role="dialog" aria-modal="true" id="dfn-panel-for-dfn-transactionstate" aria-label="Links in this document to definition: [[transactionState]]">
      <span class="caret"></span>
      <div>
        <a class="self-link" href="#dfn-transactionstate" aria-label="Permalink for definition: [[transactionState]]. Activate to close this dialog.">Permalink</a>
         
      </div>
      <p><b>Referenced in:</b></p>
      <ul>
    <li>
      <a href="#ref-for-dfn-transactionstate-1" title="§ 5.3 startTransaction() method">§ 5.3 startTransaction() method</a> 
    </li><li>
      <a href="#ref-for-dfn-transactionstate-2" title="§ 5.3.2 Auxiliary algorithms and definitions">§ 5.3.2 Auxiliary algorithms and definitions</a> <a href="#ref-for-dfn-transactionstate-3" title="Reference 2">(2)</a> <a href="#ref-for-dfn-transactionstate-4" title="Reference 3">(3)</a> <a href="#ref-for-dfn-transactionstate-5" title="Reference 4">(4)</a> <a href="#ref-for-dfn-transactionstate-6" title="Reference 5">(5)</a> <a href="#ref-for-dfn-transactionstate-7" title="Reference 6">(6)</a> <a href="#ref-for-dfn-transactionstate-8" title="Reference 7">(7)</a> <a href="#ref-for-dfn-transactionstate-9" title="Reference 8">(8)</a> <a href="#ref-for-dfn-transactionstate-10" title="Reference 9">(9)</a> <a href="#ref-for-dfn-transactionstate-11" title="Reference 10">(10)</a> 
    </li>
  </ul>
    </div><div class="dfn-panel" hidden="" role="dialog" aria-modal="true" id="dfn-panel-for-dom-smartcardconnection-disconnect" aria-label="Links in this document to definition: disconnect()">
      <span class="caret"></span>
      <div>
        <a class="self-link" href="#dom-smartcardconnection-disconnect" aria-label="Permalink for definition: disconnect(). Activate to close this dialog.">Permalink</a>
        <span class="marker dfn-exported" title="Definition can be referenced by other specifications">exported</span> <a class="marker idl-block" title="Jump to IDL declaration" href="#webidl-1329487962">IDL</a>
      </div>
      <p><b>Referenced in:</b></p>
      <ul>
    <li>
      <a href="#ref-for-dom-smartcardconnection-disconnect-1" title="§ 5. SmartCardConnection interface">§ 5. SmartCardConnection interface</a> 
    </li><li>
      <a href="#ref-for-dom-smartcardconnection-disconnect-2" title="§ 5.1 disconnect() method">§ 5.1 disconnect() method</a> 
    </li>
  </ul>
    </div><div class="dfn-panel" hidden="" role="dialog" aria-modal="true" id="dfn-panel-for-dom-smartcarddisposition" aria-label="Links in this document to definition: SmartCardDisposition">
      <span class="caret"></span>
      <div>
        <a class="self-link" href="#dom-smartcarddisposition" aria-label="Permalink for definition: SmartCardDisposition. Activate to close this dialog.">Permalink</a>
        <span class="marker dfn-exported" title="Definition can be referenced by other specifications">exported</span> <a class="marker idl-block" title="Jump to IDL declaration" href="#webidl-633517433">IDL</a>
      </div>
      <p><b>Referenced in:</b></p>
      <ul>
    <li>
      <a href="#ref-for-dom-smartcarddisposition-1" title="§ 5. SmartCardConnection interface">§ 5. SmartCardConnection interface</a> <a href="#ref-for-dom-smartcarddisposition-2" title="Reference 2">(2)</a> 
    </li><li>
      <a href="#ref-for-dom-smartcarddisposition-3" title="§ 5.1.1 SmartCardDisposition enum">§ 5.1.1 SmartCardDisposition enum</a> 
    </li><li>
      <a href="#ref-for-dom-smartcarddisposition-4" title="§ 5.3.2 Auxiliary algorithms and definitions">§ 5.3.2 Auxiliary algorithms and definitions</a> <a href="#ref-for-dom-smartcarddisposition-5" title="Reference 2">(2)</a> 
    </li>
  </ul>
    </div><div class="dfn-panel" hidden="" role="dialog" aria-modal="true" id="dfn-panel-for-dom-smartcarddisposition-leave" aria-label="Links in this document to definition: leave">
      <span class="caret"></span>
      <div>
        <a class="self-link" href="#dom-smartcarddisposition-leave" aria-label="Permalink for definition: leave. Activate to close this dialog.">Permalink</a>
        <span class="marker dfn-exported" title="Definition can be referenced by other specifications">exported</span> <a class="marker idl-block" title="Jump to IDL declaration" href="#webidl-633517433">IDL</a>
      </div>
      <p><b>Referenced in:</b></p>
      <ul>
    <li>
      <a href="#ref-for-dom-smartcarddisposition-leave-1" title="§ 5.1.1 SmartCardDisposition enum">§ 5.1.1 SmartCardDisposition enum</a> 
    </li><li>
      <a href="#ref-for-dom-smartcarddisposition-leave-2" title="§ 5.3.2 Auxiliary algorithms and definitions">§ 5.3.2 Auxiliary algorithms and definitions</a> <a href="#ref-for-dom-smartcarddisposition-leave-3" title="Reference 2">(2)</a> <a href="#ref-for-dom-smartcarddisposition-leave-4" title="Reference 3">(3)</a> 
    </li>
  </ul>
    </div><div class="dfn-panel" hidden="" role="dialog" aria-modal="true" id="dfn-panel-for-dom-smartcarddisposition-reset" aria-label="Links in this document to definition: reset">
      <span class="caret"></span>
      <div>
        <a class="self-link" href="#dom-smartcarddisposition-reset" aria-label="Permalink for definition: reset. Activate to close this dialog.">Permalink</a>
        <span class="marker dfn-exported" title="Definition can be referenced by other specifications">exported</span> <a class="marker idl-block" title="Jump to IDL declaration" href="#webidl-633517433">IDL</a>
      </div>
      <p><b>Referenced in:</b></p>
      <ul>
    <li>
      <a href="#ref-for-dom-smartcarddisposition-reset-1" title="§ 5.1.1 SmartCardDisposition enum">§ 5.1.1 SmartCardDisposition enum</a> 
    </li>
  </ul>
    </div><div class="dfn-panel" hidden="" role="dialog" aria-modal="true" id="dfn-panel-for-dom-smartcarddisposition-unpower" aria-label="Links in this document to definition: unpower">
      <span class="caret"></span>
      <div>
        <a class="self-link" href="#dom-smartcarddisposition-unpower" aria-label="Permalink for definition: unpower. Activate to close this dialog.">Permalink</a>
        <span class="marker dfn-exported" title="Definition can be referenced by other specifications">exported</span> <a class="marker idl-block" title="Jump to IDL declaration" href="#webidl-633517433">IDL</a>
      </div>
      <p><b>Referenced in:</b></p>
      <ul>
    <li>
      <a href="#ref-for-dom-smartcarddisposition-unpower-1" title="§ 5.1.1 SmartCardDisposition enum">§ 5.1.1 SmartCardDisposition enum</a> 
    </li>
  </ul>
    </div><div class="dfn-panel" hidden="" role="dialog" aria-modal="true" id="dfn-panel-for-dom-smartcarddisposition-eject" aria-label="Links in this document to definition: eject">
      <span class="caret"></span>
      <div>
        <a class="self-link" href="#dom-smartcarddisposition-eject" aria-label="Permalink for definition: eject. Activate to close this dialog.">Permalink</a>
        <span class="marker dfn-exported" title="Definition can be referenced by other specifications">exported</span> <a class="marker idl-block" title="Jump to IDL declaration" href="#webidl-633517433">IDL</a>
      </div>
      <p><b>Referenced in:</b></p>
      <ul>
    <li>
      <a href="#ref-for-dom-smartcarddisposition-eject-1" title="§ 5.1.1 SmartCardDisposition enum">§ 5.1.1 SmartCardDisposition enum</a> 
    </li>
  </ul>
    </div><div class="dfn-panel" hidden="" role="dialog" aria-modal="true" id="dfn-panel-for-dom-smartcardconnection-transmit" aria-label="Links in this document to definition: transmit()">
      <span class="caret"></span>
      <div>
        <a class="self-link" href="#dom-smartcardconnection-transmit" aria-label="Permalink for definition: transmit(). Activate to close this dialog.">Permalink</a>
        <span class="marker dfn-exported" title="Definition can be referenced by other specifications">exported</span> <a class="marker idl-block" title="Jump to IDL declaration" href="#webidl-1329487962">IDL</a>
      </div>
      <p><b>Referenced in:</b></p>
      <ul>
    <li>
      <a href="#ref-for-dom-smartcardconnection-transmit-1" title="§ 5. SmartCardConnection interface">§ 5. SmartCardConnection interface</a> 
    </li><li>
      <a href="#ref-for-dom-smartcardconnection-transmit-2" title="§ 5.2 transmit() method">§ 5.2 transmit() method</a> 
    </li>
  </ul>
    </div><div class="dfn-panel" hidden="" role="dialog" aria-modal="true" id="dfn-panel-for-dom-smartcardtransmitoptions" aria-label="Links in this document to definition: SmartCardTransmitOptions">
      <span class="caret"></span>
      <div>
        <a class="self-link" href="#dom-smartcardtransmitoptions" aria-label="Permalink for definition: SmartCardTransmitOptions. Activate to close this dialog.">Permalink</a>
        <span class="marker dfn-exported" title="Definition can be referenced by other specifications">exported</span> <a class="marker idl-block" title="Jump to IDL declaration" href="#webidl-49863312">IDL</a>
      </div>
      <p><b>Referenced in:</b></p>
      <ul>
    <li>
      <a href="#ref-for-dom-smartcardtransmitoptions-1" title="§ 5. SmartCardConnection interface">§ 5. SmartCardConnection interface</a> 
    </li><li>
      <a href="#ref-for-dom-smartcardtransmitoptions-2" title="§ 5.2.1 SmartCardTransmitOptions dictionary">§ 5.2.1 SmartCardTransmitOptions dictionary</a> 
    </li>
  </ul>
    </div><div class="dfn-panel" hidden="" role="dialog" aria-modal="true" id="dfn-panel-for-dom-smartcardtransmitoptions-protocol" aria-label="Links in this document to definition: protocol">
      <span class="caret"></span>
      <div>
        <a class="self-link" href="#dom-smartcardtransmitoptions-protocol" aria-label="Permalink for definition: protocol. Activate to close this dialog.">Permalink</a>
        <span class="marker dfn-exported" title="Definition can be referenced by other specifications">exported</span> <a class="marker idl-block" title="Jump to IDL declaration" href="#webidl-49863312">IDL</a>
      </div>
      <p><b>Referenced in:</b></p>
      <ul>
    <li>
      <a href="#ref-for-dom-smartcardtransmitoptions-protocol-1" title="§ 5.2 transmit() method">§ 5.2 transmit() method</a> <a href="#ref-for-dom-smartcardtransmitoptions-protocol-2" title="Reference 2">(2)</a> 
    </li><li>
      <a href="#ref-for-dom-smartcardtransmitoptions-protocol-3" title="§ 5.2.1 SmartCardTransmitOptions dictionary">§ 5.2.1 SmartCardTransmitOptions dictionary</a> 
    </li>
  </ul>
    </div><div class="dfn-panel" hidden="" role="dialog" aria-modal="true" id="dfn-panel-for-dom-smartcardconnection-starttransaction" aria-label="Links in this document to definition: startTransaction()">
      <span class="caret"></span>
      <div>
        <a class="self-link" href="#dom-smartcardconnection-starttransaction" aria-label="Permalink for definition: startTransaction(). Activate to close this dialog.">Permalink</a>
        <span class="marker dfn-exported" title="Definition can be referenced by other specifications">exported</span> <a class="marker idl-block" title="Jump to IDL declaration" href="#webidl-1329487962">IDL</a>
      </div>
      <p><b>Referenced in:</b></p>
      <ul>
    <li>
      <a href="#ref-for-dom-smartcardconnection-starttransaction-1" title="§ 4.4 Auxiliary algorithms and definitions">§ 4.4 Auxiliary algorithms and definitions</a> 
    </li><li>
      <a href="#ref-for-dom-smartcardconnection-starttransaction-2" title="§ 5. SmartCardConnection interface">§ 5. SmartCardConnection interface</a> <a href="#ref-for-dom-smartcardconnection-starttransaction-3" title="Reference 2">(2)</a> 
    </li><li>
      <a href="#ref-for-dom-smartcardconnection-starttransaction-4" title="§ 5.3 startTransaction() method">§ 5.3 startTransaction() method</a> 
    </li><li>
      <a href="#ref-for-dom-smartcardconnection-starttransaction-5" title="§ 5.3.2 Auxiliary algorithms and definitions">§ 5.3.2 Auxiliary algorithms and definitions</a> 
    </li>
  </ul>
    </div><div class="dfn-panel" hidden="" role="dialog" aria-modal="true" id="dfn-panel-for-dom-smartcardtransactionoptions" aria-label="Links in this document to definition: SmartCardTransactionOptions">
      <span class="caret"></span>
      <div>
        <a class="self-link" href="#dom-smartcardtransactionoptions" aria-label="Permalink for definition: SmartCardTransactionOptions. Activate to close this dialog.">Permalink</a>
        <span class="marker dfn-exported" title="Definition can be referenced by other specifications">exported</span> <a class="marker idl-block" title="Jump to IDL declaration" href="#webidl-2036951561">IDL</a>
      </div>
      <p><b>Referenced in:</b></p>
      <ul>
    <li>
      <a href="#ref-for-dom-smartcardtransactionoptions-1" title="§ 5. SmartCardConnection interface">§ 5. SmartCardConnection interface</a> 
    </li><li>
      <a href="#ref-for-dom-smartcardtransactionoptions-2" title="§ 5.3.1 SmartCardTransactionOptions dictionary">§ 5.3.1 SmartCardTransactionOptions dictionary</a> 
    </li>
  </ul>
    </div><div class="dfn-panel" hidden="" role="dialog" aria-modal="true" id="dfn-panel-for-dom-smartcardtransactionoptions-signal" aria-label="Links in this document to definition: signal">
      <span class="caret"></span>
      <div>
        <a class="self-link" href="#dom-smartcardtransactionoptions-signal" aria-label="Permalink for definition: signal. Activate to close this dialog.">Permalink</a>
        <span class="marker dfn-exported" title="Definition can be referenced by other specifications">exported</span> <a class="marker idl-block" title="Jump to IDL declaration" href="#webidl-2036951561">IDL</a>
      </div>
      <p><b>Referenced in:</b></p>
      <ul>
    <li>
      <a href="#ref-for-dom-smartcardtransactionoptions-signal-1" title="§ 5.3 startTransaction() method">§ 5.3 startTransaction() method</a> <a href="#ref-for-dom-smartcardtransactionoptions-signal-2" title="Reference 2">(2)</a> <a href="#ref-for-dom-smartcardtransactionoptions-signal-3" title="Reference 3">(3)</a> <a href="#ref-for-dom-smartcardtransactionoptions-signal-4" title="Reference 4">(4)</a> 
    </li><li>
      <a href="#ref-for-dom-smartcardtransactionoptions-signal-5" title="§ 5.3.1 SmartCardTransactionOptions dictionary">§ 5.3.1 SmartCardTransactionOptions dictionary</a> 
    </li>
  </ul>
    </div><div class="dfn-panel" hidden="" role="dialog" aria-modal="true" id="dfn-panel-for-dfn-transaction-state" aria-label="Links in this document to definition: transaction state">
      <span class="caret"></span>
      <div>
        <a class="self-link" href="#dfn-transaction-state" aria-label="Permalink for definition: transaction state. Activate to close this dialog.">Permalink</a>
         
      </div>
      <p><b>Referenced in:</b></p>
      <ul>
    <li>
      <a href="#ref-for-dfn-transaction-state-1" title="§ 5. SmartCardConnection interface">§ 5. SmartCardConnection interface</a> 
    </li><li>
      <a href="#ref-for-dfn-transaction-state-2" title="§ 5.3.2 Auxiliary algorithms and definitions">§ 5.3.2 Auxiliary algorithms and definitions</a> 
    </li>
  </ul>
    </div><div class="dfn-panel" hidden="" role="dialog" aria-modal="true" id="dfn-panel-for-dfn-pendingdisposition" aria-label="Links in this document to definition: pendingDisposition">
      <span class="caret"></span>
      <div>
        <a class="self-link" href="#dfn-pendingdisposition" aria-label="Permalink for definition: pendingDisposition. Activate to close this dialog.">Permalink</a>
         
      </div>
      <p><b>Referenced in:</b></p>
      <ul>
    <li>
      <a href="#ref-for-dfn-pendingdisposition-1" title="§ 5.3.2 Auxiliary algorithms and definitions">§ 5.3.2 Auxiliary algorithms and definitions</a> <a href="#ref-for-dfn-pendingdisposition-2" title="Reference 2">(2)</a> <a href="#ref-for-dfn-pendingdisposition-3" title="Reference 3">(3)</a> <a href="#ref-for-dfn-pendingdisposition-4" title="Reference 4">(4)</a> <a href="#ref-for-dfn-pendingdisposition-5" title="Reference 5">(5)</a> 
    </li>
  </ul>
    </div><div class="dfn-panel" hidden="" role="dialog" aria-modal="true" id="dfn-panel-for-dfn-pendingexception" aria-label="Links in this document to definition: pendingException">
      <span class="caret"></span>
      <div>
        <a class="self-link" href="#dfn-pendingexception" aria-label="Permalink for definition: pendingException. Activate to close this dialog.">Permalink</a>
         
      </div>
      <p><b>Referenced in:</b></p>
      <ul>
    <li>
      <a href="#ref-for-dfn-pendingexception-1" title="§ 5.3.2 Auxiliary algorithms and definitions">§ 5.3.2 Auxiliary algorithms and definitions</a> <a href="#ref-for-dfn-pendingexception-2" title="Reference 2">(2)</a> <a href="#ref-for-dfn-pendingexception-3" title="Reference 3">(3)</a> 
    </li>
  </ul>
    </div><div class="dfn-panel" hidden="" role="dialog" aria-modal="true" id="dfn-panel-for-dfn-promise" aria-label="Links in this document to definition: promise">
      <span class="caret"></span>
      <div>
        <a class="self-link" href="#dfn-promise" aria-label="Permalink for definition: promise. Activate to close this dialog.">Permalink</a>
         
      </div>
      <p><b>Referenced in:</b></p>
      <ul>
    <li>
      <a href="#ref-for-dfn-promise-1" title="§ 4.4 Auxiliary algorithms and definitions">§ 4.4 Auxiliary algorithms and definitions</a> 
    </li><li>
      <a href="#ref-for-dfn-promise-2" title="§ 5.3.2 Auxiliary algorithms and definitions">§ 5.3.2 Auxiliary algorithms and definitions</a> <a href="#ref-for-dfn-promise-3" title="Reference 2">(2)</a> <a href="#ref-for-dfn-promise-4" title="Reference 3">(3)</a> <a href="#ref-for-dfn-promise-5" title="Reference 4">(4)</a> <a href="#ref-for-dfn-promise-6" title="Reference 5">(5)</a> 
    </li><li>
      <a href="#ref-for-dfn-promise-7" title="§ 5.5 control() method">§ 5.5 control() method</a> 
    </li>
  </ul>
    </div><div class="dfn-panel" hidden="" role="dialog" aria-modal="true" id="dfn-panel-for-dfn-process-the-result-of-a-begintransaction" aria-label="Links in this document to definition: process the result of a BeginTransaction">
      <span class="caret"></span>
      <div>
        <a class="self-link" href="#dfn-process-the-result-of-a-begintransaction" aria-label="Permalink for definition: process the result of a BeginTransaction. Activate to close this dialog.">Permalink</a>
         
      </div>
      <p><b>Referenced in:</b></p>
      <ul>
    <li>
      <a href="#ref-for-dfn-process-the-result-of-a-begintransaction-1" title="§ 5.3 startTransaction() method">§ 5.3 startTransaction() method</a> 
    </li>
  </ul>
    </div><div class="dfn-panel" hidden="" role="dialog" aria-modal="true" id="dfn-panel-for-dfn-end-the-transaction" aria-label="Links in this document to definition: end the transaction">
      <span class="caret"></span>
      <div>
        <a class="self-link" href="#dfn-end-the-transaction" aria-label="Permalink for definition: end the transaction. Activate to close this dialog.">Permalink</a>
         
      </div>
      <p><b>Referenced in:</b></p>
      <ul>
    <li>
      <a href="#ref-for-dfn-end-the-transaction-1" title="§ 5.3.2 Auxiliary algorithms and definitions">§ 5.3.2 Auxiliary algorithms and definitions</a> <a href="#ref-for-dfn-end-the-transaction-2" title="Reference 2">(2)</a> <a href="#ref-for-dfn-end-the-transaction-3" title="Reference 3">(3)</a> 
    </li>
  </ul>
    </div><div class="dfn-panel" hidden="" role="dialog" aria-modal="true" id="dfn-panel-for-dfn-end-any-settled-transaction" aria-label="Links in this document to definition: end any settled transaction">
      <span class="caret"></span>
      <div>
        <a class="self-link" href="#dfn-end-any-settled-transaction" aria-label="Permalink for definition: end any settled transaction. Activate to close this dialog.">Permalink</a>
         
      </div>
      <p><b>Referenced in:</b></p>
      <ul>
    <li>
      <a href="#ref-for-dfn-end-any-settled-transaction-1" title="§ 4.4 Auxiliary algorithms and definitions">§ 4.4 Auxiliary algorithms and definitions</a> 
    </li>
  </ul>
    </div><div class="dfn-panel" hidden="" role="dialog" aria-modal="true" id="dfn-panel-for-dfn-cancel" aria-label="Links in this document to definition: cancel">
      <span class="caret"></span>
      <div>
        <a class="self-link" href="#dfn-cancel" aria-label="Permalink for definition: cancel. Activate to close this dialog.">Permalink</a>
         
      </div>
      <p><b>Referenced in:</b></p>
      <ul>
    <li>
      <a href="#ref-for-dfn-cancel-1" title="§ 5.3 startTransaction() method">§ 5.3 startTransaction() method</a> 
    </li><li>
      <a href="#ref-for-dfn-cancel-2" title="§ 5.3.2 Auxiliary algorithms and definitions">§ 5.3.2 Auxiliary algorithms and definitions</a> 
    </li>
  </ul>
    </div><div class="dfn-panel" hidden="" role="dialog" aria-modal="true" id="dfn-panel-for-dom-smartcardconnection-status" aria-label="Links in this document to definition: status()">
      <span class="caret"></span>
      <div>
        <a class="self-link" href="#dom-smartcardconnection-status" aria-label="Permalink for definition: status(). Activate to close this dialog.">Permalink</a>
        <span class="marker dfn-exported" title="Definition can be referenced by other specifications">exported</span> <a class="marker idl-block" title="Jump to IDL declaration" href="#webidl-1329487962">IDL</a>
      </div>
      <p><b>Referenced in:</b></p>
      <ul>
    <li>
      <a href="#ref-for-dom-smartcardconnection-status-1" title="§ 5. SmartCardConnection interface">§ 5. SmartCardConnection interface</a> 
    </li><li>
      <a href="#ref-for-dom-smartcardconnection-status-2" title="§ 5.4 status() method">§ 5.4 status() method</a> 
    </li>
  </ul>
    </div><div class="dfn-panel" hidden="" role="dialog" aria-modal="true" id="dfn-panel-for-dom-smartcardconnectionstatus" aria-label="Links in this document to definition: SmartCardConnectionStatus">
      <span class="caret"></span>
      <div>
        <a class="self-link" href="#dom-smartcardconnectionstatus" aria-label="Permalink for definition: SmartCardConnectionStatus. Activate to close this dialog.">Permalink</a>
        <span class="marker dfn-exported" title="Definition can be referenced by other specifications">exported</span> <a class="marker idl-block" title="Jump to IDL declaration" href="#webidl-686619780">IDL</a>
      </div>
      <p><b>Referenced in:</b></p>
      <ul>
    <li>
      <a href="#ref-for-dom-smartcardconnectionstatus-1" title="§ 5. SmartCardConnection interface">§ 5. SmartCardConnection interface</a> 
    </li><li>
      <a href="#ref-for-dom-smartcardconnectionstatus-2" title="§ 5.4 status() method">§ 5.4 status() method</a> 
    </li><li>
      <a href="#ref-for-dom-smartcardconnectionstatus-3" title="§ 5.4.1 SmartCardConnectionStatus dictionary">§ 5.4.1 SmartCardConnectionStatus dictionary</a> 
    </li>
  </ul>
    </div><div class="dfn-panel" hidden="" role="dialog" aria-modal="true" id="dfn-panel-for-dom-smartcardconnectionstatus-readername" aria-label="Links in this document to definition: readerName">
      <span class="caret"></span>
      <div>
        <a class="self-link" href="#dom-smartcardconnectionstatus-readername" aria-label="Permalink for definition: readerName. Activate to close this dialog.">Permalink</a>
        <span class="marker dfn-exported" title="Definition can be referenced by other specifications">exported</span> <a class="marker idl-block" title="Jump to IDL declaration" href="#webidl-686619780">IDL</a>
      </div>
      <p><b>Referenced in:</b></p>
      <ul>
    <li>
      <a href="#ref-for-dom-smartcardconnectionstatus-readername-1" title="§ 5.4 status() method">§ 5.4 status() method</a> 
    </li><li>
      <a href="#ref-for-dom-smartcardconnectionstatus-readername-2" title="§ 5.4.1 SmartCardConnectionStatus dictionary">§ 5.4.1 SmartCardConnectionStatus dictionary</a> 
    </li>
  </ul>
    </div><div class="dfn-panel" hidden="" role="dialog" aria-modal="true" id="dfn-panel-for-dom-smartcardconnectionstatus-state" aria-label="Links in this document to definition: state">
      <span class="caret"></span>
      <div>
        <a class="self-link" href="#dom-smartcardconnectionstatus-state" aria-label="Permalink for definition: state. Activate to close this dialog.">Permalink</a>
        <span class="marker dfn-exported" title="Definition can be referenced by other specifications">exported</span> <a class="marker idl-block" title="Jump to IDL declaration" href="#webidl-686619780">IDL</a>
      </div>
      <p><b>Referenced in:</b></p>
      <ul>
    <li>
      <a href="#ref-for-dom-smartcardconnectionstatus-state-1" title="§ 5.4 status() method">§ 5.4 status() method</a> 
    </li><li>
      <a href="#ref-for-dom-smartcardconnectionstatus-state-2" title="§ 5.4.1 SmartCardConnectionStatus dictionary">§ 5.4.1 SmartCardConnectionStatus dictionary</a> 
    </li>
  </ul>
    </div><div class="dfn-panel" hidden="" role="dialog" aria-modal="true" id="dfn-panel-for-dom-smartcardconnectionstatus-answertoreset" aria-label="Links in this document to definition: answerToReset">
      <span class="caret"></span>
      <div>
        <a class="self-link" href="#dom-smartcardconnectionstatus-answertoreset" aria-label="Permalink for definition: answerToReset. Activate to close this dialog.">Permalink</a>
        <span class="marker dfn-exported" title="Definition can be referenced by other specifications">exported</span> <a class="marker idl-block" title="Jump to IDL declaration" href="#webidl-686619780">IDL</a>
      </div>
      <p><b>Referenced in:</b></p>
      <ul>
    <li>
      <a href="#ref-for-dom-smartcardconnectionstatus-answertoreset-1" title="§ 5.4 status() method">§ 5.4 status() method</a> 
    </li><li>
      <a href="#ref-for-dom-smartcardconnectionstatus-answertoreset-2" title="§ 5.4.1 SmartCardConnectionStatus dictionary">§ 5.4.1 SmartCardConnectionStatus dictionary</a> 
    </li>
  </ul>
    </div><div class="dfn-panel" hidden="" role="dialog" aria-modal="true" id="dfn-panel-for-dom-smartcardconnectionstate" aria-label="Links in this document to definition: SmartCardConnectionState">
      <span class="caret"></span>
      <div>
        <a class="self-link" href="#dom-smartcardconnectionstate" aria-label="Permalink for definition: SmartCardConnectionState. Activate to close this dialog.">Permalink</a>
        <span class="marker dfn-exported" title="Definition can be referenced by other specifications">exported</span> <a class="marker idl-block" title="Jump to IDL declaration" href="#webidl-698939501">IDL</a>
      </div>
      <p><b>Referenced in:</b></p>
      <ul>
    <li>
      <a href="#ref-for-dom-smartcardconnectionstate-1" title="§ 5.4 status() method">§ 5.4 status() method</a> 
    </li><li>
      <a href="#ref-for-dom-smartcardconnectionstate-2" title="§ 5.4.1 SmartCardConnectionStatus dictionary">§ 5.4.1 SmartCardConnectionStatus dictionary</a> 
    </li><li>
      <a href="#ref-for-dom-smartcardconnectionstate-3" title="§ 5.4.1.1 SmartCardConnectionState enum">§ 5.4.1.1 SmartCardConnectionState enum</a> <a href="#ref-for-dom-smartcardconnectionstate-4" title="Reference 2">(2)</a> 
    </li>
  </ul>
    </div><div class="dfn-panel" hidden="" role="dialog" aria-modal="true" id="dfn-panel-for-dom-smartcardconnectionstate-absent" aria-label="Links in this document to definition: absent">
      <span class="caret"></span>
      <div>
        <a class="self-link" href="#dom-smartcardconnectionstate-absent" aria-label="Permalink for definition: absent. Activate to close this dialog.">Permalink</a>
        <span class="marker dfn-exported" title="Definition can be referenced by other specifications">exported</span> <a class="marker idl-block" title="Jump to IDL declaration" href="#webidl-698939501">IDL</a>
      </div>
      <p><b>Referenced in:</b></p>
      <ul>
    <li>
      <a href="#ref-for-dom-smartcardconnectionstate-absent-1" title="§ 5.4.1.1 SmartCardConnectionState enum">§ 5.4.1.1 SmartCardConnectionState enum</a> <a href="#ref-for-dom-smartcardconnectionstate-absent-2" title="Reference 2">(2)</a> 
    </li>
  </ul>
    </div><div class="dfn-panel" hidden="" role="dialog" aria-modal="true" id="dfn-panel-for-dom-smartcardconnectionstate-present" aria-label="Links in this document to definition: present">
      <span class="caret"></span>
      <div>
        <a class="self-link" href="#dom-smartcardconnectionstate-present" aria-label="Permalink for definition: present. Activate to close this dialog.">Permalink</a>
        <span class="marker dfn-exported" title="Definition can be referenced by other specifications">exported</span> <a class="marker idl-block" title="Jump to IDL declaration" href="#webidl-698939501">IDL</a>
      </div>
      <p><b>Referenced in:</b></p>
      <ul>
    <li>
      <a href="#ref-for-dom-smartcardconnectionstate-present-1" title="§ 5.4.1.1 SmartCardConnectionState enum">§ 5.4.1.1 SmartCardConnectionState enum</a> <a href="#ref-for-dom-smartcardconnectionstate-present-2" title="Reference 2">(2)</a> 
    </li>
  </ul>
    </div><div class="dfn-panel" hidden="" role="dialog" aria-modal="true" id="dfn-panel-for-dom-smartcardconnectionstate-swallowed" aria-label="Links in this document to definition: swallowed">
      <span class="caret"></span>
      <div>
        <a class="self-link" href="#dom-smartcardconnectionstate-swallowed" aria-label="Permalink for definition: swallowed. Activate to close this dialog.">Permalink</a>
        <span class="marker dfn-exported" title="Definition can be referenced by other specifications">exported</span> <a class="marker idl-block" title="Jump to IDL declaration" href="#webidl-698939501">IDL</a>
      </div>
      <p><b>Referenced in:</b></p>
      <ul>
    <li>
      <a href="#ref-for-dom-smartcardconnectionstate-swallowed-1" title="§ 5.4.1.1 SmartCardConnectionState enum">§ 5.4.1.1 SmartCardConnectionState enum</a> <a href="#ref-for-dom-smartcardconnectionstate-swallowed-2" title="Reference 2">(2)</a> 
    </li>
  </ul>
    </div><div class="dfn-panel" hidden="" role="dialog" aria-modal="true" id="dfn-panel-for-dom-smartcardconnectionstate-powered" aria-label="Links in this document to definition: powered">
      <span class="caret"></span>
      <div>
        <a class="self-link" href="#dom-smartcardconnectionstate-powered" aria-label="Permalink for definition: powered. Activate to close this dialog.">Permalink</a>
        <span class="marker dfn-exported" title="Definition can be referenced by other specifications">exported</span> <a class="marker idl-block" title="Jump to IDL declaration" href="#webidl-698939501">IDL</a>
      </div>
      <p><b>Referenced in:</b></p>
      <ul>
    <li>
      <a href="#ref-for-dom-smartcardconnectionstate-powered-1" title="§ 5.4.1.1 SmartCardConnectionState enum">§ 5.4.1.1 SmartCardConnectionState enum</a> <a href="#ref-for-dom-smartcardconnectionstate-powered-2" title="Reference 2">(2)</a> 
    </li>
  </ul>
    </div><div class="dfn-panel" hidden="" role="dialog" aria-modal="true" id="dfn-panel-for-dom-smartcardconnectionstate-negotiable" aria-label="Links in this document to definition: negotiable">
      <span class="caret"></span>
      <div>
        <a class="self-link" href="#dom-smartcardconnectionstate-negotiable" aria-label="Permalink for definition: negotiable. Activate to close this dialog.">Permalink</a>
        <span class="marker dfn-exported" title="Definition can be referenced by other specifications">exported</span> <a class="marker idl-block" title="Jump to IDL declaration" href="#webidl-698939501">IDL</a>
      </div>
      <p><b>Referenced in:</b></p>
      <ul>
    <li>
      <a href="#ref-for-dom-smartcardconnectionstate-negotiable-1" title="§ 5.4.1.1 SmartCardConnectionState enum">§ 5.4.1.1 SmartCardConnectionState enum</a> <a href="#ref-for-dom-smartcardconnectionstate-negotiable-2" title="Reference 2">(2)</a> 
    </li>
  </ul>
    </div><div class="dfn-panel" hidden="" role="dialog" aria-modal="true" id="dfn-panel-for-dom-smartcardconnectionstate-t0" aria-label="Links in this document to definition: t0">
      <span class="caret"></span>
      <div>
        <a class="self-link" href="#dom-smartcardconnectionstate-t0" aria-label="Permalink for definition: t0. Activate to close this dialog.">Permalink</a>
        <span class="marker dfn-exported" title="Definition can be referenced by other specifications">exported</span> <a class="marker idl-block" title="Jump to IDL declaration" href="#webidl-698939501">IDL</a>
      </div>
      <p><b>Referenced in:</b></p>
      <ul>
    <li>
      <a href="#ref-for-dom-smartcardconnectionstate-t0-1" title="§ 5.4.1.1 SmartCardConnectionState enum">§ 5.4.1.1 SmartCardConnectionState enum</a> <a href="#ref-for-dom-smartcardconnectionstate-t0-2" title="Reference 2">(2)</a> 
    </li>
  </ul>
    </div><div class="dfn-panel" hidden="" role="dialog" aria-modal="true" id="dfn-panel-for-dom-smartcardconnectionstate-t1" aria-label="Links in this document to definition: t1">
      <span class="caret"></span>
      <div>
        <a class="self-link" href="#dom-smartcardconnectionstate-t1" aria-label="Permalink for definition: t1. Activate to close this dialog.">Permalink</a>
        <span class="marker dfn-exported" title="Definition can be referenced by other specifications">exported</span> <a class="marker idl-block" title="Jump to IDL declaration" href="#webidl-698939501">IDL</a>
      </div>
      <p><b>Referenced in:</b></p>
      <ul>
    <li>
      <a href="#ref-for-dom-smartcardconnectionstate-t1-1" title="§ 5.4.1.1 SmartCardConnectionState enum">§ 5.4.1.1 SmartCardConnectionState enum</a> <a href="#ref-for-dom-smartcardconnectionstate-t1-2" title="Reference 2">(2)</a> 
    </li>
  </ul>
    </div><div class="dfn-panel" hidden="" role="dialog" aria-modal="true" id="dfn-panel-for-dom-smartcardconnectionstate-raw" aria-label="Links in this document to definition: raw">
      <span class="caret"></span>
      <div>
        <a class="self-link" href="#dom-smartcardconnectionstate-raw" aria-label="Permalink for definition: raw. Activate to close this dialog.">Permalink</a>
        <span class="marker dfn-exported" title="Definition can be referenced by other specifications">exported</span> <a class="marker idl-block" title="Jump to IDL declaration" href="#webidl-698939501">IDL</a>
      </div>
      <p><b>Referenced in:</b></p>
      <ul>
    <li>
      <a href="#ref-for-dom-smartcardconnectionstate-raw-1" title="§ 5.4.1.1 SmartCardConnectionState enum">§ 5.4.1.1 SmartCardConnectionState enum</a> <a href="#ref-for-dom-smartcardconnectionstate-raw-2" title="Reference 2">(2)</a> 
    </li>
  </ul>
    </div><div class="dfn-panel" hidden="" role="dialog" aria-modal="true" id="dfn-panel-for-dfn-corresponding-4" aria-label="Links in this document to definition: corresponding">
      <span class="caret"></span>
      <div>
        <a class="self-link" href="#dfn-corresponding-4" aria-label="Permalink for definition: corresponding. Activate to close this dialog.">Permalink</a>
         
      </div>
      <p><b>Referenced in:</b></p>
      <ul>
    <li>
      <a href="#ref-for-dfn-corresponding-4-1" title="§ 5.4 status() method">§ 5.4 status() method</a> 
    </li>
  </ul>
    </div><div class="dfn-panel" hidden="" role="dialog" aria-modal="true" id="dfn-panel-for-dom-smartcardconnection-control" aria-label="Links in this document to definition: control()">
      <span class="caret"></span>
      <div>
        <a class="self-link" href="#dom-smartcardconnection-control" aria-label="Permalink for definition: control(). Activate to close this dialog.">Permalink</a>
        <span class="marker dfn-exported" title="Definition can be referenced by other specifications">exported</span> <a class="marker idl-block" title="Jump to IDL declaration" href="#webidl-1329487962">IDL</a>
      </div>
      <p><b>Referenced in:</b></p>
      <ul>
    <li>
      <a href="#ref-for-dom-smartcardconnection-control-1" title="§ 5. SmartCardConnection interface">§ 5. SmartCardConnection interface</a> 
    </li>
  </ul>
    </div><div class="dfn-panel" hidden="" role="dialog" aria-modal="true" id="dfn-panel-for-dom-smartcardconnection-getattribute" aria-label="Links in this document to definition: getAttribute()">
      <span class="caret"></span>
      <div>
        <a class="self-link" href="#dom-smartcardconnection-getattribute" aria-label="Permalink for definition: getAttribute(). Activate to close this dialog.">Permalink</a>
        <span class="marker dfn-exported" title="Definition can be referenced by other specifications">exported</span> <a class="marker idl-block" title="Jump to IDL declaration" href="#webidl-1329487962">IDL</a>
      </div>
      <p><b>Referenced in:</b></p>
      <ul>
    <li>
      <a href="#ref-for-dom-smartcardconnection-getattribute-1" title="§ 5. SmartCardConnection interface">§ 5. SmartCardConnection interface</a> 
    </li>
  </ul>
    </div><div class="dfn-panel" hidden="" role="dialog" aria-modal="true" id="dfn-panel-for-dom-smartcardconnection-setattribute" aria-label="Links in this document to definition: setAttribute()">
      <span class="caret"></span>
      <div>
        <a class="self-link" href="#dom-smartcardconnection-setattribute" aria-label="Permalink for definition: setAttribute(). Activate to close this dialog.">Permalink</a>
        <span class="marker dfn-exported" title="Definition can be referenced by other specifications">exported</span> <a class="marker idl-block" title="Jump to IDL declaration" href="#webidl-1329487962">IDL</a>
      </div>
      <p><b>Referenced in:</b></p>
      <ul>
    <li>
      <a href="#ref-for-dom-smartcardconnection-setattribute-1" title="§ 5. SmartCardConnection interface">§ 5. SmartCardConnection interface</a> 
    </li>
  </ul>
    </div><div class="dfn-panel" hidden="" role="dialog" aria-modal="true" id="dfn-panel-for-dom-smartcarderror" aria-label="Links in this document to definition: SmartCardError">
      <span class="caret"></span>
      <div>
        <a class="self-link" href="#dom-smartcarderror" aria-label="Permalink for definition: SmartCardError. Activate to close this dialog.">Permalink</a>
        <span class="marker dfn-exported" title="Definition can be referenced by other specifications">exported</span> <a class="marker idl-block" title="Jump to IDL declaration" href="#webidl-1271376181">IDL</a>
      </div>
      <p><b>Referenced in:</b></p>
      <ul>
    <li>
      <a href="#ref-for-dom-smartcarderror-1" title="§ 6. SmartCardError interface">§ 6. SmartCardError interface</a> <a href="#ref-for-dom-smartcarderror-2" title="Reference 2">(2)</a> <a href="#ref-for-dom-smartcarderror-3" title="Reference 3">(3)</a> <a href="#ref-for-dom-smartcarderror-4" title="Reference 4">(4)</a> <a href="#ref-for-dom-smartcarderror-5" title="Reference 5">(5)</a> <a href="#ref-for-dom-smartcarderror-6" title="Reference 6">(6)</a> <a href="#ref-for-dom-smartcarderror-7" title="Reference 7">(7)</a> <a href="#ref-for-dom-smartcarderror-8" title="Reference 8">(8)</a> <a href="#ref-for-dom-smartcarderror-9" title="Reference 9">(9)</a> <a href="#ref-for-dom-smartcarderror-10" title="Reference 10">(10)</a> <a href="#ref-for-dom-smartcarderror-11" title="Reference 11">(11)</a> <a href="#ref-for-dom-smartcarderror-12" title="Reference 12">(12)</a> <a href="#ref-for-dom-smartcarderror-13" title="Reference 13">(13)</a> <a href="#ref-for-dom-smartcarderror-14" title="Reference 14">(14)</a> <a href="#ref-for-dom-smartcarderror-15" title="Reference 15">(15)</a> <a href="#ref-for-dom-smartcarderror-16" title="Reference 16">(16)</a> <a href="#ref-for-dom-smartcarderror-17" title="Reference 17">(17)</a> <a href="#ref-for-dom-smartcarderror-18" title="Reference 18">(18)</a> <a href="#ref-for-dom-smartcarderror-19" title="Reference 19">(19)</a> 
    </li><li>
      <a href="#ref-for-dom-smartcarderror-20" title="§ 6.1 SmartCardErrorOptions dictionary">§ 6.1 SmartCardErrorOptions dictionary</a> 
    </li>
  </ul>
    </div><div class="dfn-panel" hidden="" role="dialog" aria-modal="true" id="dfn-panel-for-dom-smartcarderror-constructor" aria-label="Links in this document to definition: constructor">
      <span class="caret"></span>
      <div>
        <a class="self-link" href="#dom-smartcarderror-constructor" aria-label="Permalink for definition: constructor. Activate to close this dialog.">Permalink</a>
        <span class="marker dfn-exported" title="Definition can be referenced by other specifications">exported</span> 
      </div>
      <p><b>Referenced in:</b></p>
      <ul>
      <li>Not referenced in this document.</li>
    </ul>
    </div><div class="dfn-panel" hidden="" role="dialog" aria-modal="true" id="dfn-panel-for-dom-smartcarderror-responsecode" aria-label="Links in this document to definition: responseCode">
      <span class="caret"></span>
      <div>
        <a class="self-link" href="#dom-smartcarderror-responsecode" aria-label="Permalink for definition: responseCode. Activate to close this dialog.">Permalink</a>
        <span class="marker dfn-exported" title="Definition can be referenced by other specifications">exported</span> <a class="marker idl-block" title="Jump to IDL declaration" href="#webidl-1271376181">IDL</a>
      </div>
      <p><b>Referenced in:</b></p>
      <ul>
    <li>
      <a href="#ref-for-dom-smartcarderror-responsecode-1" title="§ 6. SmartCardError interface">§ 6. SmartCardError interface</a> <a href="#ref-for-dom-smartcarderror-responsecode-2" title="Reference 2">(2)</a> 
    </li><li>
      <a href="#ref-for-dom-smartcarderror-responsecode-3" title="§ 6.1 SmartCardErrorOptions dictionary">§ 6.1 SmartCardErrorOptions dictionary</a> 
    </li>
  </ul>
    </div><div class="dfn-panel" hidden="" role="dialog" aria-modal="true" id="dfn-panel-for-dfn-corresponding-5" aria-label="Links in this document to definition: corresponding">
      <span class="caret"></span>
      <div>
        <a class="self-link" href="#dfn-corresponding-5" aria-label="Permalink for definition: corresponding. Activate to close this dialog.">Permalink</a>
         
      </div>
      <p><b>Referenced in:</b></p>
      <ul>
    <li>
      <a href="#ref-for-dfn-corresponding-5-1" title="§ 3.1 establishContext() method">§ 3.1 establishContext() method</a> 
    </li><li>
      <a href="#ref-for-dfn-corresponding-5-2" title="§ 4.1 listReaders() method">§ 4.1 listReaders() method</a> 
    </li><li>
      <a href="#ref-for-dfn-corresponding-5-3" title="§ 4.2 getStatusChange() method">§ 4.2 getStatusChange() method</a> 
    </li><li>
      <a href="#ref-for-dfn-corresponding-5-4" title="§ 4.3 connect() method">§ 4.3 connect() method</a> 
    </li><li>
      <a href="#ref-for-dfn-corresponding-5-5" title="§ 5.1 disconnect() method">§ 5.1 disconnect() method</a> 
    </li><li>
      <a href="#ref-for-dfn-corresponding-5-6" title="§ 5.2 transmit() method">§ 5.2 transmit() method</a> 
    </li><li>
      <a href="#ref-for-dfn-corresponding-5-7" title="§ 5.3.2 Auxiliary algorithms and definitions">§ 5.3.2 Auxiliary algorithms and definitions</a> <a href="#ref-for-dfn-corresponding-5-8" title="Reference 2">(2)</a> 
    </li><li>
      <a href="#ref-for-dfn-corresponding-5-9" title="§ 5.4 status() method">§ 5.4 status() method</a> 
    </li>
  </ul>
    </div><div class="dfn-panel" hidden="" role="dialog" aria-modal="true" id="dfn-panel-for-dom-smartcarderroroptions" aria-label="Links in this document to definition: SmartCardErrorOptions">
      <span class="caret"></span>
      <div>
        <a class="self-link" href="#dom-smartcarderroroptions" aria-label="Permalink for definition: SmartCardErrorOptions. Activate to close this dialog.">Permalink</a>
        <span class="marker dfn-exported" title="Definition can be referenced by other specifications">exported</span> <a class="marker idl-block" title="Jump to IDL declaration" href="#webidl-42336405">IDL</a>
      </div>
      <p><b>Referenced in:</b></p>
      <ul>
    <li>
      <a href="#ref-for-dom-smartcarderroroptions-1" title="§ 6. SmartCardError interface">§ 6. SmartCardError interface</a> 
    </li><li>
      <a href="#ref-for-dom-smartcarderroroptions-2" title="§ 6.1 SmartCardErrorOptions dictionary">§ 6.1 SmartCardErrorOptions dictionary</a> 
    </li>
  </ul>
    </div><div class="dfn-panel" hidden="" role="dialog" aria-modal="true" id="dfn-panel-for-dom-smartcarderroroptions-responsecode" aria-label="Links in this document to definition: responseCode">
      <span class="caret"></span>
      <div>
        <a class="self-link" href="#dom-smartcarderroroptions-responsecode" aria-label="Permalink for definition: responseCode. Activate to close this dialog.">Permalink</a>
        <span class="marker dfn-exported" title="Definition can be referenced by other specifications">exported</span> <a class="marker idl-block" title="Jump to IDL declaration" href="#webidl-42336405">IDL</a>
      </div>
      <p><b>Referenced in:</b></p>
      <ul>
    <li>
      <a href="#ref-for-dom-smartcarderroroptions-responsecode-1" title="§ 6.1 SmartCardErrorOptions dictionary">§ 6.1 SmartCardErrorOptions dictionary</a> 
    </li>
  </ul>
    </div><div class="dfn-panel" hidden="" role="dialog" aria-modal="true" id="dfn-panel-for-dom-smartcardresponsecode" aria-label="Links in this document to definition: SmartCardResponseCode">
      <span class="caret"></span>
      <div>
        <a class="self-link" href="#dom-smartcardresponsecode" aria-label="Permalink for definition: SmartCardResponseCode. Activate to close this dialog.">Permalink</a>
        <span class="marker dfn-exported" title="Definition can be referenced by other specifications">exported</span> <a class="marker idl-block" title="Jump to IDL declaration" href="#webidl-1071113654">IDL</a>
      </div>
      <p><b>Referenced in:</b></p>
      <ul>
    <li>
      <a href="#ref-for-dom-smartcardresponsecode-1" title="§ 6. SmartCardError interface">§ 6. SmartCardError interface</a> 
    </li><li>
      <a href="#ref-for-dom-smartcardresponsecode-2" title="§ 6.1 SmartCardErrorOptions dictionary">§ 6.1 SmartCardErrorOptions dictionary</a> 
    </li><li>
      <a href="#ref-for-dom-smartcardresponsecode-3" title="§ 6.2 SmartCardResponseCode enum">§ 6.2 SmartCardResponseCode enum</a> 
    </li>
  </ul>
    </div><div class="dfn-panel" hidden="" role="dialog" aria-modal="true" id="dfn-panel-for-dom-smartcardresponsecode-no-service" aria-label="Links in this document to definition: no-service">
      <span class="caret"></span>
      <div>
        <a class="self-link" href="#dom-smartcardresponsecode-no-service" aria-label="Permalink for definition: no-service. Activate to close this dialog.">Permalink</a>
        <span class="marker dfn-exported" title="Definition can be referenced by other specifications">exported</span> <a class="marker idl-block" title="Jump to IDL declaration" href="#webidl-1071113654">IDL</a>
      </div>
      <p><b>Referenced in:</b></p>
      <ul>
    <li>
      <a href="#ref-for-dom-smartcardresponsecode-no-service-1" title="§ 6. SmartCardError interface">§ 6. SmartCardError interface</a> <a href="#ref-for-dom-smartcardresponsecode-no-service-2" title="Reference 2">(2)</a> <a href="#ref-for-dom-smartcardresponsecode-no-service-3" title="Reference 3">(3)</a> 
    </li><li>
      <a href="#ref-for-dom-smartcardresponsecode-no-service-4" title="§ 6.2 SmartCardResponseCode enum">§ 6.2 SmartCardResponseCode enum</a> 
    </li>
  </ul>
    </div><div class="dfn-panel" hidden="" role="dialog" aria-modal="true" id="dfn-panel-for-dom-smartcardresponsecode-no-smartcard" aria-label="Links in this document to definition: no-smartcard">
      <span class="caret"></span>
      <div>
        <a class="self-link" href="#dom-smartcardresponsecode-no-smartcard" aria-label="Permalink for definition: no-smartcard. Activate to close this dialog.">Permalink</a>
        <span class="marker dfn-exported" title="Definition can be referenced by other specifications">exported</span> <a class="marker idl-block" title="Jump to IDL declaration" href="#webidl-1071113654">IDL</a>
      </div>
      <p><b>Referenced in:</b></p>
      <ul>
    <li>
      <a href="#ref-for-dom-smartcardresponsecode-no-smartcard-1" title="§ 6. SmartCardError interface">§ 6. SmartCardError interface</a> 
    </li><li>
      <a href="#ref-for-dom-smartcardresponsecode-no-smartcard-2" title="§ 6.2 SmartCardResponseCode enum">§ 6.2 SmartCardResponseCode enum</a> 
    </li>
  </ul>
    </div><div class="dfn-panel" hidden="" role="dialog" aria-modal="true" id="dfn-panel-for-dom-smartcardresponsecode-not-ready" aria-label="Links in this document to definition: not-ready">
      <span class="caret"></span>
      <div>
        <a class="self-link" href="#dom-smartcardresponsecode-not-ready" aria-label="Permalink for definition: not-ready. Activate to close this dialog.">Permalink</a>
        <span class="marker dfn-exported" title="Definition can be referenced by other specifications">exported</span> <a class="marker idl-block" title="Jump to IDL declaration" href="#webidl-1071113654">IDL</a>
      </div>
      <p><b>Referenced in:</b></p>
      <ul>
    <li>
      <a href="#ref-for-dom-smartcardresponsecode-not-ready-1" title="§ 6. SmartCardError interface">§ 6. SmartCardError interface</a> 
    </li><li>
      <a href="#ref-for-dom-smartcardresponsecode-not-ready-2" title="§ 6.2 SmartCardResponseCode enum">§ 6.2 SmartCardResponseCode enum</a> 
    </li>
  </ul>
    </div><div class="dfn-panel" hidden="" role="dialog" aria-modal="true" id="dfn-panel-for-dom-smartcardresponsecode-not-transacted" aria-label="Links in this document to definition: not-transacted">
      <span class="caret"></span>
      <div>
        <a class="self-link" href="#dom-smartcardresponsecode-not-transacted" aria-label="Permalink for definition: not-transacted. Activate to close this dialog.">Permalink</a>
        <span class="marker dfn-exported" title="Definition can be referenced by other specifications">exported</span> <a class="marker idl-block" title="Jump to IDL declaration" href="#webidl-1071113654">IDL</a>
      </div>
      <p><b>Referenced in:</b></p>
      <ul>
    <li>
      <a href="#ref-for-dom-smartcardresponsecode-not-transacted-1" title="§ 6. SmartCardError interface">§ 6. SmartCardError interface</a> 
    </li><li>
      <a href="#ref-for-dom-smartcardresponsecode-not-transacted-2" title="§ 6.2 SmartCardResponseCode enum">§ 6.2 SmartCardResponseCode enum</a> 
    </li>
  </ul>
    </div><div class="dfn-panel" hidden="" role="dialog" aria-modal="true" id="dfn-panel-for-dom-smartcardresponsecode-proto-mismatch" aria-label="Links in this document to definition: proto-mismatch">
      <span class="caret"></span>
      <div>
        <a class="self-link" href="#dom-smartcardresponsecode-proto-mismatch" aria-label="Permalink for definition: proto-mismatch. Activate to close this dialog.">Permalink</a>
        <span class="marker dfn-exported" title="Definition can be referenced by other specifications">exported</span> <a class="marker idl-block" title="Jump to IDL declaration" href="#webidl-1071113654">IDL</a>
      </div>
      <p><b>Referenced in:</b></p>
      <ul>
    <li>
      <a href="#ref-for-dom-smartcardresponsecode-proto-mismatch-1" title="§ 6. SmartCardError interface">§ 6. SmartCardError interface</a> 
    </li><li>
      <a href="#ref-for-dom-smartcardresponsecode-proto-mismatch-2" title="§ 6.2 SmartCardResponseCode enum">§ 6.2 SmartCardResponseCode enum</a> 
    </li>
  </ul>
    </div><div class="dfn-panel" hidden="" role="dialog" aria-modal="true" id="dfn-panel-for-dom-smartcardresponsecode-reader-unavailable" aria-label="Links in this document to definition: reader-unavailable">
      <span class="caret"></span>
      <div>
        <a class="self-link" href="#dom-smartcardresponsecode-reader-unavailable" aria-label="Permalink for definition: reader-unavailable. Activate to close this dialog.">Permalink</a>
        <span class="marker dfn-exported" title="Definition can be referenced by other specifications">exported</span> <a class="marker idl-block" title="Jump to IDL declaration" href="#webidl-1071113654">IDL</a>
      </div>
      <p><b>Referenced in:</b></p>
      <ul>
    <li>
      <a href="#ref-for-dom-smartcardresponsecode-reader-unavailable-1" title="§ 6. SmartCardError interface">§ 6. SmartCardError interface</a> 
    </li><li>
      <a href="#ref-for-dom-smartcardresponsecode-reader-unavailable-2" title="§ 6.2 SmartCardResponseCode enum">§ 6.2 SmartCardResponseCode enum</a> 
    </li>
  </ul>
    </div><div class="dfn-panel" hidden="" role="dialog" aria-modal="true" id="dfn-panel-for-dom-smartcardresponsecode-removed-card" aria-label="Links in this document to definition: removed-card">
      <span class="caret"></span>
      <div>
        <a class="self-link" href="#dom-smartcardresponsecode-removed-card" aria-label="Permalink for definition: removed-card. Activate to close this dialog.">Permalink</a>
        <span class="marker dfn-exported" title="Definition can be referenced by other specifications">exported</span> <a class="marker idl-block" title="Jump to IDL declaration" href="#webidl-1071113654">IDL</a>
      </div>
      <p><b>Referenced in:</b></p>
      <ul>
    <li>
      <a href="#ref-for-dom-smartcardresponsecode-removed-card-1" title="§ 6. SmartCardError interface">§ 6. SmartCardError interface</a> 
    </li><li>
      <a href="#ref-for-dom-smartcardresponsecode-removed-card-2" title="§ 6.2 SmartCardResponseCode enum">§ 6.2 SmartCardResponseCode enum</a> 
    </li>
  </ul>
    </div><div class="dfn-panel" hidden="" role="dialog" aria-modal="true" id="dfn-panel-for-dom-smartcardresponsecode-reset-card" aria-label="Links in this document to definition: reset-card">
      <span class="caret"></span>
      <div>
        <a class="self-link" href="#dom-smartcardresponsecode-reset-card" aria-label="Permalink for definition: reset-card. Activate to close this dialog.">Permalink</a>
        <span class="marker dfn-exported" title="Definition can be referenced by other specifications">exported</span> <a class="marker idl-block" title="Jump to IDL declaration" href="#webidl-1071113654">IDL</a>
      </div>
      <p><b>Referenced in:</b></p>
      <ul>
    <li>
      <a href="#ref-for-dom-smartcardresponsecode-reset-card-1" title="§ 6. SmartCardError interface">§ 6. SmartCardError interface</a> 
    </li><li>
      <a href="#ref-for-dom-smartcardresponsecode-reset-card-2" title="§ 6.2 SmartCardResponseCode enum">§ 6.2 SmartCardResponseCode enum</a> 
    </li>
  </ul>
    </div><div class="dfn-panel" hidden="" role="dialog" aria-modal="true" id="dfn-panel-for-dom-smartcardresponsecode-server-too-busy" aria-label="Links in this document to definition: server-too-busy">
      <span class="caret"></span>
      <div>
        <a class="self-link" href="#dom-smartcardresponsecode-server-too-busy" aria-label="Permalink for definition: server-too-busy. Activate to close this dialog.">Permalink</a>
        <span class="marker dfn-exported" title="Definition can be referenced by other specifications">exported</span> <a class="marker idl-block" title="Jump to IDL declaration" href="#webidl-1071113654">IDL</a>
      </div>
      <p><b>Referenced in:</b></p>
      <ul>
    <li>
      <a href="#ref-for-dom-smartcardresponsecode-server-too-busy-1" title="§ 6. SmartCardError interface">§ 6. SmartCardError interface</a> 
    </li><li>
      <a href="#ref-for-dom-smartcardresponsecode-server-too-busy-2" title="§ 6.2 SmartCardResponseCode enum">§ 6.2 SmartCardResponseCode enum</a> 
    </li>
  </ul>
    </div><div class="dfn-panel" hidden="" role="dialog" aria-modal="true" id="dfn-panel-for-dom-smartcardresponsecode-sharing-violation" aria-label="Links in this document to definition: sharing-violation">
      <span class="caret"></span>
      <div>
        <a class="self-link" href="#dom-smartcardresponsecode-sharing-violation" aria-label="Permalink for definition: sharing-violation. Activate to close this dialog.">Permalink</a>
        <span class="marker dfn-exported" title="Definition can be referenced by other specifications">exported</span> <a class="marker idl-block" title="Jump to IDL declaration" href="#webidl-1071113654">IDL</a>
      </div>
      <p><b>Referenced in:</b></p>
      <ul>
    <li>
      <a href="#ref-for-dom-smartcardresponsecode-sharing-violation-1" title="§ 6. SmartCardError interface">§ 6. SmartCardError interface</a> 
    </li><li>
      <a href="#ref-for-dom-smartcardresponsecode-sharing-violation-2" title="§ 6.2 SmartCardResponseCode enum">§ 6.2 SmartCardResponseCode enum</a> 
    </li>
  </ul>
    </div><div class="dfn-panel" hidden="" role="dialog" aria-modal="true" id="dfn-panel-for-dom-smartcardresponsecode-system-cancelled" aria-label="Links in this document to definition: system-cancelled">
      <span class="caret"></span>
      <div>
        <a class="self-link" href="#dom-smartcardresponsecode-system-cancelled" aria-label="Permalink for definition: system-cancelled. Activate to close this dialog.">Permalink</a>
        <span class="marker dfn-exported" title="Definition can be referenced by other specifications">exported</span> <a class="marker idl-block" title="Jump to IDL declaration" href="#webidl-1071113654">IDL</a>
      </div>
      <p><b>Referenced in:</b></p>
      <ul>
    <li>
      <a href="#ref-for-dom-smartcardresponsecode-system-cancelled-1" title="§ 6. SmartCardError interface">§ 6. SmartCardError interface</a> 
    </li><li>
      <a href="#ref-for-dom-smartcardresponsecode-system-cancelled-2" title="§ 6.2 SmartCardResponseCode enum">§ 6.2 SmartCardResponseCode enum</a> 
    </li>
  </ul>
    </div><div class="dfn-panel" hidden="" role="dialog" aria-modal="true" id="dfn-panel-for-dom-smartcardresponsecode-unknown-reader" aria-label="Links in this document to definition: unknown-reader">
      <span class="caret"></span>
      <div>
        <a class="self-link" href="#dom-smartcardresponsecode-unknown-reader" aria-label="Permalink for definition: unknown-reader. Activate to close this dialog.">Permalink</a>
        <span class="marker dfn-exported" title="Definition can be referenced by other specifications">exported</span> <a class="marker idl-block" title="Jump to IDL declaration" href="#webidl-1071113654">IDL</a>
      </div>
      <p><b>Referenced in:</b></p>
      <ul>
    <li>
      <a href="#ref-for-dom-smartcardresponsecode-unknown-reader-1" title="§ 6. SmartCardError interface">§ 6. SmartCardError interface</a> 
    </li><li>
      <a href="#ref-for-dom-smartcardresponsecode-unknown-reader-2" title="§ 6.2 SmartCardResponseCode enum">§ 6.2 SmartCardResponseCode enum</a> 
    </li>
  </ul>
    </div><div class="dfn-panel" hidden="" role="dialog" aria-modal="true" id="dfn-panel-for-dom-smartcardresponsecode-unpowered-card" aria-label="Links in this document to definition: unpowered-card">
      <span class="caret"></span>
      <div>
        <a class="self-link" href="#dom-smartcardresponsecode-unpowered-card" aria-label="Permalink for definition: unpowered-card. Activate to close this dialog.">Permalink</a>
        <span class="marker dfn-exported" title="Definition can be referenced by other specifications">exported</span> <a class="marker idl-block" title="Jump to IDL declaration" href="#webidl-1071113654">IDL</a>
      </div>
      <p><b>Referenced in:</b></p>
      <ul>
    <li>
      <a href="#ref-for-dom-smartcardresponsecode-unpowered-card-1" title="§ 6. SmartCardError interface">§ 6. SmartCardError interface</a> 
    </li><li>
      <a href="#ref-for-dom-smartcardresponsecode-unpowered-card-2" title="§ 6.2 SmartCardResponseCode enum">§ 6.2 SmartCardResponseCode enum</a> 
    </li>
  </ul>
    </div><div class="dfn-panel" hidden="" role="dialog" aria-modal="true" id="dfn-panel-for-dom-smartcardresponsecode-unresponsive-card" aria-label="Links in this document to definition: unresponsive-card">
      <span class="caret"></span>
      <div>
        <a class="self-link" href="#dom-smartcardresponsecode-unresponsive-card" aria-label="Permalink for definition: unresponsive-card. Activate to close this dialog.">Permalink</a>
        <span class="marker dfn-exported" title="Definition can be referenced by other specifications">exported</span> <a class="marker idl-block" title="Jump to IDL declaration" href="#webidl-1071113654">IDL</a>
      </div>
      <p><b>Referenced in:</b></p>
      <ul>
    <li>
      <a href="#ref-for-dom-smartcardresponsecode-unresponsive-card-1" title="§ 6. SmartCardError interface">§ 6. SmartCardError interface</a> 
    </li><li>
      <a href="#ref-for-dom-smartcardresponsecode-unresponsive-card-2" title="§ 6.2 SmartCardResponseCode enum">§ 6.2 SmartCardResponseCode enum</a> 
    </li>
  </ul>
    </div><div class="dfn-panel" hidden="" role="dialog" aria-modal="true" id="dfn-panel-for-dom-smartcardresponsecode-unsupported-card" aria-label="Links in this document to definition: unsupported-card">
      <span class="caret"></span>
      <div>
        <a class="self-link" href="#dom-smartcardresponsecode-unsupported-card" aria-label="Permalink for definition: unsupported-card. Activate to close this dialog.">Permalink</a>
        <span class="marker dfn-exported" title="Definition can be referenced by other specifications">exported</span> <a class="marker idl-block" title="Jump to IDL declaration" href="#webidl-1071113654">IDL</a>
      </div>
      <p><b>Referenced in:</b></p>
      <ul>
    <li>
      <a href="#ref-for-dom-smartcardresponsecode-unsupported-card-1" title="§ 6. SmartCardError interface">§ 6. SmartCardError interface</a> 
    </li><li>
      <a href="#ref-for-dom-smartcardresponsecode-unsupported-card-2" title="§ 6.2 SmartCardResponseCode enum">§ 6.2 SmartCardResponseCode enum</a> 
    </li>
  </ul>
    </div><div class="dfn-panel" hidden="" role="dialog" aria-modal="true" id="dfn-panel-for-dom-smartcardresponsecode-unsupported-feature" aria-label="Links in this document to definition: unsupported-feature">
      <span class="caret"></span>
      <div>
        <a class="self-link" href="#dom-smartcardresponsecode-unsupported-feature" aria-label="Permalink for definition: unsupported-feature. Activate to close this dialog.">Permalink</a>
        <span class="marker dfn-exported" title="Definition can be referenced by other specifications">exported</span> <a class="marker idl-block" title="Jump to IDL declaration" href="#webidl-1071113654">IDL</a>
      </div>
      <p><b>Referenced in:</b></p>
      <ul>
    <li>
      <a href="#ref-for-dom-smartcardresponsecode-unsupported-feature-1" title="§ 6. SmartCardError interface">§ 6. SmartCardError interface</a> 
    </li><li>
      <a href="#ref-for-dom-smartcardresponsecode-unsupported-feature-2" title="§ 6.2 SmartCardResponseCode enum">§ 6.2 SmartCardResponseCode enum</a> 
    </li>
  </ul>
    </div><div class="dfn-panel" hidden="" role="dialog" aria-modal="true" id="dfn-panel-for-dfn-smart-card" aria-label="Links in this document to definition: smart-card">
      <span class="caret"></span>
      <div>
        <a class="self-link" href="#dfn-smart-card" aria-label="Permalink for definition: smart-card. Activate to close this dialog.">Permalink</a>
         
      </div>
      <p><b>Referenced in:</b></p>
      <ul>
    <li>
      <a href="#ref-for-dfn-smart-card-1" title="§ 3.1 establishContext() method">§ 3.1 establishContext() method</a> 
    </li>
  </ul>
    </div><script id="respec-dfn-panel">(() => {
// @ts-check
if (document.respec) {
  document.respec.ready.then(setupPanel);
} else {
  setupPanel();
}

function setupPanel() {
  const listener = panelListener();
  document.body.addEventListener("keydown", listener);
  document.body.addEventListener("click", listener);
}

function panelListener() {
  /** @type {HTMLElement} */
  let panel = null;
  return event => {
    const { target, type } = event;

    if (!(target instanceof HTMLElement)) return;

    // For keys, we only care about Enter key to activate the panel
    // otherwise it's activated via a click.
    if (type === "keydown" && event.key !== "Enter") return;

    const action = deriveAction(event);

    switch (action) {
      case "show": {
        hidePanel(panel);
        /** @type {HTMLElement} */
        const dfn = target.closest("dfn, .index-term");
        panel = document.getElementById(`dfn-panel-for-${dfn.id}`);
        const coords = deriveCoordinates(event);
        displayPanel(dfn, panel, coords);
        break;
      }
      case "dock": {
        panel.style.left = null;
        panel.style.top = null;
        panel.classList.add("docked");
        break;
      }
      case "hide": {
        hidePanel(panel);
        panel = null;
        break;
      }
    }
  };
}

/**
 * @param {MouseEvent|KeyboardEvent} event
 */
function deriveCoordinates(event) {
  const target = /** @type HTMLElement */ (event.target);

  // We prevent synthetic AT clicks from putting
  // the dialog in a weird place. The AT events sometimes
  // lack coordinates, so they have clientX/Y = 0
  const rect = target.getBoundingClientRect();
  if (
    event instanceof MouseEvent &&
    event.clientX >= rect.left &&
    event.clientY >= rect.top
  ) {
    // The event probably happened inside the bounding rect...
    return { x: event.clientX, y: event.clientY };
  }

  // Offset to the middle of the element
  const x = rect.x + rect.width / 2;
  // Placed at the bottom of the element
  const y = rect.y + rect.height;
  return { x, y };
}

/**
 * @param {Event} event
 */
function deriveAction(event) {
  const target = /** @type {HTMLElement} */ (event.target);
  const hitALink = !!target.closest("a");
  if (target.closest("dfn:not([data-cite]), .index-term")) {
    return hitALink ? "none" : "show";
  }
  if (target.closest(".dfn-panel")) {
    if (hitALink) {
      return target.classList.contains("self-link") ? "hide" : "dock";
    }
    const panel = target.closest(".dfn-panel");
    return panel.classList.contains("docked") ? "hide" : "none";
  }
  if (document.querySelector(".dfn-panel:not([hidden])")) {
    return "hide";
  }
  return "none";
}

/**
 * @param {HTMLElement} dfn
 * @param {HTMLElement} panel
 * @param {{ x: number, y: number }} clickPosition
 */
function displayPanel(dfn, panel, { x, y }) {
  panel.hidden = false;
  // distance (px) between edge of panel and the pointing triangle (caret)
  const MARGIN = 20;

  const dfnRects = dfn.getClientRects();
  // Find the `top` offset when the `dfn` can be spread across multiple lines
  let closestTop = 0;
  let minDiff = Infinity;
  for (const rect of dfnRects) {
    const { top, bottom } = rect;
    const diffFromClickY = Math.abs((top + bottom) / 2 - y);
    if (diffFromClickY < minDiff) {
      minDiff = diffFromClickY;
      closestTop = top;
    }
  }

  const top = window.scrollY + closestTop + dfnRects[0].height;
  const left = x - MARGIN;
  panel.style.left = `${left}px`;
  panel.style.top = `${top}px`;

  // Find if the panel is flowing out of the window
  const panelRect = panel.getBoundingClientRect();
  const SCREEN_WIDTH = Math.min(window.innerWidth, window.screen.width);
  if (panelRect.right > SCREEN_WIDTH) {
    const newLeft = Math.max(MARGIN, x + MARGIN - panelRect.width);
    const newCaretOffset = left - newLeft;
    panel.style.left = `${newLeft}px`;
    /** @type {HTMLElement} */
    const caret = panel.querySelector(".caret");
    caret.style.left = `${newCaretOffset}px`;
  }

  // As it's a dialog, we trap focus.
  // TODO: when <dialog> becomes a implemented, we should really
  // use that.
  trapFocus(panel, dfn);
}

/**
 * @param {HTMLElement} panel
 * @param {HTMLElement} dfn
 * @returns
 */
function trapFocus(panel, dfn) {
  /** @type NodeListOf<HTMLAnchorElement> elements */
  const anchors = panel.querySelectorAll("a[href]");
  // No need to trap focus
  if (!anchors.length) return;

  // Move focus to first anchor element
  const first = anchors.item(0);
  first.focus();

  const trapListener = createTrapListener(anchors, panel, dfn);
  panel.addEventListener("keydown", trapListener);

  // Hiding the panel releases the trap
  const mo = new MutationObserver(records => {
    const [record] = records;
    const target = /** @type HTMLElement */ (record.target);
    if (target.hidden) {
      panel.removeEventListener("keydown", trapListener);
      mo.disconnect();
    }
  });
  mo.observe(panel, { attributes: true, attributeFilter: ["hidden"] });
}

/**
 *
 * @param {NodeListOf<HTMLAnchorElement>} anchors
 * @param {HTMLElement} panel
 * @param {HTMLElement} dfn
 * @returns
 */
function createTrapListener(anchors, panel, dfn) {
  const lastIndex = anchors.length - 1;
  let currentIndex = 0;
  return event => {
    switch (event.key) {
      // Hitting "Tab" traps us in a nice loop around elements.
      case "Tab": {
        event.preventDefault();
        currentIndex += event.shiftKey ? -1 : +1;
        if (currentIndex < 0) {
          currentIndex = lastIndex;
        } else if (currentIndex > lastIndex) {
          currentIndex = 0;
        }
        anchors.item(currentIndex).focus();
        break;
      }

      // Hitting "Enter" on an anchor releases the trap.
      case "Enter":
        hidePanel(panel);
        break;

      // Hitting "Escape" returns focus to dfn.
      case "Escape":
        hidePanel(panel);
        dfn.focus();
        return;
    }
  };
}

/** @param {HTMLElement} panel */
function hidePanel(panel) {
  if (!panel) return;
  panel.hidden = true;
  panel.classList.remove("docked");
}
})()</script><script src="https://www.w3.org/scripts/TR/2021/fixup.js"></script></body></html>